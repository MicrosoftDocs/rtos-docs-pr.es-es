---
title: 'Capítulo 1: Introducción al cliente DNS de Azure RTOS NetX Duo'
description: El servicio DNS proporciona una base de datos distribuida que contiene la asignación entre los nombres de dominio y las direcciones IP físicas.
author: philmea
ms.author: philmea
ms.date: 06/04/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 4c07d6e3183d421c637874dcdeff3767554fca78
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 03/22/2021
ms.locfileid: "104814737"
---
# <a name="chapter-1---introduction-to-the-azure-rtos-netx-duo-dns-client"></a><span data-ttu-id="054f6-103">Capítulo 1: Introducción al cliente DNS de Azure RTOS NetX Duo</span><span class="sxs-lookup"><span data-stu-id="054f6-103">Chapter 1 - Introduction to the Azure RTOS NetX Duo DNS Client</span></span>

<span data-ttu-id="054f6-104">El servicio DNS proporciona una base de datos distribuida que contiene la asignación entre los nombres de dominio y las direcciones IP físicas.</span><span class="sxs-lookup"><span data-stu-id="054f6-104">The DNS provides a distributed database that contains mapping between domain names and physical IP addresses.</span></span> <span data-ttu-id="054f6-105">La base de datos se denomina *distribuida* porque no hay ninguna entidad única en Internet que contenga la asignación completa.</span><span class="sxs-lookup"><span data-stu-id="054f6-105">The database is referred to as *distributed* because there is no single entity on the Internet that contains the complete mapping.</span></span> <span data-ttu-id="054f6-106">Una entidad que mantiene una parte de la asignación se denomina "servidor DNS".</span><span class="sxs-lookup"><span data-stu-id="054f6-106">An entity that maintains a portion of the mapping is called a DNS Server.</span></span> <span data-ttu-id="054f6-107">Internet se compone de numerosos servidores DNS, cada uno de los cuales contiene un subconjunto de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="054f6-107">The Internet is composed of numerous DNS Servers, each of which contains a subset of the database.</span></span> <span data-ttu-id="054f6-108">Los servidores DNS también responden a las solicitudes de cliente DNS para la información de asignación de nombres de dominio, pero solo si el servidor en cuestión tiene la asignación solicitada.</span><span class="sxs-lookup"><span data-stu-id="054f6-108">DNS Servers also respond to DNS Client requests for domain name mapping information, only if the server has the requested mapping.</span></span>

<span data-ttu-id="054f6-109">El protocolo de cliente DNS para NetX Duo proporciona a la aplicación servicios para solicitar información de asignación de uno o más servidores DNS.</span><span class="sxs-lookup"><span data-stu-id="054f6-109">The DNS Client protocol for NetX Duo provides the application with services to request mapping information from one or more DNS Servers.</span></span>

## <a name="dns-client-setup"></a><span data-ttu-id="054f6-110">Configuración del cliente DNS</span><span class="sxs-lookup"><span data-stu-id="054f6-110">DNS Client Setup</span></span>

<span data-ttu-id="054f6-111">Para que funcione correctamente, el paquete del cliente DNS requiere que ya se haya creado una instancia de IP de NetX DUO.</span><span class="sxs-lookup"><span data-stu-id="054f6-111">In order to function properly, the DNS Client package requires that a NetX Duo IP instance has already been created.</span></span>

<span data-ttu-id="054f6-112">Después de crear el cliente DNS, la aplicación debe agregar uno o más servidores DNS a la lista de servidores que mantiene el cliente DNS.</span><span class="sxs-lookup"><span data-stu-id="054f6-112">After creating the DNS Client, the application must add one or more DNS servers to the server list maintained by the DNS Client.</span></span> <span data-ttu-id="054f6-113">Para agregar servidores DNS, la aplicación usa el servicio *nxd_dns_server_add*.</span><span class="sxs-lookup"><span data-stu-id="054f6-113">To add DNS servers, the application uses the *nxd_dns_server_add* service.</span></span> <span data-ttu-id="054f6-114">También se puede usar el servicio de cliente DNS de NetX Duo *nx_dns_server_add* para agregar servidores.</span><span class="sxs-lookup"><span data-stu-id="054f6-114">The NetX Duo DNS Client service *nx_dns_server_add* can also be used to add servers.</span></span> <span data-ttu-id="054f6-115">Sin embargo, solo acepta direcciones IPv4 y se recomienda que los desarrolladores usen el servicio de *nxd_dns_server_add* en su lugar.</span><span class="sxs-lookup"><span data-stu-id="054f6-115">However it only accepts IPv4 addresses and it is recommended that developers use the *nxd_dns_server_add* service instead.</span></span>

<span data-ttu-id="054f6-116">Si la opción NX_DNS_IP_GATEWAY_SERVER está habilitada y la dirección de la puerta de enlace de la instancia IP es distinta de cero, la puerta de enlace de la instancia de IP se agrega automáticamente como servidor DNS principal.</span><span class="sxs-lookup"><span data-stu-id="054f6-116">If the NX_DNS_IP_GATEWAY_SERVER option is enabled, and the IP instance gateway address is non zero, the IP instance gateway is automatically added as the primary DNS server.</span></span> <span data-ttu-id="054f6-117">Si no se conoce la información del servidor DNS de forma estática, también se puede derivar a través del Protocolo de configuración dinámica de host (DHCP) para NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="054f6-117">If DNS server information is not statically known, it may also be derived through the Dynamic Host Configuration Protocol (DHCP) for NetX Duo.</span></span> <span data-ttu-id="054f6-118">Consulte la guía de usuario de DHCP de Next Duo para más información.</span><span class="sxs-lookup"><span data-stu-id="054f6-118">Please refer to the NetX Duo DHCP User Guide for more information.</span></span>

<span data-ttu-id="054f6-119">El cliente DNS requiere un grupo de paquetes para la transmisión de mensajes DNS.</span><span class="sxs-lookup"><span data-stu-id="054f6-119">The DNS Client requires a packet pool for transmitting DNS messages.</span></span> <span data-ttu-id="054f6-120">De forma predeterminada, el cliente DNS crea este grupo de paquetes cuando se llama al servicio *nx_dns_create*.</span><span class="sxs-lookup"><span data-stu-id="054f6-120">By default, the DNS Client creates this packet pool when the *nx_dns_create* service is called.</span></span> <span data-ttu-id="054f6-121">Las opciones de configuración NX_DNS_PACKET_PAYLOAD_UNALIGNED y NX_DNS_PACKET_POOL_SIZE permiten que la aplicación determine la carga de paquetes y el tamaño del grupo de paquetes (por ejemplo, el número de paquetes) de este grupo de paquetes, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="054f6-121">The configuration options NX_DNS_PACKET_PAYLOAD_UNALIGNED and NX_DNS_PACKET_POOL_SIZE allow the application to determine the packet payload and packet pool size (e.g. number of packets) of this packet pool respectively.</span></span> <span data-ttu-id="054f6-122">Estas opciones se describen en la sección "Opciones de configuración" del segundo capítulo.</span><span class="sxs-lookup"><span data-stu-id="054f6-122">These options are described in section “Configuration Options” in Chapter Two.</span></span>

<span data-ttu-id="054f6-123">Una alternativa a que el cliente DNS cree su propio grupo de paquetes es que la aplicación cree el grupo de paquetes y lo establezca como el grupo de paquetes del cliente DNS mediante el servicio *nx_dns_packet_pool_set*.</span><span class="sxs-lookup"><span data-stu-id="054f6-123">An alternative to the DNS Client creating its own packet pool is for the application to create the packet pool and set it as the DNS Client’s packet pool using the *nx_dns_packet_pool_set* service.</span></span> <span data-ttu-id="054f6-124">Para ello, se debe definir la opción NX_DNS_CLIENT_USER_CREATE_PACKET_POOL.</span><span class="sxs-lookup"><span data-stu-id="054f6-124">To do so, the NX_DNS_CLIENT_USER_CREATE_PACKET_POOL option must be defined.</span></span> <span data-ttu-id="054f6-125">Esta opción también requiere un grupo de paquetes creado anteriormente mediante *nx_packet_pool_create* como la entrada del puntero del grupo de paquetes para *nx_dns_packet_pool_set*.</span><span class="sxs-lookup"><span data-stu-id="054f6-125">This option also requires a previously created packet pool using *nx_packet_pool_create* as the packet pool pointer input to *nx_dns_packet_pool_set* .</span></span> <span data-ttu-id="054f6-126">Cuando se elimina la instancia del cliente DNS, la aplicación es responsable de eliminar el grupo de paquetes del cliente DNS si se habilita NX_DNS_CLIENT_USER_CREATE_PACKET_POOL y ya no es necesario.</span><span class="sxs-lookup"><span data-stu-id="054f6-126">When the DNS Client instance is deleted, the application is responsible for deleting the DNS Client packet pool if NX_DNS_CLIENT_USER_CREATE_PACKET_POOL is enabled if it is no longer needed.</span></span>

> [!NOTE] 
> <span data-ttu-id="054f6-127">En el caso de las aplicaciones que eligen proporcionar su propio grupo de paquetes mediante la opción de NX_DNS_CLIENT_USER_CREATE_PACKET_POOL, el tamaño del paquete debe poder contener el tamaño de mensaje máximo de DNS (512 bytes) más espacios para el encabezado UDP, el encabezado IPv4 o IPv6 y el encabezado MAC.</span><span class="sxs-lookup"><span data-stu-id="054f6-127">For applications choosing to provide its own packet pool using the NX_DNS_CLIENT_USER_CREATE_PACKET_POOL option, the packet size needs to be able to hold the DNS maximum massage size (512 bytes) plus rooms for UDP header, IPv4 or IPv6 header, and the MAC header.</span></span>

## <a name="dns-messages"></a><span data-ttu-id="054f6-128">Mensajes DNS</span><span class="sxs-lookup"><span data-stu-id="054f6-128">DNS Messages</span></span>

<span data-ttu-id="054f6-129">El servicio DNS tiene un mecanismo muy sencillo para obtener la asignación entre los nombres de host y las direcciones IP.</span><span class="sxs-lookup"><span data-stu-id="054f6-129">The DNS has a very simple mechanism for obtaining mapping between host names and IP addresses.</span></span> <span data-ttu-id="054f6-130">Para obtener una asignación, el cliente DNS prepara un mensaje de consulta DNS que contiene el nombre o la dirección IP que debe resolverse.</span><span class="sxs-lookup"><span data-stu-id="054f6-130">To obtain a mapping, the DNS Client prepares a DNS query message containing the name or the IP address that needs to be resolved.</span></span> <span data-ttu-id="054f6-131">A continuación, el mensaje se envía al primer servidor DNS de la lista de servidores.</span><span class="sxs-lookup"><span data-stu-id="054f6-131">The message is then sent to the first DNS server in the server list.</span></span> <span data-ttu-id="054f6-132">Si el servidor tiene este tipo de asignación, responde al cliente DNS con un mensaje de respuesta DNS que contiene la información de asignación solicitada.</span><span class="sxs-lookup"><span data-stu-id="054f6-132">If the server has such a mapping, it replies to the DNS Client using a DNS response message that contains the requested mapping information.</span></span> <span data-ttu-id="054f6-133">Si el servidor no responde, el cliente DNS consulta el siguiente servidor de la lista hasta que haber consultado todos sus servidores DNS.</span><span class="sxs-lookup"><span data-stu-id="054f6-133">If the server does not respond, the DNS Client queries the next server on its list until all its DNS servers have been queried.</span></span> <span data-ttu-id="054f6-134">Si no recibe ninguna respuesta de ninguno de sus servidores DNS, el cliente DNS tiene lógica de reintento para retransmitir el mensaje DNS.</span><span class="sxs-lookup"><span data-stu-id="054f6-134">If no response from all its DNS servers is received, the DNS Client has retry logic to retransmit the DNS message.</span></span> <span data-ttu-id="054f6-135">Al volver a enviar una consulta DNS, se duplica el tiempo de espera de retransmisión.</span><span class="sxs-lookup"><span data-stu-id="054f6-135">On resending a DNS query, the retransmission timeout is doubled.</span></span> <span data-ttu-id="054f6-136">Este proceso continúa hasta que se alcanza el tiempo de espera de transmisión máximo (definido como NX_DNS_MAX_RETRANS_TIMEOUT en *nxd_dns.h*) o hasta que se obtiene una respuesta correcta de ese servidor.</span><span class="sxs-lookup"><span data-stu-id="054f6-136">This process continues until the maximum transmission timeout (defined as NX_DNS_MAX_RETRANS_TIMEOUT in *nxd_dns.h*) is reached or until a successful response is received from that server is obtained.</span></span>

<span data-ttu-id="054f6-137">El cliente DNS de NetX Duo puede realizar búsquedas de direcciones IPv6 (tipo AAAA) y búsquedas de direcciones IPv4 (tipo A). Para ello, debe especificar la versión de la dirección IP en la llamada *nxd_dns_host_by_name_get*.</span><span class="sxs-lookup"><span data-stu-id="054f6-137">NetX Duo DNS Client can perform both IPv6 address lookups (type AAAA) and IPv4 address lookups (type A) by specifying the version of the IP address in the *nxd_dns_host_by_name_get* call.</span></span> <span data-ttu-id="054f6-138">El cliente DNS puede realizar búsquedas inversas de direcciones IP (consultas de tipo PTR) para obtener los nombres de host web mediante *nxd_dns_host_by_address_get*.</span><span class="sxs-lookup"><span data-stu-id="054f6-138">The DNS Client can perform reverse lookups of IP addresses (type PTR queries) to obtain web host names using *nxd_dns_host_by_address_get*.</span></span> <span data-ttu-id="054f6-139">El cliente DNS de NetX Duo sigue siendo admitiendo *nx_dns_host_by_name_get* y *nx_dns_host_by_address_get*, que son los servicios equivalentes, pero están limitados a la comunicación de red IPv4.</span><span class="sxs-lookup"><span data-stu-id="054f6-139">The NetX Duo DNS Client still supports the *nx_dns_host_by_name_get* and *nx_dns_host_by_address_get* which are the equivalent services but which are limited to IPv4 network communication.</span></span> <span data-ttu-id="054f6-140">Sin embargo, se recomienda a los desarrolladores que porten las aplicaciones cliente DNS existentes a los servicios *nxd_dns_host_by_name_get* y *nxd_dns_host_by_address_get*.</span><span class="sxs-lookup"><span data-stu-id="054f6-140">However, developers are encouraged to port existing DNS Client applications to the *nxd_dns_host_by_name_get* and *nxd_dns_host_by_address_get* services.</span></span>

<span data-ttu-id="054f6-141">La mensajería DNS emplea el protocolo UDP para enviar solicitudes y respuestas de campo.</span><span class="sxs-lookup"><span data-stu-id="054f6-141">DNS messaging utilizes the UDP protocol to send requests and field responses.</span></span> <span data-ttu-id="054f6-142">Un servidor DNS escucha en el número de puerto 53 las consultas de los clientes.</span><span class="sxs-lookup"><span data-stu-id="054f6-142">A DNS Server listens on port number 53 for queries from clients.</span></span> <span data-ttu-id="054f6-143">Por lo tanto, los servicios UDP deben estar habilitados en NetX Duo mediante el servicio ***nx_udp_enable** _ en una instancia de IP creada anteriormente (_*_nx_ip_create_\*\*).</span><span class="sxs-lookup"><span data-stu-id="054f6-143">Therefore UDP services must be enabled in NetX Duo using the ***nx_udp_enable** _ service on a previously created IP instance (_*_nx_ip_create_\*\*).</span></span>

<span data-ttu-id="054f6-144">En este momento, el cliente DNS está listo para aceptar solicitudes de la aplicación y enviar consultas de DNS.</span><span class="sxs-lookup"><span data-stu-id="054f6-144">At this point, the DNS Client is ready to accept requests from the application and send out DNS queries.</span></span>

## <a name="extended-dns-resource-record-types"></a><span data-ttu-id="054f6-145">Tipos de registros de recursos DNS ampliados</span><span class="sxs-lookup"><span data-stu-id="054f6-145">Extended DNS Resource Record Types</span></span>

<span data-ttu-id="054f6-146">Si la opción NX_DNS_ENABLE_EXTENDED_RR_TYPES está habilitada, el cliente DNS de NetX Duo también admite las siguientes consultas de tipo de registro:</span><span class="sxs-lookup"><span data-stu-id="054f6-146">If NX_DNS_ENABLE_EXTENDED_RR_TYPES is enabled, NetX Duo DNS Client also supports the following record type queries:</span></span>

- <span data-ttu-id="054f6-147">CNAME: contiene el nombre canónico de un alias.</span><span class="sxs-lookup"><span data-stu-id="054f6-147">CNAME: contains the canonical name for an alias</span></span>
- <span data-ttu-id="054f6-148">TXT: contiene una cadena de texto.</span><span class="sxs-lookup"><span data-stu-id="054f6-148">TXT: contains a text string</span></span>
- <span data-ttu-id="054f6-149">NS: contiene un servidor de nombres autoritativo.</span><span class="sxs-lookup"><span data-stu-id="054f6-149">NS: contains an authoritative name server</span></span>
- <span data-ttu-id="054f6-150">SOA: contiene el inicio de una zona de autoridad.</span><span class="sxs-lookup"><span data-stu-id="054f6-150">SOA: contains the start of a zone of authority</span></span>
- <span data-ttu-id="054f6-151">MX: se usa para intercambiar correo.</span><span class="sxs-lookup"><span data-stu-id="054f6-151">MX: used for mail exchange</span></span>
- <span data-ttu-id="054f6-152">SRV: contiene información sobre el servicio ofrecido por el dominio.</span><span class="sxs-lookup"><span data-stu-id="054f6-152">SRV: contains information on the service offered by the domain</span></span>

<span data-ttu-id="054f6-153">A excepción de los tipos de registro CNAME y TXT, la aplicación debe proporcionar un búfer alineado de 4 bytes para recibir el registro de datos DNS.</span><span class="sxs-lookup"><span data-stu-id="054f6-153">With the exception of CNAME and TXT record types, the application must supply a 4-byte aligned buffer to receive the DNS data record.</span></span>

<span data-ttu-id="054f6-154">En el cliente DNS de NetX Duo, los datos de registro se almacenan para maximizar la eficiencia del uso del espacio del búfer.</span><span class="sxs-lookup"><span data-stu-id="054f6-154">In NetX Duo DNS Client, record data is stored in such a way to make most efficient use of buffer space.</span></span>

<span data-ttu-id="054f6-155">A continuación se muestra un ejemplo de un búfer de registro de longitud fija (tipo de registro AAAA):</span><span class="sxs-lookup"><span data-stu-id="054f6-155">An example of a record buffer of fixed length (type AAAA record) is shown below:</span></span>

![Búfer de registro de longitud fija](media/image2.png)

<span data-ttu-id="054f6-157">En el caso de las consultas cuyos tipos de registro tienen una longitud de datos variable, como registros NS cuyos nombres de host son de longitud variable, el cliente DNS de NetX Duo guarda los datos como se indica a continuación.</span><span class="sxs-lookup"><span data-stu-id="054f6-157">For those queries whose record types have variable data length, such as NS records whose host names are of variable length, NetX Duo DNS Client saves the data as follows.</span></span> <span data-ttu-id="054f6-158">El búfer proporcionado en la consulta del cliente DNS se organiza en un área de datos de longitud fija y un área de memoria no estructurada.</span><span class="sxs-lookup"><span data-stu-id="054f6-158">The buffer supplied in the DNS Client query is organized into an area of fixed length data and an area of unstructured memory.</span></span> <span data-ttu-id="054f6-159">La parte superior del búfer de memoria se organiza en entradas de registro alineadas de 4 bytes.</span><span class="sxs-lookup"><span data-stu-id="054f6-159">The top of the memory buffer is organized into 4-byte aligned record entries.</span></span> <span data-ttu-id="054f6-160">Cada entrada de registro contiene la dirección IP y un puntero a los datos de longitud variable de esa dirección IP.</span><span class="sxs-lookup"><span data-stu-id="054f6-160">Each record entry contains the IP address and a pointer to the variable length data for that IP address.</span></span> <span data-ttu-id="054f6-161">Los datos de longitud variable de cada dirección IP se almacenan en la memoria del área no estructurada a partir del final del búfer de memoria.</span><span class="sxs-lookup"><span data-stu-id="054f6-161">The variable length data for each IP address are stored in the unstructured area memory starting at the end of the memory buffer.</span></span> <span data-ttu-id="054f6-162">Los datos de longitud variable de cada entrada de registro sucesiva se guardan en la siguiente memoria de área adyacente a los datos de variables de las entradas de registro anteriores.</span><span class="sxs-lookup"><span data-stu-id="054f6-162">The variable length data for each successive record entry is saved in the next area memory adjacent to the previous record entries variable data.</span></span> <span data-ttu-id="054f6-163">Por lo tanto, los datos de la variable "aumentan" hacia el área estructurada de la memoria que contiene las entradas del registro hasta que no hay memoria suficiente para almacenar otra entrada de registro ni datos variables.</span><span class="sxs-lookup"><span data-stu-id="054f6-163">Hence, the variable data ‘grows’ towards the structured area of memory containing the record entries until there is insufficient memory to store another record entry and variable data.</span></span>

<span data-ttu-id="054f6-164">Esto se puede observar en la siguiente ilustración:</span><span class="sxs-lookup"><span data-stu-id="054f6-164">This is shown in the figure below:</span></span>

![Figura 2](media/image3.png)

<span data-ttu-id="054f6-166">El ejemplo del almacenamiento de datos del nombre de dominio DNS (NS) se muestra arriba.</span><span class="sxs-lookup"><span data-stu-id="054f6-166">The example of the DNS domain name (NS) data storage is shown above.</span></span>

<span data-ttu-id="054f6-167">Las consultas de cliente DNS de NetX Duo que usan el formato de almacenamiento de registros devuelven el número de registros guardados en el búfer de registro.</span><span class="sxs-lookup"><span data-stu-id="054f6-167">NetX Duo DNS Client queries using the record storage format return the number of records saved to the record buffer.</span></span> <span data-ttu-id="054f6-168">Esta información permite a la aplicación extraer registros NS del búfer de registro.</span><span class="sxs-lookup"><span data-stu-id="054f6-168">This information enables the application to extract NS records from the record buffer.</span></span>

<span data-ttu-id="054f6-169">A continuación se muestra un ejemplo de una consulta de cliente DNS que almacena datos DNS de longitud variable mediante este formato de almacenamiento de registros:</span><span class="sxs-lookup"><span data-stu-id="054f6-169">An example of a DNS Client query that stores variable length DNS data using this record storage format is shown below:</span></span>

```C
UINT  _nx_dns_domain_name_server_get(NX_DNS *dns_ptr, 
                    UCHAR *host_name, VOID *record_buffer, 
                    UINT buffer_size, UINT *record_count, 
                    ULONG wait_option);
```


<span data-ttu-id="054f6-170">Puede encontrar más detalles en el capítulo 3, "Descripción de los servicios de cliente DNS".</span><span class="sxs-lookup"><span data-stu-id="054f6-170">More details are available in Chapter 3, “Description of DNS Client Services”.</span></span>

## <a name="dns-cache"></a><span data-ttu-id="054f6-171">Caché de DNS</span><span class="sxs-lookup"><span data-stu-id="054f6-171">DNS Cache</span></span>

<span data-ttu-id="054f6-172">Si NX_DNS_CACHE_ENABLE está habilitado, el cliente DNS de NetX Duo es compatible con la característica de caché de DNS.</span><span class="sxs-lookup"><span data-stu-id="054f6-172">If NX_DNS_CACHE_ENABLE is enabled, NetX Duo DNS Client supports the DNS Cache feature.</span></span> <span data-ttu-id="054f6-173">Después de crear el cliente DNS, la aplicación puede llamar a la API *nx_dns_cache_initialize ()* para establecer la memoria caché de DNS especial.</span><span class="sxs-lookup"><span data-stu-id="054f6-173">After creating the DNS Client, the application can call the API *nx_dns_cache_initialize()* to set the special DNS Cache.</span></span> <span data-ttu-id="054f6-174">Si se habilita la característica de caché de DNS, el cliente DNS encontrará la respuesta disponible en la memoria caché de DNS antes de que empiece a enviar la consulta de DNS. Si encuentra la respuesta disponible, devuélvala directamente a la aplicación; de lo contrario, el cliente DNS enviará un mensaje de consulta al servidor DNS y esperará la respuesta.</span><span class="sxs-lookup"><span data-stu-id="054f6-174">If enable DNS Cache feature, DNS Client will find the available answer from DNS Cache before starts to send DNS query, if find the available answer, directly return the answer to application, otherwise DNS Client sends out query message to DNS server and waits for the reply.</span></span> <span data-ttu-id="054f6-175">Cuando el cliente DNS obtiene el mensaje de respuesta y hay disponible una memoria caché libre, el cliente DNS devuelve la respuesta a la aplicación y también la agrega como un registro de recursos a la caché de DNS.</span><span class="sxs-lookup"><span data-stu-id="054f6-175">When DNS Client gets the response message and there is free cache available, DNS Client returns the answer to the application and also adds the answer as resource record into DNS cache.</span></span>

<span data-ttu-id="054f6-176">Cada uno responde a una estructura de datos *NX_DNS_RR* (registro de recursos) en la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="054f6-176">Each answer a data structure *NX_DNS_RR* (Resource Record) in the cache.</span></span> <span data-ttu-id="054f6-177">Las cadenas (nombre y datos del registro de recursos) de los registros son de longitud variable, por lo que no se almacenan en la estructura NX_DNS_RR.</span><span class="sxs-lookup"><span data-stu-id="054f6-177">Strings (resource record name and data) in Records are variable length, therefore are not stored in the NX_DNS_RR structure.</span></span> <span data-ttu-id="054f6-178">El registro contiene punteros a la ubicación de memoria real donde se almacenan las cadenas.</span><span class="sxs-lookup"><span data-stu-id="054f6-178">The Record contains pointers to the actual memory location where the strings are stored.</span></span> <span data-ttu-id="054f6-179">La tabla de cadenas y los registros comparten la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="054f6-179">The string table and the Records share the cache.</span></span> <span data-ttu-id="054f6-180">Los registros se almacenan desde el principio de la memoria caché y aumentan hacia el final de esta.</span><span class="sxs-lookup"><span data-stu-id="054f6-180">Records are stored from the beginning of the cache, and grow towards the end of the cache.</span></span> <span data-ttu-id="054f6-181">La tabla de cadenas comienza desde el final de la memoria caché y aumenta hacia el principio de esta.</span><span class="sxs-lookup"><span data-stu-id="054f6-181">The string table starts from the end of the cache and grows towards the beginning of the cache.</span></span> <span data-ttu-id="054f6-182">Cada cadena de la tabla de cadenas tiene un campo de longitud y un campo de contador.</span><span class="sxs-lookup"><span data-stu-id="054f6-182">Each string in the string table has a length field and a counter field.</span></span> <span data-ttu-id="054f6-183">Cuando se agrega una cadena a la tabla de cadenas, si la misma cadena ya está presente en la tabla, el valor del contador se incrementa y no se asigna ninguna memoria para la cadena.</span><span class="sxs-lookup"><span data-stu-id="054f6-183">When a string is added to the string table, if the same string is already present in the table, the counter value is incremented and no memory is allocated for the string.</span></span> <span data-ttu-id="054f6-184">La memoria caché se considera llena si no se le pueden agregar más registros de recursos ni cadenas nuevas.</span><span class="sxs-lookup"><span data-stu-id="054f6-184">The cache is considered full if no more resource records or new strings can be added to the cache.</span></span>

## <a name="dns-client-limitations"></a><span data-ttu-id="054f6-185">Limitaciones del cliente DNS</span><span class="sxs-lookup"><span data-stu-id="054f6-185">DNS Client Limitations</span></span>

<span data-ttu-id="054f6-186">El cliente DNS admite una solicitud de DNS a la vez.</span><span class="sxs-lookup"><span data-stu-id="054f6-186">The DNS Client supports one DNS request at a time.</span></span> <span data-ttu-id="054f6-187">Los subprocesos que intentan realizar otra solicitud de DNS se bloquean temporalmente hasta que se completa la solicitud de DNS anterior.</span><span class="sxs-lookup"><span data-stu-id="054f6-187">Threads attempting to make another DNS request are temporarily blocked until the previous DNS request is complete.</span></span>

<span data-ttu-id="054f6-188">El cliente DNS de NetX Duo no usa datos de respuestas autoritativas para reenviar consultas de DNS adicionales a otros servidores DNS.</span><span class="sxs-lookup"><span data-stu-id="054f6-188">The NetX Duo DNS Client does not use data from authoritative answers to forward additional DNS queries to other DNS servers.</span></span>

## <a name="dns-rfcs"></a><span data-ttu-id="054f6-189">Documentos RFC de DNS</span><span class="sxs-lookup"><span data-stu-id="054f6-189">DNS RFCs</span></span>

<span data-ttu-id="054f6-190">El servicio DNS de NetX Duo es compatible con los siguientes documentos RFC:</span><span class="sxs-lookup"><span data-stu-id="054f6-190">NetX Duo DNS is compliant with the following RFCs:</span></span>

- <span data-ttu-id="054f6-191">RFC1034 DOMAIN NAMES - CONCEPTS AND FACILITIES (RFC1034: NOMBRES DE DOMINIO. CONCEPTOS E INSTALACIONES)</span><span class="sxs-lookup"><span data-stu-id="054f6-191">RFC1034 DOMAIN NAMES - CONCEPTS AND FACILITIES</span></span>
- <span data-ttu-id="054f6-192">RFC1035 DOMAIN NAMES - IMPLEMENTATION AND SPECIFICATION (RFC1035: NOMBRES DE DOMINIO. IMPLEMENTACIÓN Y ESPECIFICACIÓN)</span><span class="sxs-lookup"><span data-stu-id="054f6-192">RFC1035 DOMAIN NAMES - IMPLEMENTATION AND SPECIFICATION</span></span>
- <span data-ttu-id="054f6-193">RFC1480 The US Domain</span><span class="sxs-lookup"><span data-stu-id="054f6-193">RFC1480 The US Domain</span></span>
- <span data-ttu-id="054f6-194">RFC 2782 A DNS RR for specifying the location of services (DNS SRV) [RFC 2782: Registro de recursos DNS para especificar la ubicación de los servicios (DNS SRV)]</span><span class="sxs-lookup"><span data-stu-id="054f6-194">RFC 2782 A DNS RR for specifying the location of services (DNS SRV)</span></span>
- <span data-ttu-id="054f6-195">RFC 3596 DNS Extensions to Support IP Version 6 [RFC 3596: Extensiones de DNS para admitir IP versión 6]</span><span class="sxs-lookup"><span data-stu-id="054f6-195">RFC 3596 DNS Extensions to Support IP Version 6</span></span>
---
title: 'Capítulo 5: Controladores de red de Azure RTOS NetX Duo'
description: Este capítulo contiene una descripción de los controladores de red para Azure RTOS NetX Duo.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 305c333bf3fb3f6fe76d661426c196afe25fbd5d
ms.sourcegitcommit: 60ad844b58639d88830f2660ab0c4ff86b92c10f
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 04/07/2021
ms.locfileid: "106549800"
---
# <a name="chapter-5---azure-rtos-netx-duo-network-drivers"></a><span data-ttu-id="e8155-103">Capítulo 5: Controladores de red de Azure RTOS NetX Duo</span><span class="sxs-lookup"><span data-stu-id="e8155-103">Chapter 5 - Azure RTOS NetX Duo Network Drivers</span></span>

<span data-ttu-id="e8155-104">Este capítulo contiene una descripción de los controladores de red para Azure RTOS NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="e8155-104">This chapter contains a description of network drivers for Azure RTOS NetX Duo.</span></span> <span data-ttu-id="e8155-105">La información presentada está diseñada para ayudar a los desarrolladores a escribir controladores de red específicos de la aplicación para NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="e8155-105">The information presented is designed to help developers write application-specific network drivers for NetX Duo.</span></span>

## <a name="driver-introduction"></a><span data-ttu-id="e8155-106">Introducción a los controladores</span><span class="sxs-lookup"><span data-stu-id="e8155-106">Driver Introduction</span></span>

<span data-ttu-id="e8155-107">La estructura NX_IP contiene todo lo necesario para administrar una única instancia de IP.</span><span class="sxs-lookup"><span data-stu-id="e8155-107">The NX_IP structure contains everything to manage a single IP instance.</span></span> <span data-ttu-id="e8155-108">Aquí se incluye información general sobre el protocolo TCP/IP, así como la rutina de entrada del controlador de red física específico de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e8155-108">This includes general TCP/IP protocol information as well as the application-specific physical network driver's entry routine.</span></span> <span data-ttu-id="e8155-109">La rutina de entrada del controlador se define durante el servicio de \***nx_ip_create** _.</span><span class="sxs-lookup"><span data-stu-id="e8155-109">The driver's entry routine is defined during the \***nx_ip_create** _ service.</span></span> <span data-ttu-id="e8155-110">Para agregar dispositivos adicionales a la instancia de IP, se usa el servicio _ \*_nx_ip_interface_attach_\*\*.</span><span class="sxs-lookup"><span data-stu-id="e8155-110">Additional devices may be added to the IP instance via the _ *_nx_ip_interface_attach_*\* service.</span></span>

<span data-ttu-id="e8155-111">La comunicación entre NetX Duo y el controlador de red de la aplicación se realiza a través de la estructura de la solicitud de **NX_IP_DRIVER**.</span><span class="sxs-lookup"><span data-stu-id="e8155-111">Communication between NetX Duo and the application's network driver is accomplished through the **NX_IP_DRIVER** request structure.</span></span> <span data-ttu-id="e8155-112">Normalmente, esta estructura se define localmente en la pila del autor de la llamada y, por tanto, se libera después de que se devuelvan tanto el controlador como la función de llamada.</span><span class="sxs-lookup"><span data-stu-id="e8155-112">This structure is most often defined locally on the caller's stack and is therefore released after the driver and calling function return.</span></span> <span data-ttu-id="e8155-113">La estructura se define como se indica a continuación.</span><span class="sxs-lookup"><span data-stu-id="e8155-113">The structure is defined as follows.</span></span>

```c
typedef struct NX_IP_DRIVER_STRUCT
{
      UINT           nx_ip_driver_command;
      UINT           nx_ip_driver_status;
      ULONG          nx_ip_driver_physical_address_msw;
      ULONG          nx_ip_driver_physical_address_lsw;
      NX_PACKET      *nx_ip_driver_packet;
      ULONG          *nx_ip_driver_return_ptr;
      NX_IP          *nx_ip_driver_ptr;
      NX_INTERFACE   *nx_ip_driver_interface;01
} NX_IP_DRIVER;
```
## <a name="driver-entry"></a><span data-ttu-id="e8155-114">Entrada de controlador</span><span class="sxs-lookup"><span data-stu-id="e8155-114">Driver Entry</span></span> 

<span data-ttu-id="e8155-115">NetX Duo invoca la función de entrada del controlador de red no solo para la inicialización del controlador, sino también para enviar paquetes y para diversas operaciones de control y estado, entre las que se incluyen la inicialización y habilitación del dispositivo de red.</span><span class="sxs-lookup"><span data-stu-id="e8155-115">NetX Duo invokes the network driver entry function for driver initialization and for sending packets and for various control and status operations, including initializing and enabling the network device.</span></span> <span data-ttu-id="e8155-116">NetX Duo emite comandos para el controlador de red mediante el establecimiento del campo \***nx_ip_driver_command** _ en la estructura de solicitud _ \*NX_IP_DRIVER\*\*.</span><span class="sxs-lookup"><span data-stu-id="e8155-116">NetX Duo issues commands to the network driver by setting the ***nx_ip_driver_command** _ field in the _ *NX_IP_DRIVER** request structure.</span></span> <span data-ttu-id="e8155-117">La función de entrada del controlador tiene el formato siguiente:</span><span class="sxs-lookup"><span data-stu-id="e8155-117">The driver entry function has the following format:</span></span>

```c
VOID my_driver_entry(NX_IP_DRIVER *request);
```
## <a name="driver-requests"></a><span data-ttu-id="e8155-118">Solicitudes de controlador</span><span class="sxs-lookup"><span data-stu-id="e8155-118">Driver Requests</span></span>

<span data-ttu-id="e8155-119">NetX Duo crea la solicitud de controlador con un comando específico e invoca la función de entrada del controlador para ejecutar el comando.</span><span class="sxs-lookup"><span data-stu-id="e8155-119">NetX Duo creates the driver request with a specific command and invokes the driver entry function to execute the command.</span></span> <span data-ttu-id="e8155-120">Dado que cada controlador de red tiene una sola función de entrada, NetX Duo realiza todas las solicitudes a través de la estructura de datos de la solicitud del controlador.</span><span class="sxs-lookup"><span data-stu-id="e8155-120">Because each network driver has a single entry function, NetX Duo makes all requests through the driver request data structure.</span></span> <span data-ttu-id="e8155-121">El miembro ***nx_ip_driver_command** _ de la estructura de datos de solicitud de controlador ( _*NX_IP_DRIVER\*\*) define la solicitud. La información de estado se devuelve al autor de la llamada en el miembro \**_nx_ip_driver_status_*_.</span><span class="sxs-lookup"><span data-stu-id="e8155-121">The ***nx_ip_driver_command** _ member of the driver request data structure (_*NX_IP_DRIVER\*\*) defines the request. Status information is reported back to the caller in the member \**_nx_ip_driver_status_*_.</span></span> <span data-ttu-id="e8155-122">Si el valor de este campo es _\*NX_SUCCESS\*\*, la solicitud del controlador se completó correctamente.</span><span class="sxs-lookup"><span data-stu-id="e8155-122">If this field is _\*NX_SUCCESS\*\*, the driver request was completed successfully.</span></span>

<span data-ttu-id="e8155-123">NetX Duo serializa todo el acceso al controlador.</span><span class="sxs-lookup"><span data-stu-id="e8155-123">NetX Duo serializes all access to the driver.</span></span> <span data-ttu-id="e8155-124">Por consiguiente, el controlador no necesita controlar varios subprocesos mediante la llamada asincrónica a la función de entrada.</span><span class="sxs-lookup"><span data-stu-id="e8155-124">Therefore, the driver does not need to handle multiple threads asynchronously calling the entry function.</span></span> <span data-ttu-id="e8155-125">Tenga en cuenta que la función de controlador de dispositivo se ejecuta con la exclusión mutua de IP bloqueada.</span><span class="sxs-lookup"><span data-stu-id="e8155-125">Note that the device driver function executes with the IP mutex locked.</span></span> <span data-ttu-id="e8155-126">Por consiguiente, la función interna del controlador de dispositivo no se bloqueará automáticamente.</span><span class="sxs-lookup"><span data-stu-id="e8155-126">Therefore the device driver internal function shall not block itself.</span></span>

<span data-ttu-id="e8155-127">Normalmente, el controlador de dispositivo también controla las interrupciones.</span><span class="sxs-lookup"><span data-stu-id="e8155-127">Typically the device driver also handles interrupts.</span></span> <span data-ttu-id="e8155-128">Por lo tanto, todas las funciones del controlador deben ser seguras en caso de interrupción.</span><span class="sxs-lookup"><span data-stu-id="e8155-128">Therefore, all driver functions need to be interrupt-safe.</span></span>

### <a name="driver-initialization"></a><span data-ttu-id="e8155-129">Inicialización del controlador</span><span class="sxs-lookup"><span data-stu-id="e8155-129">Driver Initialization</span></span>   
<span data-ttu-id="e8155-130">Aunque el procesamiento real de la inicialización del controlador es específico de la aplicación, normalmente consiste en la inicialización de la estructura de datos y el hardware físico.</span><span class="sxs-lookup"><span data-stu-id="e8155-130">Although the actual driver initialization processing is application specific, it usually consists of data structure and physical hardware initialization.</span></span> <span data-ttu-id="e8155-131">La información necesaria de NetX Duo para la inicialización del controlador es la unidad de transmisión máxima (MTU) de IP, que es el número de bytes disponibles para la carga del nivel de IP, incluido el encabezado IPv4 o IPv6, y si la interfaz física necesita una asignación de nombres lógicos a físicos.</span><span class="sxs-lookup"><span data-stu-id="e8155-131">The information required from NetX Duo for driver initialization is the IP Maximum Transmission Unit (MTU), which is the number of bytes available to the IP-layer payload, including IPv4 or IPv6 header) and if the physical interface needs logical-to-physical mapping.</span></span> <span data-ttu-id="e8155-132">El controlador configura el valor de MTU de la interfaz mediante una llamada a ***nx_ip_interface_mtu_set***.</span><span class="sxs-lookup"><span data-stu-id="e8155-132">The driver configures the interface MTU value by calling ***nx_ip_interface_mtu_set***.</span></span>

<span data-ttu-id="e8155-133">El controlador de dispositivo debe llamar a \***nx_ip_interface_address_mapping_configure** _ para indicar a NetX Duo si se requiere o no la asignación de direcciones de interfaz.</span><span class="sxs-lookup"><span data-stu-id="e8155-133">The device driver needs to call \***nx_ip_interface_address_mapping_configure** _ to inform NetX Duo whether or not interface address mapping is required.</span></span> <span data-ttu-id="e8155-134">Si es necesaria la asignación de direcciones, el controlador es responsable de configurar la interfaz con una dirección MAC válida y de proporcionar la dirección MAC a NetX mediante _\*_nx_ip_interface_physical_address_set_\*\*.</span><span class="sxs-lookup"><span data-stu-id="e8155-134">If address mapping is needed, the driver is responsible for configuring the interface with valid MAC address, and supply the MAC address to NetX via _\*_nx_ip_interface_physical_address_set_\*\*.</span></span>

<span data-ttu-id="e8155-135">Cuando el controlador de red recibe la solicitud NX_LINK INITIALIZE de NetX Duo, recibe un puntero al bloque de control de IP como parte del bloque de control de la solicitud NX_IP_DRIVER mostrado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="e8155-135">When the network driver receives the NX_LINK INITIALIZE request from NetX Duo, it receives a pointer to the IP control block as part of the NX_IP_DRIVER request control block shown above.</span></span>

<span data-ttu-id="e8155-136">Una vez que la aplicación llama a ***nx_ip_create***, el subproceso auxiliar de IP envía una solicitud de controlador con el comando establecido en NX_LINK_INITIALIZE al controlador para inicializar su interfaz de red física.</span><span class="sxs-lookup"><span data-stu-id="e8155-136">After the application calls ***nx_ip_create***, the IP helper thread sends a driver request with the command set to NX_LINK_INITIALIZE to the driver to initialize its physical network interface.</span></span> <span data-ttu-id="e8155-137">Se utilizan los siguientes miembros de NX_IP_DRIVER para la solicitud de inicialización.</span><span class="sxs-lookup"><span data-stu-id="e8155-137">The following NX_IP_DRIVER members are used for the initialize request.</span></span>

| <span data-ttu-id="e8155-138">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-138">NX_IP_DRIVER&nbsp;member</span></span> | <span data-ttu-id="e8155-139">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-139">Meaning</span></span>    |
| ------------------------- | ----------------------------- |
| <span data-ttu-id="e8155-140">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-140">nx_ip_driver_command</span></span>   | <span data-ttu-id="e8155-141">NX_LINK_INITIALIZE</span><span class="sxs-lookup"><span data-stu-id="e8155-141">NX_LINK_INITIALIZE</span></span>    |
| <span data-ttu-id="e8155-142">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-142">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="e8155-143">Puntero a la instancia de IP.</span><span class="sxs-lookup"><span data-stu-id="e8155-143">Pointer to the IP instance.</span></span> <span data-ttu-id="e8155-144">El controlador debe guardar este valor para que la función de controlador pueda encontrar la instancia de IP en la que se va a operar.</span><span class="sxs-lookup"><span data-stu-id="e8155-144">This value should be saved by the driver so that the driver function can find the IP instance to operate on.</span></span>    |
| <span data-ttu-id="e8155-145">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-145">nx_ip_driver_interface</span></span> | <span data-ttu-id="e8155-146">Puntero a la estructura de la interfaz de red dentro de la instancia de IP.</span><span class="sxs-lookup"><span data-stu-id="e8155-146">Pointer to the network interface structure within the IP instance.</span></span> <span data-ttu-id="e8155-147">El controlador debe guardar esta información.</span><span class="sxs-lookup"><span data-stu-id="e8155-147">This information should be saved by the driver.</span></span> <span data-ttu-id="e8155-148">Al recibir paquetes, el controlador utilizará la información de la estructura de la interfaz al enviar el paquete hacia arriba en la pila.</span><span class="sxs-lookup"><span data-stu-id="e8155-148">On receiving packets, the driver shall use the interface structure information when sending the packet up the stack.</span></span> <span data-ttu-id="e8155-149">El índice de interfaz (índice de dispositivo) se puede obtener mediante la lectura de nx_interface_index del miembro en esta estructura de datos.</span><span class="sxs-lookup"><span data-stu-id="e8155-149">The interface index (device index) can be obtained by reading the member nx_interface_index inside this data structure.</span></span> |
| <span data-ttu-id="e8155-150">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-150">nx_ip_driver_status</span></span>    | <span data-ttu-id="e8155-151">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-151">Completion status.</span></span> <span data-ttu-id="e8155-152">Si el controlador no puede inicializar la interfaz especificada en la instancia de IP, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-152">If the driver is not able to initialize the specified interface to the IP instance, it will return a nonzero error status.</span></span> |


> [!NOTE]  
> <span data-ttu-id="e8155-153">*Se llama al controlador desde el subproceso auxiliar de IP que se creó para la instancia de IP. Por consiguiente, la rutina del controlador debe evitar realizar operaciones de bloqueo, ya que el subproceso auxiliar de IP podría detenerse y causar retrasos ilimitados en las aplicaciones que se basan en el subproceso de IP.*</span><span class="sxs-lookup"><span data-stu-id="e8155-153">*The driver is actually called from the IP helper thread that was created for the IP instance. Therefore the driver routine should avoid performing blocking operations, or the IP helper thread could stall, causing unbounded delays to applications that rely on the IP thread*.</span></span>

### <a name="enable-link"></a><span data-ttu-id="e8155-154">Habilitar vínculo</span><span class="sxs-lookup"><span data-stu-id="e8155-154">Enable Link</span></span>   
<span data-ttu-id="e8155-155">A continuación, el subproceso auxiliar de IP habilita la red física, para lo cual establece el comando driver en NX_LINK_ENABLE en la solicitud del controlador y envía la solicitud al controlador de red.</span><span class="sxs-lookup"><span data-stu-id="e8155-155">Next, the IP helper thread enables the physical network by setting the driver command to NX_LINK_ENABLE in the driver request and sending the request to the network driver.</span></span> <span data-ttu-id="e8155-156">Esto sucede poco después de que el subproceso auxiliar de IP complete la solicitud de inicialización.</span><span class="sxs-lookup"><span data-stu-id="e8155-156">This happens shortly after the IP helper thread completes the initialization request.</span></span> <span data-ttu-id="e8155-157">Habilitar el vínculo puede ser tan sencillo como establecer el campo *nx_interface_link_up* en la instancia de la interfaz.</span><span class="sxs-lookup"><span data-stu-id="e8155-157">Enabling the link may be as simple as setting the *nx_interface_link_up* field in the interface instance.</span></span> <span data-ttu-id="e8155-158">Pero también puede implicar la manipulación del hardware físico.</span><span class="sxs-lookup"><span data-stu-id="e8155-158">But it may also involve manipulation of the physical hardware.</span></span> <span data-ttu-id="e8155-159">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud de habilitación del vínculo.</span><span class="sxs-lookup"><span data-stu-id="e8155-159">The following NX_IP_DRIVER members are used for the enable link request.</span></span>

| <span data-ttu-id="e8155-160">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-160">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="e8155-161">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-161">Meaning</span></span>                      |
| ------------------------- | ---------------------------- |
| <span data-ttu-id="e8155-162">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-162">nx_ip_driver_command</span></span>   | <span data-ttu-id="e8155-163">NX_LINK_ENABLE</span><span class="sxs-lookup"><span data-stu-id="e8155-163">NX_LINK_ENABLE</span></span>   |
| <span data-ttu-id="e8155-164">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-164">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="e8155-165">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-165">Pointer to IP instance</span></span>  |
| <span data-ttu-id="e8155-166">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-166">nx_ip_driver_interface</span></span> | <span data-ttu-id="e8155-167">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-167">Pointer to the interface instance</span></span> |
| <span data-ttu-id="e8155-168">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-168">nx_ip_driver_status</span></span>    | <span data-ttu-id="e8155-169">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-169">Completion status.</span></span> <span data-ttu-id="e8155-170">Si el controlador no puede habilitar la interfaz especificada, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-170">If the driver is not able to enable the specified interface, it will return a non-zero error status.</span></span> |

### <a name="disable-link"></a><span data-ttu-id="e8155-171">Deshabilitar vínculo</span><span class="sxs-lookup"><span data-stu-id="e8155-171">Disable Link</span></span>   
<span data-ttu-id="e8155-172">NetX Duo realiza esta solicitud cuando el servicio \***nx_ip_delete** elimina una instancia de IP.</span><span class="sxs-lookup"><span data-stu-id="e8155-172">This request is made by NetX Duo during the deletion of an IP instance by the \***nx_ip_delete** _ service.</span></span> <span data-ttu-id="e8155-173">O bien, una aplicación puede emitir este comando para deshabilitar temporalmente el vínculo a fin de ahorrar energía.</span><span class="sxs-lookup"><span data-stu-id="e8155-173">Or an application may issue this command in order to temporarily disable the link in order to save power.</span></span> <span data-ttu-id="e8155-174">Este servicio deshabilita la interfaz de red física en la instancia de IP.</span><span class="sxs-lookup"><span data-stu-id="e8155-174">This service disables the physical network interface on the IP instance.</span></span> <span data-ttu-id="e8155-175">El procesamiento para deshabilitar el vínculo puede ser tan sencillo como borrar la marca _nx_interface_link_up\* en la instancia de la interfaz. Pero también puede implicar la manipulación del hardware físico. Normalmente es una operación inversa de la operación \***Habilitar vínculo**_.</span><span class="sxs-lookup"><span data-stu-id="e8155-175">The processing to disable the link may be as simple as clearing the _nx_interface_link_up\* flag in the interface instance. But it may also involve manipulation of the physical hardware. Typically it is a reverse operation of the \***Enable Link**_ operation.</span></span> <span data-ttu-id="e8155-176">Una vez que se deshabilita el vínculo, la aplicación solicita la operación _ *_Habilitar vínculo_*\* para habilitar la interfaz.</span><span class="sxs-lookup"><span data-stu-id="e8155-176">After the link is disabled, the application request _ *_Enable Link_*\* operation to enable the interface.</span></span>

<span data-ttu-id="e8155-177">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud de deshabilitación del vínculo.</span><span class="sxs-lookup"><span data-stu-id="e8155-177">The following NX_IP_DRIVER members are used for the disable link request.</span></span>

| <span data-ttu-id="e8155-178">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-178">NX_IP_DRIVER&nbsp;member</span></span>     | <span data-ttu-id="e8155-179">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-179">Meaning</span></span>                      |
| ------------------------- | ---------------------------- |
| <span data-ttu-id="e8155-180">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-180">nx_ip_driver_command</span></span>   | <span data-ttu-id="e8155-181">NX_LINK_DISABLE</span><span class="sxs-lookup"><span data-stu-id="e8155-181">NX_LINK_DISABLE</span></span>    |
| <span data-ttu-id="e8155-182">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-182">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="e8155-183">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-183">Pointer to IP instance</span></span>   |
| <span data-ttu-id="e8155-184">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-184">nx_ip_driver_interface</span></span> | <span data-ttu-id="e8155-185">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-185">Pointer to the interface instance</span></span>   |
| <span data-ttu-id="e8155-186">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-186">nx_ip_driver_status</span></span>    | <span data-ttu-id="e8155-187">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-187">Completion status.</span></span> <span data-ttu-id="e8155-188">Si el controlador no puede deshabilitar la interfaz especificada en la instancia de IP, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-188">If the driver is not able to disable the specified interface in the IP instance, it will return a non-zero error status.</span></span> |

### <a name="uninitialize-link"></a><span data-ttu-id="e8155-189">Anular inicialización de vínculo</span><span class="sxs-lookup"><span data-stu-id="e8155-189">Uninitialize Link</span></span>   
<span data-ttu-id="e8155-190">NetX Duo realiza esta solicitud cuando el servicio \***nx_ip_delete** elimina una instancia de IP.</span><span class="sxs-lookup"><span data-stu-id="e8155-190">This request is made by NetX Duo during the deletion of an IP instance by the \***nx_ip_delete** _ service.</span></span> <span data-ttu-id="e8155-191">Esta solicitud anula la inicialización de la interfaz y libera los recursos creados durante la fase de inicialización.</span><span class="sxs-lookup"><span data-stu-id="e8155-191">This request uninitialize the interface, and release any resources created during initialization phase.</span></span> <span data-ttu-id="e8155-192">Normalmente es la operación inversa de la operación de _ \*_inicialización de vínculo_\*\*.</span><span class="sxs-lookup"><span data-stu-id="e8155-192">Typically it is a reverse operation of the _ *_Initialize Link_*\* operation.</span></span> <span data-ttu-id="e8155-193">Una vez que se anula la inicialización de la interfaz, el dispositivo no se puede usar hasta que la interfaz se vuelve a inicializar.</span><span class="sxs-lookup"><span data-stu-id="e8155-193">After the interface is uninitalized, the device cannot be used until the interface is initialized again.</span></span>

<span data-ttu-id="e8155-194">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud de deshabilitación del vínculo.</span><span class="sxs-lookup"><span data-stu-id="e8155-194">The following NX_IP_DRIVER members are used for the disable link request.</span></span>

| <span data-ttu-id="e8155-195">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-195">NX_IP_DRIVER&nbsp;member</span></span>    | <span data-ttu-id="e8155-196">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-196">Meaning</span></span>                  |
|------------------------|--------------------------|
| <span data-ttu-id="e8155-197">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-197">nx_ip_driver_command</span></span>   | <span data-ttu-id="e8155-198">NX_LINK_UNINITIALZE</span><span class="sxs-lookup"><span data-stu-id="e8155-198">NX_LINK_UNINITIALZE</span></span>      |
| <span data-ttu-id="e8155-199">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-199">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="e8155-200">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-200">Pointer to IP instance</span></span>   |
| <span data-ttu-id="e8155-201">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-201">nx_ip_driver_interface</span></span> | <span data-ttu-id="e8155-202">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-202">Pointer to the interface instance</span></span> |
| <span data-ttu-id="e8155-203">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-203">nx_ip_driver_status</span></span>    | <span data-ttu-id="e8155-204">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-204">Completion status.</span></span> <span data-ttu-id="e8155-205">Si el controlador no puede anular la inicialización de la interfaz especificada en la instancia de IP, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-205">If the driver is not able to uninitialize the specified interface to the IP instance, it will return a non-zero error status.</span></span> |

### <a name="packet-send"></a><span data-ttu-id="e8155-206">Envío de paquetes</span><span class="sxs-lookup"><span data-stu-id="e8155-206">Packet Send</span></span>   
<span data-ttu-id="e8155-207">Esta solicitud se realiza durante el procesamiento de envío de IPv4 o IPv6 interno, que todos los protocolos de NetX Duo usan para transmitir paquetes (excepto ARP y RARP).</span><span class="sxs-lookup"><span data-stu-id="e8155-207">This request is made during internal IPv4 or IPv6 send processing, which all NetX Duo protocols use to transmit packets (except for ARP, RARP).</span></span> <span data-ttu-id="e8155-208">Al recibir el comando de envío de paquetes, *nx_packet_prepend_ptr* apunta al principio del paquete que se va a enviar, que es el principio del encabezado de IPv4 o IPv6.</span><span class="sxs-lookup"><span data-stu-id="e8155-208">On receiving the packet send command, the *nx_packet_prepend_ptr* points to the beginning of the packet to be sent, which is the beginning of the IPv4 or IPv6 header.</span></span> <span data-ttu-id="e8155-209">*nx_packet_length* indica el tamaño total (en bytes) de los datos que se transmiten.</span><span class="sxs-lookup"><span data-stu-id="e8155-209">*nx_packet_length* indicates the total size (in bytes) of the data being transmitted.</span></span> <span data-ttu-id="e8155-210">Si *nx_packet_next* es válido, el datagrama de IP saliente se almacena en varios paquetes, y el controlador debe seguir el paquete encadenado y transmitir todo el marco.</span><span class="sxs-lookup"><span data-stu-id="e8155-210">If *nx_packet_next* is valid, the outgoing IP datagram is stored in multiple packets, the driver is required to follow the chained packet and transmit the entire frame.</span></span> <span data-ttu-id="e8155-211">Tenga en cuenta que el área de datos válida de cada paquete encadenado se almacena entre *nx_packet_prepend_ptr* y *nx_packet_append_ptr*.</span><span class="sxs-lookup"><span data-stu-id="e8155-211">Note that valid data area in each chained packet is stored between *nx_packet_prepend_ptr* and *nx_packet_append_ptr*.</span></span>

<span data-ttu-id="e8155-212">El controlador es responsable de construir un encabezado físico.</span><span class="sxs-lookup"><span data-stu-id="e8155-212">The driver is responsible for constructing physical header.</span></span> <span data-ttu-id="e8155-213">Si se requiere la asignación de una dirección física a una dirección IP (como Ethernet), el nivel de IP ya resolvió la dirección MAC.</span><span class="sxs-lookup"><span data-stu-id="e8155-213">If physical address to IP address mapping is required (such as Ethernet), the IP layer already resolved the MAC address.</span></span> <span data-ttu-id="e8155-214">La dirección MAC de destino se pasa desde la instancia de IP, almacenada en *nx_ip_driver_physical_address_msw y nx_ip_driver_physical_address_lsw*.</span><span class="sxs-lookup"><span data-stu-id="e8155-214">The destination MAC address is passed from the IP instance, stored in *nx_ip_driver_physical_address_msw and nx_ip_driver_physical_address_lsw*.</span></span>

<span data-ttu-id="e8155-215">Después de agregar el encabezado físico, el procesamiento de envío de paquetes llama a la función de salida del controlador para transmitir el paquete.</span><span class="sxs-lookup"><span data-stu-id="e8155-215">After adding the physical header, the packet send processing then calls the driver's output function to transmit the packet.</span></span>

<span data-ttu-id="e8155-216">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud de envío del paquete.</span><span class="sxs-lookup"><span data-stu-id="e8155-216">The following NX_IP_DRIVER members are used for the packet send request.</span></span>

| <span data-ttu-id="e8155-217">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-217">NX_IP_DRIVER&nbsp;member</span></span>              | <span data-ttu-id="e8155-218">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-218">Meaning</span></span>                               |
| -----------------------------------| --------------------------------------|
| <span data-ttu-id="e8155-219">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-219">nx_ip_driver_command</span></span>            | <span data-ttu-id="e8155-220">NX_LINK_PACKET_SEND</span><span class="sxs-lookup"><span data-stu-id="e8155-220">NX_LINK_PACKET_SEND</span></span>                |
| <span data-ttu-id="e8155-221">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-221">nx_ip_driver_ptr</span></span>                | <span data-ttu-id="e8155-222">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-222">Pointer to IP instance</span></span>                |
| <span data-ttu-id="e8155-223">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="e8155-223">nx_ip_driver_packet</span></span>             | <span data-ttu-id="e8155-224">Puntero al paquete que se va a enviar</span><span class="sxs-lookup"><span data-stu-id="e8155-224">Pointer to the packet to send</span></span>         |
| <span data-ttu-id="e8155-225">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-225">nx_ip_driver_interface</span></span>          | <span data-ttu-id="e8155-226">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-226">Pointer to the interface instance.</span></span>    |
| <span data-ttu-id="e8155-227">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="e8155-227">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="e8155-228">32 bits de la dirección física más significativos (solo si se requiere asignación física)</span><span class="sxs-lookup"><span data-stu-id="e8155-228">Most significant 32-bits of physical address (only if physical mapping needed)</span></span> |
| <span data-ttu-id="e8155-229">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="e8155-229">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="e8155-230">32 bits de la dirección física menos significativos (solo si se requiere asignación física)</span><span class="sxs-lookup"><span data-stu-id="e8155-230">Least significant 32-bits of physical address (only if physical mapping needed)</span></span> |
| <span data-ttu-id="e8155-231">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-231">nx_ip_driver_status</span></span>             | <span data-ttu-id="e8155-232">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-232">Completion status.</span></span> <span data-ttu-id="e8155-233">Si el controlador no puede enviar el paquete, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-233">If the driver is not able to send the packet, it will return a non-zero error status.</span></span> |

### <a name="packet-broadcastipv4-packets-only"></a><span data-ttu-id="e8155-234">Difusión de paquetes (solo paquetes IPv4)</span><span class="sxs-lookup"><span data-stu-id="e8155-234">Packet Broadcast(IPv4 packets only)</span></span>  
<span data-ttu-id="e8155-235">Esta solicitud es casi idéntica a la solicitud de envío de paquetes.</span><span class="sxs-lookup"><span data-stu-id="e8155-235">This request is almost identical to the send packet request.</span></span> <span data-ttu-id="e8155-236">La única diferencia es que los campos de dirección física de destino se establecen en la dirección MAC de difusión Ethernet.</span><span class="sxs-lookup"><span data-stu-id="e8155-236">The only difference is that the destination physical address fields are set to the Ethernet broadcast MAC address.</span></span> <span data-ttu-id="e8155-237">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud de difusión de paquetes.</span><span class="sxs-lookup"><span data-stu-id="e8155-237">The following NX_IP_DRIVER members are used for the packet broadcast request.</span></span>

| <span data-ttu-id="e8155-238">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-238">NX_IP_DRIVER&nbsp;member</span></span>                | <span data-ttu-id="e8155-239">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-239">Meaning</span></span>                                                                                                  |
|------------------------------------|----------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e8155-240">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-240">nx_ip_driver_command</span></span>               | <span data-ttu-id="e8155-241">NX_LINK_PACKET_BROADCAST</span><span class="sxs-lookup"><span data-stu-id="e8155-241">NX_LINK_PACKET_BROADCAST</span></span>                                                                                 |
| <span data-ttu-id="e8155-242">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-242">nx_ip_driver_ptr</span></span>                   | <span data-ttu-id="e8155-243">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-243">Pointer to IP instance</span></span>                                                                                   |
| <span data-ttu-id="e8155-244">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="e8155-244">nx_ip_driver_packet</span></span>                | <span data-ttu-id="e8155-245">Puntero al paquete que se va a enviar</span><span class="sxs-lookup"><span data-stu-id="e8155-245">Pointer to the packet to send</span></span>                                                                            |
| <span data-ttu-id="e8155-246">nx_ip_driver_physical_address_ms w</span><span class="sxs-lookup"><span data-stu-id="e8155-246">nx_ip_driver_physical_address_ms w</span></span> | <span data-ttu-id="e8155-247">0x0000FFFF (difusión)</span><span class="sxs-lookup"><span data-stu-id="e8155-247">0x0000FFFF (broadcast)</span></span>                                                                                   |
| <span data-ttu-id="e8155-248">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="e8155-248">nx_ip_driver_physical_address_lsw</span></span>  | <span data-ttu-id="e8155-249">0xFFFFFFFF (difusión)</span><span class="sxs-lookup"><span data-stu-id="e8155-249">0xFFFFFFFF (broadcast)</span></span>                                                                                   |
| <span data-ttu-id="e8155-250">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-250">nx_ip_driver_interface</span></span>             | <span data-ttu-id="e8155-251">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-251">Pointer to the interface instance.</span></span>                                                                       |
| <span data-ttu-id="e8155-252">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-252">nx_ip_driver_status</span></span>                | <span data-ttu-id="e8155-253">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-253">Completion status.</span></span> <span data-ttu-id="e8155-254">Si el controlador no puede enviar el paquete, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-254">If the driver is not able to send the packet, it will return a non-zero error status.</span></span> |

### <a name="arp-send"></a><span data-ttu-id="e8155-255">Envío de ARP</span><span class="sxs-lookup"><span data-stu-id="e8155-255">ARP Send</span></span>  
<span data-ttu-id="e8155-256">Esta solicitud también es similar a la solicitud de envío de paquetes IP.</span><span class="sxs-lookup"><span data-stu-id="e8155-256">This request is also similar to the IP packet send request.</span></span> <span data-ttu-id="e8155-257">La única diferencia es que el encabezado Ethernet especifica un paquete ARP, en lugar de un paquete IP, y los campos de dirección física de destino se establecen en dirección de difusión MAC.</span><span class="sxs-lookup"><span data-stu-id="e8155-257">The only difference is that the Ethernet header specifies an ARP packet instead of an IP packet, and destination physical address fields are set to MAC broadcast address.</span></span> <span data-ttu-id="e8155-258">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud de envío de ARP.</span><span class="sxs-lookup"><span data-stu-id="e8155-258">The following NX_IP_DRIVER members are used for the ARP send request.</span></span>

| <span data-ttu-id="e8155-259">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-259">NX_IP_DRIVER&nbsp;member</span></span>                | <span data-ttu-id="e8155-260">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-260">Meaning</span></span>                                                                                                      |
|------------------------------------|--------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e8155-261">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-261">nx_ip_driver_command</span></span>               | <span data-ttu-id="e8155-262">NX_LINK_ARP_SEND</span><span class="sxs-lookup"><span data-stu-id="e8155-262">NX_LINK_ARP_SEND</span></span>                                                                                             |
| <span data-ttu-id="e8155-263">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-263">nx_ip_driver_ptr</span></span>                   | <span data-ttu-id="e8155-264">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-264">Pointer to IP instance</span></span>                                                                                       |
| <span data-ttu-id="e8155-265">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="e8155-265">nx_ip_driver_packet</span></span>                | <span data-ttu-id="e8155-266">Puntero al paquete que se va a enviar</span><span class="sxs-lookup"><span data-stu-id="e8155-266">Pointer to the packet to send</span></span>                                                                                |
| <span data-ttu-id="e8155-267">nx_ip_driver_physical_address_ms w</span><span class="sxs-lookup"><span data-stu-id="e8155-267">nx_ip_driver_physical_address_ms w</span></span> | <span data-ttu-id="e8155-268">0x0000FFFF (difusión)</span><span class="sxs-lookup"><span data-stu-id="e8155-268">0x0000FFFF (broadcast)</span></span>                                                                                       |
| <span data-ttu-id="e8155-269">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="e8155-269">nx_ip_driver_physical_address_lsw</span></span>  | <span data-ttu-id="e8155-270">0xFFFFFFFF (difusión)</span><span class="sxs-lookup"><span data-stu-id="e8155-270">0xFFFFFFFF (broadcast)</span></span>                                                                                       |
| <span data-ttu-id="e8155-271">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-271">nx_ip_driver_interface</span></span>             | <span data-ttu-id="e8155-272">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-272">Pointer to the interface instance.</span></span>                                                                           |
| <span data-ttu-id="e8155-273">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-273">nx_ip_driver_status</span></span>                | <span data-ttu-id="e8155-274">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-274">Completion status.</span></span> <span data-ttu-id="e8155-275">Si el controlador no puede enviar el paquete ARP, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-275">If the driver is not able to send the ARP packet, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="e8155-276">*Si no se necesita la asignación física, no es preciso implementar esta solicitud.*</span><span class="sxs-lookup"><span data-stu-id="e8155-276">*If physical mapping is not needed, implementation of this request is not required*.</span></span>

<span data-ttu-id="e8155-277">*Aunque ARP se reemplazó por el protocolo de detección de equipos cercanos y el protocolo de detección de enrutadores en IPv6, los controladores de red Ethernet deben seguir siendo compatibles con los enrutadores y los nodos del mismo nivel de IPv4. Por lo tanto, los controladores deben seguir controlando los paquetes ARP*.</span><span class="sxs-lookup"><span data-stu-id="e8155-277">*Although ARP has been replaced with the Neighbor Discovery Protocol and the Router Discovery Protocol in IPv6, Ethernet network drivers must still be compatible with IPv4 peers and routers. Therefore, drivers must still handle ARP packets*.</span></span>

### <a name="arp-response-send"></a><span data-ttu-id="e8155-278">Envío de respuesta ARP</span><span class="sxs-lookup"><span data-stu-id="e8155-278">ARP Response Send</span></span>  
<span data-ttu-id="e8155-279">Esta solicitud es casi idéntica a la solicitud de envío de paquetes ARP.</span><span class="sxs-lookup"><span data-stu-id="e8155-279">This request is almost identical to the ARP send packet request.</span></span> <span data-ttu-id="e8155-280">La única diferencia es que los campos de dirección física de destino se pasan desde la instancia de IP.</span><span class="sxs-lookup"><span data-stu-id="e8155-280">The only difference is the destination physical address fields are passed from the IP instance.</span></span> <span data-ttu-id="e8155-281">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud de envío de respuesta ARP.</span><span class="sxs-lookup"><span data-stu-id="e8155-281">The following NX_IP_DRIVER members are used for the ARP response send request.</span></span>

| <span data-ttu-id="e8155-282">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-282">NX_IP_DRIVER&nbsp;member</span></span>                  | <span data-ttu-id="e8155-283">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-283">Meaning</span></span>                                  |
| -------------------------------------- | -----------------------------------------|
| <span data-ttu-id="e8155-284">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-284">nx_ip_driver_command</span></span>                | <span data-ttu-id="e8155-285">NX_LINK_ARP_RESPONSE_SEND</span><span class="sxs-lookup"><span data-stu-id="e8155-285">NX_LINK_ARP_RESPONSE_SEND</span></span>            |
| <span data-ttu-id="e8155-286">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-286">nx_ip_driver_ptr</span></span>                    | <span data-ttu-id="e8155-287">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-287">Pointer to IP instance</span></span>   |
| <span data-ttu-id="e8155-288">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="e8155-288">nx_ip_driver_packet</span></span>                 | <span data-ttu-id="e8155-289">Puntero al paquete que se va a enviar</span><span class="sxs-lookup"><span data-stu-id="e8155-289">Pointer to the packet to send</span></span>          |
| <span data-ttu-id="e8155-290">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="e8155-290">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="e8155-291">32 bits de la dirección física más significativos</span><span class="sxs-lookup"><span data-stu-id="e8155-291">Most significant 32-bits of physical address</span></span> |
| <span data-ttu-id="e8155-292">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="e8155-292">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="e8155-293">32 bits de la dirección física menos significativos</span><span class="sxs-lookup"><span data-stu-id="e8155-293">Least significant 32-bits of physical address</span></span> |
| <span data-ttu-id="e8155-294">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-294">nx_ip_driver_interface</span></span>              | <span data-ttu-id="e8155-295">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-295">Pointer to the interface instance</span></span> |
| <span data-ttu-id="e8155-296">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-296">nx_ip_driver_status</span></span>                 | <span data-ttu-id="e8155-297">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-297">Completion status.</span></span> <span data-ttu-id="e8155-298">Si el controlador no puede enviar el paquete ARP, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-298">If the driver is not able to send the ARP packet, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="e8155-299">*Si no se necesita la asignación física, no es preciso implementar esta solicitud.*</span><span class="sxs-lookup"><span data-stu-id="e8155-299">*If physical mapping is not needed, implementation of this request is not required*.</span></span>

### <a name="rarp-send"></a><span data-ttu-id="e8155-300">Envío de RARP</span><span class="sxs-lookup"><span data-stu-id="e8155-300">RARP Send</span></span>   
<span data-ttu-id="e8155-301">Esta solicitud es casi idéntica a la solicitud de envío de paquetes ARP.</span><span class="sxs-lookup"><span data-stu-id="e8155-301">This request is almost identical to the ARP send packet request.</span></span> <span data-ttu-id="e8155-302">Las únicas diferencias son el tipo de encabezado de paquete y los campos de dirección física no son necesarios, ya que el destino físico es siempre una dirección de difusión.</span><span class="sxs-lookup"><span data-stu-id="e8155-302">The only differences are the type of packet header and the physical address fields are not required because the physical destination is always a broadcast address.</span></span>

<span data-ttu-id="e8155-303">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud de envío de RARP.</span><span class="sxs-lookup"><span data-stu-id="e8155-303">The following NX_IP_DRIVER members are used for the RARP send request.</span></span>

| <span data-ttu-id="e8155-304">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-304">NX_IP_DRIVER&nbsp;member</span></span>                | <span data-ttu-id="e8155-305">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-305">Meaning</span></span>                                                                                                       |
|------------------------------------|---------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e8155-306">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-306">nx_ip_driver_command</span></span>               | <span data-ttu-id="e8155-307">NX_LINK_RARP_SEND</span><span class="sxs-lookup"><span data-stu-id="e8155-307">NX_LINK_RARP_SEND</span></span>                                                                                             |
| <span data-ttu-id="e8155-308">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-308">nx_ip_driver_ptr</span></span>                   | <span data-ttu-id="e8155-309">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-309">Pointer to IP instance</span></span>                                                                                        |
| <span data-ttu-id="e8155-310">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="e8155-310">nx_ip_driver_packet</span></span>                | <span data-ttu-id="e8155-311">Puntero al paquete que se va a enviar</span><span class="sxs-lookup"><span data-stu-id="e8155-311">Pointer to the packet to send</span></span>                                                                                 |
| <span data-ttu-id="e8155-312">nx_ip_driver_physical_address_ms w</span><span class="sxs-lookup"><span data-stu-id="e8155-312">nx_ip_driver_physical_address_ms w</span></span> | <span data-ttu-id="e8155-313">0x0000FFFF (difusión)</span><span class="sxs-lookup"><span data-stu-id="e8155-313">0x0000FFFF (broadcast)</span></span>                                                                                        |
| <span data-ttu-id="e8155-314">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="e8155-314">nx_ip_driver_physical_address_lsw</span></span>  | <span data-ttu-id="e8155-315">0xFFFFFFFF (difusión)</span><span class="sxs-lookup"><span data-stu-id="e8155-315">0xFFFFFFFF (broadcast)</span></span>                                                                                        |
| <span data-ttu-id="e8155-316">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-316">nx_ip_driver_interface</span></span>             | <span data-ttu-id="e8155-317">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-317">Pointer to the interface instance.</span></span>                                                                            |
| <span data-ttu-id="e8155-318">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-318">nx_ip_driver_status</span></span>                | <span data-ttu-id="e8155-319">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-319">Completion status.</span></span> <span data-ttu-id="e8155-320">Si el controlador no puede enviar el paquete RARP, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-320">If the driver is not able to send the RARP packet, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="e8155-321">*Las aplicaciones que requieren el servicio RARP deben implementar este comando*.</span><span class="sxs-lookup"><span data-stu-id="e8155-321">*Applications that require RARP service must implement this command*.</span></span>

### <a name="multicast-group-join"></a><span data-ttu-id="e8155-322">Unión a un grupo de multidifusión</span><span class="sxs-lookup"><span data-stu-id="e8155-322">Multicast Group Join</span></span>   
<span data-ttu-id="e8155-323">Esta solicitud se realiza con los servicios ***nx_igmp_multicast_interface join** _ y _*_nx_ipv4_multicast_interface_join_*_ en IPv4, y con el servicio _ *_nxd_ipv6_multicast_interface_join_** en IPv6, así como con las distintas operaciones que requiere IPv6.</span><span class="sxs-lookup"><span data-stu-id="e8155-323">This request is made with the ***nx_igmp_multicast_interface join** _ and _*_nx_ipv4_multicast_interface_join_*_ service in IPv4, _ *_nxd_ipv6_multicast_interface_join_** service in IPv6, and various operation required by IPv6.</span></span> <span data-ttu-id="e8155-324">El controlador de red toma la dirección del grupo de multidifusión suministrada y configura el soporte físico para aceptar los paquetes entrantes de dicha dirección.</span><span class="sxs-lookup"><span data-stu-id="e8155-324">The network driver takes the supplied multicast group address and sets up the physical media to accept incoming packets from that multicast group address.</span></span> <span data-ttu-id="e8155-325">Tenga en cuenta que en el caso de los controladores que no admiten un filtro multidifusión, es posible que la lógica de recepción del controlador deba estar en modo promiscuo.</span><span class="sxs-lookup"><span data-stu-id="e8155-325">Note that for drivers that don't support multicast filter, the driver receive logic may have to be in promiscuous mode.</span></span> <span data-ttu-id="e8155-326">En este caso, es posible que el controlador tenga que filtrar los marcos entrantes en función de la dirección MAC de destino, lo que reduce la cantidad de tráfico que se pasa a la instancia de IP.</span><span class="sxs-lookup"><span data-stu-id="e8155-326">In this case, the driver may need to filter incoming frames based on destination MAC address, thus reducing the amount of traffic passed into the IP instance.</span></span> <span data-ttu-id="e8155-327">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud de unión al grupo de multidifusión.</span><span class="sxs-lookup"><span data-stu-id="e8155-327">The following NX_IP_DRIVER members are used for the multicast group join request.</span></span>

| <span data-ttu-id="e8155-328">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-328">NX_IP_DRIVER&nbsp;member</span></span>                  | <span data-ttu-id="e8155-329">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-329">Meaning</span></span>                                 |
| -------------------------------------- | --------------------------------------- |
| <span data-ttu-id="e8155-330">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-330">nx_ip_driver_command</span></span>                | <span data-ttu-id="e8155-331">NX_LINK_MULTICAST_JOIN</span><span class="sxs-lookup"><span data-stu-id="e8155-331">NX_LINK_MULTICAST_JOIN</span></span>               |
| <span data-ttu-id="e8155-332">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-332">nx_ip_driver_ptr</span></span>                    | <span data-ttu-id="e8155-333">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-333">Pointer to IP instance</span></span>  |
| <span data-ttu-id="e8155-334">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="e8155-334">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="e8155-335">32 bits de la dirección multidifusión física más significativos</span><span class="sxs-lookup"><span data-stu-id="e8155-335">Most significant 32-bits of physical multicast address</span></span> |
| <span data-ttu-id="e8155-336">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="e8155-336">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="e8155-337">32 bits de la dirección multidifusión física menos significativos</span><span class="sxs-lookup"><span data-stu-id="e8155-337">Least significant 32-bits of physical multicast address</span></span> |
| <span data-ttu-id="e8155-338">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-338">nx_ip_driver_interface</span></span>              | <span data-ttu-id="e8155-339">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-339">Pointer to the interface instance</span></span> |
| <span data-ttu-id="e8155-340">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-340">nx_ip_driver_status</span></span>                 | <span data-ttu-id="e8155-341">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-341">Completion status.</span></span> <span data-ttu-id="e8155-342">Si el controlador no puede unirse al grupo de multidifusión, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-342">If the driver is not able to join the multicast group, it will return a non-zero error status.</span></span> |

> [!NOTE]  
> <span data-ttu-id="e8155-343">*Las aplicaciones IPv6 requerirán que se implemente la multidifusión en el controlador para protocolos basados en ICMPv6, como la configuración de direcciones. Sin embargo, para las aplicaciones IPv4, la implementación de esta solicitud no es necesaria si no se requieren funcionalidades de multidifusión*.</span><span class="sxs-lookup"><span data-stu-id="e8155-343">*IPv6 applications will require multicast to be implemented in the driver for ICMPv6 based protocols such as address configuration. However, for IPv4 applications, implementation of this request is not necessary if multicast capabilities are not required*.</span></span>

> [!IMPORTANT]  
> <span data-ttu-id="e8155-344">*Si IPv6 no está habilitado y IPv4 no requiere las funcionalidades de multidifusión, la implementación de esta solicitud no es necesaria*.</span><span class="sxs-lookup"><span data-stu-id="e8155-344">*If IPv6 is not enabled, and multicast capabilities are not required by IPv4, implementation of this request is not required*.</span></span>

### <a name="multicast-group-leave"></a><span data-ttu-id="e8155-345">Salida de un grupo de multidifusión</span><span class="sxs-lookup"><span data-stu-id="e8155-345">Multicast Group Leave</span></span>  
<span data-ttu-id="e8155-346">Esta solicitud se invoca mediante una llamada explícita a los servicios ***nx_igmp_multicast_interface_leave** _ o _*_nx_ipv4_multicast_interface_leave_*_ en IPv4, al servicio _ *_nxd_ipv6_multicast_interface_leave_** en IPv6 o mediante las distintas operaciones internas de NetX Duo que requiere IPv6.</span><span class="sxs-lookup"><span data-stu-id="e8155-346">This request is invoked by explicitly calling the ***nx_igmp_multicast_interface_leave** _ or _*_nx_ipv4_multicast_interface_leave_*_ services in IPv4, _ *_nxd_ipv6_multicast_interface_leave_** service in IPv6, or by various internal NetX Duo operations required for IPv6.</span></span> <span data-ttu-id="e8155-347">El controlador quita la dirección de multidifusión Ethernet suministrada de la lista de multidifusión.</span><span class="sxs-lookup"><span data-stu-id="e8155-347">The driver removes the supplied Ethernet multicast address from the multicast list.</span></span> <span data-ttu-id="e8155-348">Una vez que un host ha dejado un grupo de multidifusión, esta instancia de IP deja de recibir los paquetes de la red con esta dirección de multidifusión Ethernet.</span><span class="sxs-lookup"><span data-stu-id="e8155-348">After a host has left a multicast group, packets on the network with this Ethernet multicast address are no longer received by this IP instance.</span></span> <span data-ttu-id="e8155-349">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud de abandono del grupo de multidifusión.</span><span class="sxs-lookup"><span data-stu-id="e8155-349">The following NX_IP_DRIVER members are used for the multicast group leave request.</span></span>

| <span data-ttu-id="e8155-350">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-350">NX_IP_DRIVER&nbsp;member</span></span>              | <span data-ttu-id="e8155-351">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-351">Meaning</span></span>                              |
| -----------------------------------| -------------------------------------|
| <span data-ttu-id="e8155-352">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-352">nx_ip_driver_command</span></span>            | <span data-ttu-id="e8155-353">NX_LINK_MULTICAST_LEAVE</span><span class="sxs-lookup"><span data-stu-id="e8155-353">NX_LINK_MULTICAST_LEAVE</span></span>           |
| <span data-ttu-id="e8155-354">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-354">nx_ip_driver_ptr</span></span>                | <span data-ttu-id="e8155-355">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-355">Pointer to IP instance</span></span>   |
| <span data-ttu-id="e8155-356">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="e8155-356">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="e8155-357">32 bits de la dirección multidifusión física más significativos</span><span class="sxs-lookup"><span data-stu-id="e8155-357">Most significant 32 bits of physical multicast address</span></span> |
| <span data-ttu-id="e8155-358">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="e8155-358">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="e8155-359">32 bits de la dirección multidifusión física menos significativos</span><span class="sxs-lookup"><span data-stu-id="e8155-359">Least significant 32 bits of physical multicast address</span></span> |
| <span data-ttu-id="e8155-360">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-360">nx_ip_driver_interface</span></span>              | <span data-ttu-id="e8155-361">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-361">Pointer to the interface instance</span></span> |
| <span data-ttu-id="e8155-362">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-362">nx_ip_driver_status</span></span>                 | <span data-ttu-id="e8155-363">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-363">Completion status.</span></span> <span data-ttu-id="e8155-364">Si el controlador no puede dejar el grupo de multidifusión, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-364">If the driver is not able to leave the multicast group, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="e8155-365">*Si IPv4 o IPv6 no requieren las funcionalidades de multidifusión, la implementación de esta solicitud no es necesaria*.</span><span class="sxs-lookup"><span data-stu-id="e8155-365">*If multicast capabilities are not required by either IPv4 or IPv6, implementation of this request is not required*.</span></span>

### <a name="attach-interface"></a><span data-ttu-id="e8155-366">Asociar interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-366">Attach Interface</span></span>  
<span data-ttu-id="e8155-367">Esta solicitud se invoca desde NetX Duo para el controlador de dispositivo, lo que permite al controlador asociar la instancia del controlador a la instancia de IP correspondiente y a la instancia de la interfaz física dentro de la dirección IP.</span><span class="sxs-lookup"><span data-stu-id="e8155-367">This request is invoked from the NetX Duo to the device driver, allowing the driver to associate the driver instance with the corresponding IP instance and the physical interface instance within the IP.</span></span> <span data-ttu-id="e8155-368">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud de asociación de interfaz.</span><span class="sxs-lookup"><span data-stu-id="e8155-368">The following NX_IP_DRIVER members are used for the attach interface request.</span></span>

| <span data-ttu-id="e8155-369">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-369">NX_IP_DRIVER&nbsp;member</span></span>    | <span data-ttu-id="e8155-370">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-370">Meaning</span></span>                  |
|------------------------|--------------------------|
| <span data-ttu-id="e8155-371">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-371">nx_ip_driver_command</span></span>   | <span data-ttu-id="e8155-372">NX_LINK_INTERFACE_ATTACH</span><span class="sxs-lookup"><span data-stu-id="e8155-372">NX_LINK_INTERFACE_ATTACH</span></span> |
| <span data-ttu-id="e8155-373">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-373">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="e8155-374">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-374">Pointer to IP instance</span></span>   |
| <span data-ttu-id="e8155-375">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-375">nx_ip_driver_interface</span></span> | <span data-ttu-id="e8155-376">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-376">Pointer to the interface instance.</span></span>|
| <span data-ttu-id="e8155-377">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-377">nx_ip_driver_status</span></span>    | <span data-ttu-id="e8155-378">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-378">Completion status.</span></span> <span data-ttu-id="e8155-379">Si el controlador no puede desasociar la interfaz especificada en la instancia de IP, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-379">If the driver is not able to detach the specified interface to the IP instance, it will return a non-zero error status.</span></span> |

### <a name="detach-interface"></a><span data-ttu-id="e8155-380">Desasociar interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-380">Detach Interface</span></span>    
<span data-ttu-id="e8155-381">Esta solicitud la invoca NetX Duo para el controlador de dispositivo, lo que permite al controlador desasociar la instancia del controlador de la instancia de IP correspondiente y de la instancia de la interfaz física dentro de la dirección IP.</span><span class="sxs-lookup"><span data-stu-id="e8155-381">This request is invoked by NetX Duo to the device driver, allowing the driver to disassociate the driver instance with the corresponding IP instance and the physical interface instance within the IP.</span></span> <span data-ttu-id="e8155-382">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud de asociación de interfaz.</span><span class="sxs-lookup"><span data-stu-id="e8155-382">The following NX_IP_DRIVER members are used for the attach interface request.</span></span>

| <span data-ttu-id="e8155-383">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-383">NX_IP_DRIVER&nbsp;member</span></span>    | <span data-ttu-id="e8155-384">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-384">Meaning</span></span>                                                                                                                                    |
|------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e8155-385">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-385">nx_ip_driver_command</span></span>   | <span data-ttu-id="e8155-386">NX_LINK_INTERFACE_DETACH</span><span class="sxs-lookup"><span data-stu-id="e8155-386">NX_LINK_INTERFACE_DETACH</span></span>                                                                                                                   |
| <span data-ttu-id="e8155-387">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-387">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="e8155-388">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-388">Pointer to IP instance</span></span>                                                                                                                     |
| <span data-ttu-id="e8155-389">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-389">nx_ip_driver_interface</span></span> | <span data-ttu-id="e8155-390">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-390">Pointer to the interface instance.</span></span>                                                                                                         |
| <span data-ttu-id="e8155-391">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-391">nx_ip_driver_status</span></span>    | <span data-ttu-id="e8155-392">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-392">Completion status.</span></span> <span data-ttu-id="e8155-393">Si el controlador no puede asociar la interfaz especificada en la instancia de IP, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-393">If the driver is not able to attach the specified interface to the IP instance, it will return a non-zero error status.</span></span> |

### <a name="get-link-status"></a><span data-ttu-id="e8155-394">Obtener estado del vínculo</span><span class="sxs-lookup"><span data-stu-id="e8155-394">Get Link Status</span></span>    
<span data-ttu-id="e8155-395">La aplicación puede consultar el estado del vínculo de la interfaz de red mediante el servicio ***nx_ip_interface_status_check*** de NetX Duo para cualquier interfaz del host.</span><span class="sxs-lookup"><span data-stu-id="e8155-395">The application can query the network interface link status using the NetX Duo service ***nx_ip_interface_status_check*** service for any interface on the host.</span></span> <span data-ttu-id="e8155-396">Para más información sobre estos servicios, consulte el capítulo 4, "Descripción de los servicios de NetX Duo" en la página 149.</span><span class="sxs-lookup"><span data-stu-id="e8155-396">See Chapter 4, "Description of NetX Duo Services" on page 149, for more details on these services.</span></span>

<span data-ttu-id="e8155-397">El estado del vínculo se encuentra en el campo *nx_interface_link_up* de la estructura de NX_INTERFACE a la que apunta el puntero *nx_ip_driver_interface*.</span><span class="sxs-lookup"><span data-stu-id="e8155-397">The link status is contained in the *nx_interface_link_up* field in the NX_INTERFACE structure pointed to by *nx_ip_driver_interface* pointer.</span></span> <span data-ttu-id="e8155-398">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud de estado del vínculo.</span><span class="sxs-lookup"><span data-stu-id="e8155-398">The following NX_IP_DRIVER members are used for the link status request.</span></span>

| <span data-ttu-id="e8155-399">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-399">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="e8155-400">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-400">Meaning</span></span>                  |
| --------------------------- | -------------------------|
| <span data-ttu-id="e8155-401">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-401">nx_ip_driver_command</span></span>     | <span data-ttu-id="e8155-402">NX_LINK_GET_STATUS</span><span class="sxs-lookup"><span data-stu-id="e8155-402">NX_LINK_GET_STATUS</span></span>    |
| <span data-ttu-id="e8155-403">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-403">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="e8155-404">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-404">Pointer to IP instance</span></span>   |
| <span data-ttu-id="e8155-405">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-405">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="e8155-406">Puntero al destino en el que se va a colocar el estado.</span><span class="sxs-lookup"><span data-stu-id="e8155-406">Pointer to the destination to place the status.</span></span> |
| <span data-ttu-id="e8155-407">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-407">nx_ip_driver_interface</span></span>   | <span data-ttu-id="e8155-408">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-408">Pointer to the interface instance</span></span>   |
| <span data-ttu-id="e8155-409">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-409">nx_ip_driver_status</span></span>      | <span data-ttu-id="e8155-410">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-410">Completion status.</span></span> <span data-ttu-id="e8155-411">Si el controlador no puede obtener un estado concreto, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-411">If the driver is not able to get specific status, it will return a non-zero error status.</span></span> |

> [!NOTE]  
> <span data-ttu-id="e8155-412">\***nx_ip_status_check** _ todavía está disponible para comprobar el estado de la interfaz principal.</span><span class="sxs-lookup"><span data-stu-id="e8155-412">\***nx_ip_status_check** _ is still available for checking the status of the primary interface.</span></span> <span data-ttu-id="e8155-413">Sin embargo, se recomienda a los desarrolladores de aplicaciones que usen el servicio específico de la interfaz: _ *_nx_ip_interface_status_check._*\*</span><span class="sxs-lookup"><span data-stu-id="e8155-413">However, application developers are encouraged to use the interface specific service: _ *_nx_ip_interface_status_check._*\*</span></span>

### <a name="get-link-speed"></a><span data-ttu-id="e8155-414">Obtener velocidad del vínculo</span><span class="sxs-lookup"><span data-stu-id="e8155-414">Get Link Speed</span></span>  
<span data-ttu-id="e8155-415">Esta solicitud se realiza desde el servicio ***nx_ip_driver_direct_command***.</span><span class="sxs-lookup"><span data-stu-id="e8155-415">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="e8155-416">El controlador almacena la velocidad de línea del vínculo en el destino suministrado.</span><span class="sxs-lookup"><span data-stu-id="e8155-416">The driver stores the link's line speed in the supplied destination.</span></span> <span data-ttu-id="e8155-417">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud de velocidad de línea del vínculo.</span><span class="sxs-lookup"><span data-stu-id="e8155-417">The following NX_IP_DRIVER members are used for the link line speed request.</span></span>

| <span data-ttu-id="e8155-418">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-418">NX_IP_DRIVER&nbsp;member</span></span>   | <span data-ttu-id="e8155-419">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-419">Meaning</span></span>                   |
| ------------------------| ------------------------- |
| <span data-ttu-id="e8155-420">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-420">nx_ip_driver_command</span></span>     | <span data-ttu-id="e8155-421">NX_LINK_GET_SPEED</span><span class="sxs-lookup"><span data-stu-id="e8155-421">NX_LINK_GET_SPEED</span></span>          |
| <span data-ttu-id="e8155-422">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-422">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="e8155-423">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-423">Pointer to IP instance</span></span>                                                                                         |
| <span data-ttu-id="e8155-424">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-424">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="e8155-425">Puntero al destino en el que se va a colocar la velocidad de la línea.</span><span class="sxs-lookup"><span data-stu-id="e8155-425">Pointer to the destination to place the line speed</span></span>                                                             |
| <span data-ttu-id="e8155-426">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-426">nx_ip_driver_interface</span></span>   | <span data-ttu-id="e8155-427">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-427">Pointer to the interface instance</span></span>                                                                              |
| <span data-ttu-id="e8155-428">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-428">nx_ip_driver_status</span></span>      | <span data-ttu-id="e8155-429">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-429">Completion status.</span></span> <span data-ttu-id="e8155-430">Si el controlador no puede obtener información sobre la velocidad, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-430">If the driver is not able to get speed information, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="e8155-431">*NetX Duo no usa internamente esta solicitud, por lo que su implementación es opcional*.</span><span class="sxs-lookup"><span data-stu-id="e8155-431">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-duplex-type"></a><span data-ttu-id="e8155-432">Obtener tipo dúplex</span><span class="sxs-lookup"><span data-stu-id="e8155-432">Get Duplex Type</span></span>   
<span data-ttu-id="e8155-433">Esta solicitud se realiza desde el servicio ***nx_ip_driver_direct_command***.</span><span class="sxs-lookup"><span data-stu-id="e8155-433">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="e8155-434">El controlador almacena el tipo dúplex del vínculo en el destino suministrado.</span><span class="sxs-lookup"><span data-stu-id="e8155-434">The driver stores the link's duplex type in the supplied destination.</span></span> <span data-ttu-id="e8155-435">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud de tipo dúplex.</span><span class="sxs-lookup"><span data-stu-id="e8155-435">The following NX_IP_DRIVER members are used for the duplex type request.</span></span>

| <span data-ttu-id="e8155-436">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-436">NX_IP_DRIVER&nbsp;member</span></span>   | <span data-ttu-id="e8155-437">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-437">Meaning</span></span>                                                                                                    |
| --------------------------- | -------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="e8155-438">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-438">nx_ip_driver_command</span></span>     | <span data-ttu-id="e8155-439">NX_LINK_GET_DUPLEX_TYPE</span><span class="sxs-lookup"><span data-stu-id="e8155-439">NX_LINK_GET_DUPLEX_TYPE</span></span>                                                                                    |
| <span data-ttu-id="e8155-440">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-440">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="e8155-441">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-441">Pointer to IP instance</span></span>                                                                                         |
| <span data-ttu-id="e8155-442">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-442">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="e8155-443">Puntero al destino en el que se va a colocar el tipo dúplex.</span><span class="sxs-lookup"><span data-stu-id="e8155-443">Pointer to the destination to place the duplex type</span></span>                                                            |
| <span data-ttu-id="e8155-444">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-444">nx_ip_driver_interface</span></span>   | <span data-ttu-id="e8155-445">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-445">Pointer to the interface instance</span></span>                                                                              |
| <span data-ttu-id="e8155-446">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-446">nx_ip_driver_status</span></span>      | <span data-ttu-id="e8155-447">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-447">Completion status.</span></span> <span data-ttu-id="e8155-448">Si el controlador no puede obtener información sobre el dúplex, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-448">If the driver is not able to get duplex information, it will return a nonzero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="e8155-449">*NetX Duo no usa internamente esta solicitud, por lo que su implementación es opcional*.</span><span class="sxs-lookup"><span data-stu-id="e8155-449">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-error-count"></a><span data-ttu-id="e8155-450">Obtener número de errores</span><span class="sxs-lookup"><span data-stu-id="e8155-450">Get Error Count</span></span>   
<span data-ttu-id="e8155-451">Esta solicitud se realiza desde el servicio ***nx_ip_driver_direct_command***.</span><span class="sxs-lookup"><span data-stu-id="e8155-451">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="e8155-452">El controlador almacena el número de errores del vínculo en el destino suministrado.</span><span class="sxs-lookup"><span data-stu-id="e8155-452">The driver stores the link's error count in the supplied destination.</span></span> <span data-ttu-id="e8155-453">Para admitir esta característica, el controlador debe realizar un seguimiento de los errores en las operaciones.</span><span class="sxs-lookup"><span data-stu-id="e8155-453">To support this feature, the driver needs to track operation errors.</span></span> <span data-ttu-id="e8155-454">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud del número de errores del vínculo.</span><span class="sxs-lookup"><span data-stu-id="e8155-454">The following NX_IP_DRIVER members are used for the link error count request.</span></span>

| <span data-ttu-id="e8155-455">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-455">NX_IP_DRIVER&nbsp;member</span></span>   | <span data-ttu-id="e8155-456">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-456">Meaning</span></span>                   |
| --------------------------- | -------------------------------|
| <span data-ttu-id="e8155-457">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-457">nx_ip_driver_command</span></span>     | <span data-ttu-id="e8155-458">NX_LINK_GET_ERROR_COUNT</span><span class="sxs-lookup"><span data-stu-id="e8155-458">NX_LINK_GET_ERROR_COUNT</span></span>   |
| <span data-ttu-id="e8155-459">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-459">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="e8155-460">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-460">Pointer to IP instance</span></span>   |
| <span data-ttu-id="e8155-461">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-461">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="e8155-462">Puntero al destino en el que se va a colocar el número de errores.</span><span class="sxs-lookup"><span data-stu-id="e8155-462">Pointer to the destination to place the error count</span></span> |
| <span data-ttu-id="e8155-463">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-463">nx_ip_driver_interface</span></span>   | <span data-ttu-id="e8155-464">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-464">Pointer to the interface instance</span></span>|
| <span data-ttu-id="e8155-465">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-465">nx_ip_driver_status</span></span>      | <span data-ttu-id="e8155-466">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-466">Completion status.</span></span> <span data-ttu-id="e8155-467">Si el controlador no puede obtener el número de errores, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-467">If the driver is not able to get error count, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]
> <span data-ttu-id="e8155-468">*NetX Duo no usa internamente esta solicitud, por lo que su implementación es opcional*.</span><span class="sxs-lookup"><span data-stu-id="e8155-468">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-receive-packet-count"></a><span data-ttu-id="e8155-469">Obtener número de paquetes recibidos</span><span class="sxs-lookup"><span data-stu-id="e8155-469">Get Receive Packet Count</span></span>    
<span data-ttu-id="e8155-470">Esta solicitud se realiza desde el servicio ***nx_ip_driver_direct_command***.</span><span class="sxs-lookup"><span data-stu-id="e8155-470">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="e8155-471">El controlador almacena el número de paquetes recibidos del vínculo en el destino suministrado.</span><span class="sxs-lookup"><span data-stu-id="e8155-471">The driver stores the link's receive packet count in the supplied destination.</span></span> <span data-ttu-id="e8155-472">Para admitir esta característica, el controlador debe realizar un seguimiento del número de paquetes recibidos.</span><span class="sxs-lookup"><span data-stu-id="e8155-472">To support this feature, the driver needs to keep track of the number of packets received.</span></span> <span data-ttu-id="e8155-473">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud del número de paquetes recibidos del vínculo.</span><span class="sxs-lookup"><span data-stu-id="e8155-473">The following NX_IP_DRIVER members are used for the link receive packet count request.</span></span>

| <span data-ttu-id="e8155-474">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-474">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="e8155-475">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-475">Meaning</span></span>                        |
| --------------------------- | -------------------------------|
| <span data-ttu-id="e8155-476">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-476">nx_ip_driver_command</span></span>     | <span data-ttu-id="e8155-477">NX_LINK_GET_RX_COUNT</span><span class="sxs-lookup"><span data-stu-id="e8155-477">NX_LINK_GET_RX_COUNT</span></span>      |
| <span data-ttu-id="e8155-478">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-478">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="e8155-479">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-479">Pointer to IP instance</span></span>  |
| <span data-ttu-id="e8155-480">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-480">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="e8155-481">Puntero al destino en el que se va a colocar el número de paquetes recibidos.</span><span class="sxs-lookup"><span data-stu-id="e8155-481">Pointer to the destination to place the receive packet count</span></span>   |
| <span data-ttu-id="e8155-482">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-482">nx_ip_driver_interface</span></span>   | <span data-ttu-id="e8155-483">Puntero a la interfaz de red física</span><span class="sxs-lookup"><span data-stu-id="e8155-483">Pointer to the physical network interface</span></span>  |
| <span data-ttu-id="e8155-484">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-484">nx_ip_driver_status</span></span>      | <span data-ttu-id="e8155-485">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-485">Completion status.</span></span> <span data-ttu-id="e8155-486">Si el controlador no puede obtener el número de paquetes recibidos, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-486">If the driver is not able to get receive count, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="e8155-487">*NetX Duo no usa internamente esta solicitud, por lo que su implementación es opcional*.</span><span class="sxs-lookup"><span data-stu-id="e8155-487">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-transmit-packet-count"></a><span data-ttu-id="e8155-488">Obtener recuento de paquetes transmitidos</span><span class="sxs-lookup"><span data-stu-id="e8155-488">Get Transmit Packet Count</span></span>   
<span data-ttu-id="e8155-489">Esta solicitud se realiza desde el servicio ***nx_ip_driver_direct_command***.</span><span class="sxs-lookup"><span data-stu-id="e8155-489">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="e8155-490">El controlador almacena el número de paquetes transmitidos del vínculo en el destino suministrado.</span><span class="sxs-lookup"><span data-stu-id="e8155-490">The driver stores the link's transmit packet count in the supplied destination.</span></span> <span data-ttu-id="e8155-491">Para admitir esta característica, el controlador debe realizar un seguimiento de todos los paquetes que se transmiten en cada interfaz.</span><span class="sxs-lookup"><span data-stu-id="e8155-491">To support this feature, the driver needs to keep track of each packet it transmits on each interface.</span></span> <span data-ttu-id="e8155-492">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud del número de paquetes transmitidos del vínculo.</span><span class="sxs-lookup"><span data-stu-id="e8155-492">The following  NX_IP_DRIVER members are used for the link transmit packet count request.</span></span>

| <span data-ttu-id="e8155-493">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-493">NX_IP_DRIVER&nbsp;member</span></span>   | <span data-ttu-id="e8155-494">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-494">Meaning</span></span>                   |
| ----------------------- | ------------------------- |
| <span data-ttu-id="e8155-495">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-495">nx_ip_driver_command</span></span> | <span data-ttu-id="e8155-496">NX_LINK_GET_TX_COUNT</span><span class="sxs-lookup"><span data-stu-id="e8155-496">NX_LINK_GET_TX_COUNT</span></span>  |
| <span data-ttu-id="e8155-497">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-497">nx_ip_driver_ptr</span></span>     | <span data-ttu-id="e8155-498">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-498">Pointer to IP instance</span></span>    |
| <span data-ttu-id="e8155-499">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-499">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="e8155-500">Puntero al destino en el que se va a colocar el número de paquetes transmitidos.</span><span class="sxs-lookup"><span data-stu-id="e8155-500">Pointer to the destination to place the transmit packet count</span></span>  |
| <span data-ttu-id="e8155-501">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-501">nx_ip_driver_interface</span></span>   | <span data-ttu-id="e8155-502">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-502">Pointer to the interface instance</span></span>   |
| <span data-ttu-id="e8155-503">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-503">nx_ip_driver_status</span></span>      | <span data-ttu-id="e8155-504">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-504">Completion status.</span></span> <span data-ttu-id="e8155-505">Si el controlador no puede obtener el número de paquetes transmitidos, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-505">If the driver is not able to get transmit count, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="e8155-506">*NetX Duo no usa internamente esta solicitud, por lo que su implementación es opcional*.</span><span class="sxs-lookup"><span data-stu-id="e8155-506">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-allocation-errors"></a><span data-ttu-id="e8155-507">Obtener errores de asignación</span><span class="sxs-lookup"><span data-stu-id="e8155-507">Get Allocation Errors</span></span>   
<span data-ttu-id="e8155-508">Esta solicitud se realiza desde el servicio ***nx_ip_driver_direct_command***.</span><span class="sxs-lookup"><span data-stu-id="e8155-508">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="e8155-509">El controlador almacena el número de errores de asignación del grupo de paquetes del vínculo en el destino proporcionado.</span><span class="sxs-lookup"><span data-stu-id="e8155-509">The driver stores the link's packet pool allocation error count in the supplied destination.</span></span> <span data-ttu-id="e8155-510">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud del número de errores de asignación del vínculo.</span><span class="sxs-lookup"><span data-stu-id="e8155-510">The following NX_IP_DRIVER members are used for the link allocation error count request.</span></span>

| <span data-ttu-id="e8155-511">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-511">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="e8155-512">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-512">Meaning</span></span>                       |
| --------------------------- | ----------------------------- |
| <span data-ttu-id="e8155-513">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-513">nx_ip_driver_command</span></span>     | <span data-ttu-id="e8155-514">NX_LINK_GET_ALLOC_ERRORS</span><span class="sxs-lookup"><span data-stu-id="e8155-514">NX_LINK_GET_ALLOC_ERRORS</span></span>  |
| <span data-ttu-id="e8155-515">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-515">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="e8155-516">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-516">Pointer to IP instance</span></span>     |
| <span data-ttu-id="e8155-517">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-517">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="e8155-518">Puntero al destino en el que se va a colocar el número de errores de asignación.</span><span class="sxs-lookup"><span data-stu-id="e8155-518">Pointer to the destination to place the allocation error count</span></span>  |
| <span data-ttu-id="e8155-519">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-519">nx_ip_driver_interface</span></span>   | <span data-ttu-id="e8155-520">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-520">Pointer to the interface instance</span></span>  |
| <span data-ttu-id="e8155-521">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-521">nx_ip_driver_status</span></span>      | <span data-ttu-id="e8155-522">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-522">Completion status.</span></span> <span data-ttu-id="e8155-523">Si el controlador no puede obtener los errores de asignación, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-523">If the driver is not able to get allocation errors, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="e8155-524">*NetX Duo no usa internamente esta solicitud, por lo que su implementación es opcional*.</span><span class="sxs-lookup"><span data-stu-id="e8155-524">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="driver-deferred-processing"></a><span data-ttu-id="e8155-525">Procesamiento diferido del controlador</span><span class="sxs-lookup"><span data-stu-id="e8155-525">Driver Deferred Processing</span></span>    
<span data-ttu-id="e8155-526">Esta solicitud se realiza desde el subproceso auxiliar de IP en respuesta a la llamada del controlador a la rutina _ _\***nx_ip_driver_deferred_processing**_ desde un ISR de transmisión o recepción.</span><span class="sxs-lookup"><span data-stu-id="e8155-526">This request is made from the IP helper thread in response to the driver calling the _\***nx_ip_driver_deferred_processing**_ routine from a transmit or receive ISR.</span></span> <span data-ttu-id="e8155-527">Esto permite que el ISR del controlador difiera el procesamiento de la recepción y transmisión del paquete hasta el subproceso auxiliar de IP y, por tanto, reduzca la cantidad que se va a procesar en el ISR.</span><span class="sxs-lookup"><span data-stu-id="e8155-527">This allows the driver ISR to defer the packet receive and transmit processing to the IP helper thread and thus reduce the amount to process in the ISR.</span></span> <span data-ttu-id="e8155-528">El controlador puede usar el campo _nx_interface_additional_link_info\* de la estructura de NX_INTERFACE a la que apunta *nx_ip_driver_interface* para almacenar información sobre el evento de procesamiento diferido desde el contexto del subproceso auxiliar de IP.</span><span class="sxs-lookup"><span data-stu-id="e8155-528">The _nx_interface_additional_link_info\* field in the NX_INTERFACE structure pointed to by *nx_ip_driver_interface* may be used by the driver to store information about the deferred processing event from the IP helper thread context.</span></span> <span data-ttu-id="e8155-529">Los siguientes miembros de NX_IP_DRIVER se usan para el evento de procesamiento diferido.</span><span class="sxs-lookup"><span data-stu-id="e8155-529">The following  NX_IP_DRIVER members are used for the deferred processing event.</span></span>

| <span data-ttu-id="e8155-530">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-530">NX_IP_DRIVER&nbsp;member</span></span>     | <span data-ttu-id="e8155-531">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-531">Meaning</span></span>                           |
| ------------------------- | --------------------------------- |
| <span data-ttu-id="e8155-532">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-532">nx_ip_driver_command</span></span>   | <span data-ttu-id="e8155-533">NX_LINK_DEFERRED_PROCESSING</span><span class="sxs-lookup"><span data-stu-id="e8155-533">NX_LINK_DEFERRED_PROCESSING</span></span>    |
| <span data-ttu-id="e8155-534">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-534">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="e8155-535">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-535">Pointer to IP instance</span></span>            |
| <span data-ttu-id="e8155-536">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-536">nx_ip_driver_interface</span></span> | <span data-ttu-id="e8155-537">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-537">Pointer to the interface instance</span></span> |

### <a name="set-physical-address"></a><span data-ttu-id="e8155-538">Establecer la dirección física</span><span class="sxs-lookup"><span data-stu-id="e8155-538">Set Physical Address</span></span>  
<span data-ttu-id="e8155-539">Esta solicitud se realiza desde el servicio \***nx_ip_interface_physical_address_set** _.</span><span class="sxs-lookup"><span data-stu-id="e8155-539">This request is made from within the \***nx_ip_interface_physical_address_set** _ service.</span></span> <span data-ttu-id="e8155-540">Este servicio permite a una aplicación cambiar la dirección física de la interfaz en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="e8155-540">This service allows an application to change the interface physical address at run time.</span></span> <span data-ttu-id="e8155-541">Al recibir este comando, el controlador debe volver a configurar la dirección de hardware de la interfaz de red para la dirección física proporcionada.</span><span class="sxs-lookup"><span data-stu-id="e8155-541">On receiving this command, the driver is required to re-configure the hardware address of the network interface to the supplied physical address.</span></span> <span data-ttu-id="e8155-542">Dado que la instancia de IP ya tiene la nueva dirección, no es necesario llamar al servicio _ *_nx_ip_interface_address_set_*\* desde este comando.</span><span class="sxs-lookup"><span data-stu-id="e8155-542">Since the IP instance already has the new address, there is no need to call the _ *_nx_ip_interface_address_set_*\* service from this command.</span></span>

<span data-ttu-id="e8155-543">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud de comandos de usuario.</span><span class="sxs-lookup"><span data-stu-id="e8155-543">The following NX_IP_DRIVER members are used for the user command request.</span></span>

| <span data-ttu-id="e8155-544">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-544">NX_IP_DRIVER&nbsp;member</span></span>      | <span data-ttu-id="e8155-545">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-545">Meaning</span></span>                      |
| -------------------------- | ---------------------------- |
| <span data-ttu-id="e8155-546">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-546">nx_ip_driver_command</span></span>    | <span data-ttu-id="e8155-547">NX_LINK_SET_PHYSICAL_ADDRESS</span><span class="sxs-lookup"><span data-stu-id="e8155-547">NX_LINK_SET_PHYSICAL_ADDRESS</span></span>  |
| <span data-ttu-id="e8155-548">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-548">nx_ip_driver_ptr</span></span>        | <span data-ttu-id="e8155-549">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-549">Pointer to IP instance</span></span>  |
| <span data-ttu-id="e8155-550">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-550">nx_ip_driver_interface</span></span>  | <span data-ttu-id="e8155-551">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-551">Pointer to the interface instance</span></span>   |
| <span data-ttu-id="e8155-552">nx_ip_driver_physical_ad dress_msw</span><span class="sxs-lookup"><span data-stu-id="e8155-552">nx_ip_driver_physical_ad dress_msw</span></span> | <span data-ttu-id="e8155-553">32 bits de la nueva dirección física más significativos</span><span class="sxs-lookup"><span data-stu-id="e8155-553">Most significant 32-bits of the new physical address</span></span>  |
| <span data-ttu-id="e8155-554">nx_ip_driver_physical_ad dress_lsw</span><span class="sxs-lookup"><span data-stu-id="e8155-554">nx_ip_driver_physical_ad dress_lsw</span></span> | <span data-ttu-id="e8155-555">32 bits de la nueva dirección física menos significativos</span><span class="sxs-lookup"><span data-stu-id="e8155-555">Least significant 32-bits of the new physical address</span></span>  |
| <span data-ttu-id="e8155-556">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-556">nx_ip_driver_status</span></span>                  | <span data-ttu-id="e8155-557">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-557">Completion status.</span></span> <span data-ttu-id="e8155-558">Si el controlador no puede volver a configurar la dirección física, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-558">If the driver is not able to reconfigure the physical address, it will return a non-zero error status.</span></span> |

### <a name="user-commands"></a><span data-ttu-id="e8155-559">Comandos de usuario</span><span class="sxs-lookup"><span data-stu-id="e8155-559">User Commands</span></span>    
<span data-ttu-id="e8155-560">Esta solicitud se realiza desde el servicio ***nx_ip_driver_direct_command***.</span><span class="sxs-lookup"><span data-stu-id="e8155-560">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="e8155-561">El controlador procesa los comandos de usuario específicos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e8155-561">The driver processes the application specific user commands.</span></span> <span data-ttu-id="e8155-562">Los siguientes miembros de NX_IP_DRIVER se usan para la solicitud de comandos de usuario.</span><span class="sxs-lookup"><span data-stu-id="e8155-562">The following NX_IP_DRIVER members are used for the user command request.</span></span>

| <span data-ttu-id="e8155-563">Miembro de&nbsp;NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e8155-563">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="e8155-564">Significado</span><span class="sxs-lookup"><span data-stu-id="e8155-564">Meaning</span></span>                       |
| --------------------------- | ----------------------------- |
| <span data-ttu-id="e8155-565">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e8155-565">nx_ip_driver_command</span></span>     | <span data-ttu-id="e8155-566">NX_LINK_USER_COMMAND</span><span class="sxs-lookup"><span data-stu-id="e8155-566">NX_LINK_USER_COMMAND</span></span>       |
| <span data-ttu-id="e8155-567">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-567">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="e8155-568">Puntero a la instancia de IP</span><span class="sxs-lookup"><span data-stu-id="e8155-568">Pointer to IP instance</span></span>        |
| <span data-ttu-id="e8155-569">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="e8155-569">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="e8155-570">Definidas por el usuario</span><span class="sxs-lookup"><span data-stu-id="e8155-570">User defined</span></span>       |
| <span data-ttu-id="e8155-571">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e8155-571">nx_ip_driver_interface</span></span>   | <span data-ttu-id="e8155-572">Puntero a la instancia de interfaz</span><span class="sxs-lookup"><span data-stu-id="e8155-572">Pointer to the interface instance</span></span>    |
| <span data-ttu-id="e8155-573">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e8155-573">nx_ip_driver_status</span></span>      | <span data-ttu-id="e8155-574">Estado de finalización.</span><span class="sxs-lookup"><span data-stu-id="e8155-574">Completion status.</span></span> <span data-ttu-id="e8155-575">Si el controlador no puede ejecutar comandos de usuario, devolverá un estado de error distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="e8155-575">If the driver is not able to execute user commands, it will return a non-zero error status.</span></span> |

> [!IMPORTANT] 
> <span data-ttu-id="e8155-576">*NetX Duo no usa internamente esta solicitud, por lo que su implementación es opcional*.</span><span class="sxs-lookup"><span data-stu-id="e8155-576">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="unimplemented-commands"></a><span data-ttu-id="e8155-577">Comandos no implementados</span><span class="sxs-lookup"><span data-stu-id="e8155-577">Unimplemented Commands</span></span>  
<span data-ttu-id="e8155-578">Los comandos no implementados por el controlador de red deben tener el campo estado devuelto establecido en NX_UNHANDLED_COMMAND.</span><span class="sxs-lookup"><span data-stu-id="e8155-578">Commands unimplemented by the network driver must have the return status field set to NX_UNHANDLED_COMMAND.</span></span>

## <a name="driver-capability"></a><span data-ttu-id="e8155-579">Funcionalidad del controlador</span><span class="sxs-lookup"><span data-stu-id="e8155-579">Driver Capability</span></span>

<span data-ttu-id="e8155-580">Algunas interfaces de red ofrecen características de descarga de suma de comprobación.</span><span class="sxs-lookup"><span data-stu-id="e8155-580">Some network interfaces offer checksum offload features.</span></span> <span data-ttu-id="e8155-581">Los controladores de dispositivo pueden aprovechar las aceleraciones de hardware para liberar tiempo de CPU de la ejecución de varios cálculos de suma de comprobación.</span><span class="sxs-lookup"><span data-stu-id="e8155-581">Device drivers may take advantage of the hardware accelerations to free up CPU time from running various checksum computations.</span></span>

<span data-ttu-id="e8155-582">Dependiendo del nivel de compatibilidad de la suma de comprobación del hardware, el controlador de dispositivo debe indicar a la instancia de IP qué característica de hardware está habilitada.</span><span class="sxs-lookup"><span data-stu-id="e8155-582">Depending the level of hardware checksum support from the hardware, the device driver needs to inform the IP instance which hardware feature is enabled.</span></span> <span data-ttu-id="e8155-583">De este modo, la instancia de IP es consciente de la característica de hardware y descarga la máxima cantidad de cálculo posible en el hardware.</span><span class="sxs-lookup"><span data-stu-id="e8155-583">This way, the IP instance is aware of the hardware feature, and offload as much computation to the hardware as possible.</span></span> <span data-ttu-id="e8155-584">El controlador debe usar la API ***nx_ip_interface_capability_set*** para establecer todas las características que la interfaz física puede controlar.</span><span class="sxs-lookup"><span data-stu-id="e8155-584">The driver should use the API ***nx_ip_interface_capability_set*** to set all the features the physical interface is able to handle.</span></span>

<span data-ttu-id="e8155-585">Se pueden usar las siguientes características:</span><span class="sxs-lookup"><span data-stu-id="e8155-585">The following features can be used:</span></span>

- <span data-ttu-id="e8155-586">NX_INTERFACE_CAPABILITY_IPV4_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e8155-586">NX_INTERFACE_CAPABILITY_IPV4_TX_CHECKSUM</span></span>
- <span data-ttu-id="e8155-587">NX_INTERFACE_CAPABILITY_IPV4_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e8155-587">NX_INTERFACE_CAPABILITY_IPV4_RX_CHECKSUM</span></span>
- <span data-ttu-id="e8155-588">NX_INTERFACE_CAPABILITY_TCP_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e8155-588">NX_INTERFACE_CAPABILITY_TCP_TX_CHECKSUM</span></span>
- <span data-ttu-id="e8155-589">NX_INTERFACE_CAPABILITY_TCP_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e8155-589">NX_INTERFACE_CAPABILITY_TCP_RX_CHECKSUM</span></span>
- <span data-ttu-id="e8155-590">NX_INTERFACE_CAPABILITY_UDP_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e8155-590">NX_INTERFACE_CAPABILITY_UDP_TX_CHECKSUM</span></span>
- <span data-ttu-id="e8155-591">NX_INTERFACE_CAPABILITY_UDP_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e8155-591">NX_INTERFACE_CAPABILITY_UDP_RX_CHECKSUM</span></span>
- <span data-ttu-id="e8155-592">NX_INTERFACE_CAPABILITY_ICMPV4_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e8155-592">NX_INTERFACE_CAPABILITY_ICMPV4_TX_CHECKSUM</span></span>
- <span data-ttu-id="e8155-593">NX_INTERFACE_CAPABILITY_ICMPV4_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e8155-593">NX_INTERFACE_CAPABILITY_ICMPV4_RX_CHECKSUM</span></span>
- <span data-ttu-id="e8155-594">NX_INTERFACE_CAPABILITY_ICMPV6_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e8155-594">NX_INTERFACE_CAPABILITY_ICMPV6_TX_CHECKSUM</span></span>
- <span data-ttu-id="e8155-595">NX_INTERFACE_CAPABILITY_ICMPV6_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e8155-595">NX_INTERFACE_CAPABILITY_ICMPV6_RX_CHECKSUM</span></span>
- <span data-ttu-id="e8155-596">NX_INTERFACE_CAPABILITY_IGMP_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e8155-596">NX_INTERFACE_CAPABILITY_IGMP_TX_CHECKSUM</span></span>
- <span data-ttu-id="e8155-597">NX_INTERFACE_CAPABILITY_IGMP_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e8155-597">NX_INTERFACE_CAPABILITY_IGMP_RX_CHECKSUM</span></span>

<span data-ttu-id="e8155-598">En el caso de un cálculo de suma de comprobación que se puede realizar en el hardware, el controlador debe configurar el hardware o los descriptores de búfer correctamente para que el hardware pueda generar e insertar en el encabezado la suma de comprobación de un paquete saliente.</span><span class="sxs-lookup"><span data-stu-id="e8155-598">For a checksum computation that can be performed in hardware, the driver must set up the hardware or the buffer descriptors correctly so the checksum for an out-going packet can be generated and inserted into the header by the hardware.</span></span> <span data-ttu-id="e8155-599">Al recibir un paquete, la lógica de la suma de comprobación de hardware debe poder comprobar el valor de la suma de comprobación.</span><span class="sxs-lookup"><span data-stu-id="e8155-599">On receiving a packet, the hardware checksum logic should be able to verify the checksum value.</span></span> <span data-ttu-id="e8155-600">Si el valor de la suma de comprobación es incorrecto, se debe descartar el fotograma recibido.</span><span class="sxs-lookup"><span data-stu-id="e8155-600">If the checksum value is incorrect, the received frame should be discarded.</span></span>

<span data-ttu-id="e8155-601">Incluso con la capacidad de realizar el cálculo de la suma de comprobación en el hardware, la instancia de IP sigue manteniendo la capacidad de suma de comprobación.</span><span class="sxs-lookup"><span data-stu-id="e8155-601">Even with the capability of performing checksum computation in hardware, the IP instance still maintains the checksum capability.</span></span> <span data-ttu-id="e8155-602">En ciertos escenarios, por ejemplo, para un datagrama UDP que atraviesa la protección de IPsec, la suma de comprobación de UDP debe calcularse en el software antes de legar el marco de UDP a la pila.</span><span class="sxs-lookup"><span data-stu-id="e8155-602">In certain scenarios, for example a UDP datagram going through IPsec protection, the UDP checksum must be computed in software before passing the UDP frame down the stack.</span></span> <span data-ttu-id="e8155-603">La mayoría de las características de la suma de comprobación de hardware no admite el cálculo de suma de comprobación para un segmento de datos protegido por IPsec.</span><span class="sxs-lookup"><span data-stu-id="e8155-603">Most hardware checksum feature does not support checksum computation for a segment of data protected by IPsec.</span></span> <span data-ttu-id="e8155-604">En el caso de un marco UDP o ICMP que deba fragmentarse, la suma de comprobación de UDP o ICMP debe calcularse en el software.</span><span class="sxs-lookup"><span data-stu-id="e8155-604">For a UDP or ICMP frame that needs to be fragmented, the UDP or ICMP checksum needs to be computed in software.</span></span> <span data-ttu-id="e8155-605">La mayoría de la lógica de suma de comprobación de hardware no controla el caso en que los datos se dividen en varios marcos.</span><span class="sxs-lookup"><span data-stu-id="e8155-605">Most hardware checksum logic does not handle the case where the data is split into multiple frames.</span></span>

## <a name="driver-output"></a><span data-ttu-id="e8155-606">Salida del controlador</span><span class="sxs-lookup"><span data-stu-id="e8155-606">Driver Output</span></span>  

<span data-ttu-id="e8155-607">Todas las solicitudes de transmisión de paquetes mencionadas anteriormente requieren una función de salida implementada en el controlador.</span><span class="sxs-lookup"><span data-stu-id="e8155-607">All previously mentioned packet transmit requests require an output function implemented in the driver.</span></span> <span data-ttu-id="e8155-608">La lógica de transmisión concreta es específica del hardware, pero normalmente consiste en comprobar la capacidad del hardware para enviar el paquete inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="e8155-608">Specific transmit logic is hardware specific, but it usually consists of checking for hardware capacity to send the packet immediately.</span></span> <span data-ttu-id="e8155-609">Si es posible, la carga de paquetes (y las cargas adicionales en la cadena de paquetes) se carga en uno o varios de los búferes de transmisión de hardware y se inicia una operación de transmisión.</span><span class="sxs-lookup"><span data-stu-id="e8155-609">If possible, the packet payload (and additional payloads in the packet  chain) are loaded into one or more of the hardware transmit buffers and a transmit operation is initiated.</span></span> <span data-ttu-id="e8155-610">Si el paquete no cabe en los búferes de transmisión disponibles, el paquete debe ponerse en cola y transmitirse cuando los búferes de transmisión estén disponibles.</span><span class="sxs-lookup"><span data-stu-id="e8155-610">If the packet won't fit in the available transmit buffers, the packet should be queued, and be transmitted when the transmission buffers become available.</span></span>

<span data-ttu-id="e8155-611">La cola de transmisión recomendada es una lista vinculada individualmente que tiene punteros de encabezado y de cola.</span><span class="sxs-lookup"><span data-stu-id="e8155-611">The recommended transmit queue is a singly linked list, having both head and tail pointers.</span></span> <span data-ttu-id="e8155-612">Los paquetes nuevos se agregan al final de la cola y el paquete más antiguo es siempre el primero.</span><span class="sxs-lookup"><span data-stu-id="e8155-612">New packets are added to the end of the queue, keeping the oldest packet at the front.</span></span> <span data-ttu-id="e8155-613">El campo *nx_packet_queue_next* se usa como el siguiente vínculo del paquete en la cola.</span><span class="sxs-lookup"><span data-stu-id="e8155-613">The *nx_packet_queue_next* field is used as the packet's next link in the queue.</span></span> <span data-ttu-id="e8155-614">El controlador define los punteros del encabezado y la cola de la transmisión.</span><span class="sxs-lookup"><span data-stu-id="e8155-614">The driver defines the head and tail pointers of the transmit queue.</span></span>

> [!CAUTION]  
> <span data-ttu-id="e8155-615">*Dado que se accede a esta cola desde las partes de subproceso e interrupción del controlador, la protección de la interrupción debe colocarse alrededor de las manipulaciones de la cola*.</span><span class="sxs-lookup"><span data-stu-id="e8155-615">*Because this queue is accessed from thread and interrupt portions of the driver, interrupt protection must be placed around the queue manipulations*.</span></span>

<span data-ttu-id="e8155-616">La mayoría de las implementaciones de hardware físico generan una interrupción tras la finalización de la transmisión de paquetes.</span><span class="sxs-lookup"><span data-stu-id="e8155-616">Most physical hardware implementations generate an interrupt upon packet transmit completion.</span></span> <span data-ttu-id="e8155-617">Cuando el controlador recibe una interrupción de este tipo, normalmente libera los recursos asociados al paquete que se está transmitiendo.</span><span class="sxs-lookup"><span data-stu-id="e8155-617">When the driver receives such an interrupt, it typically releases the resources associated with the packet just being transmitted.</span></span> <span data-ttu-id="e8155-618">Si la lógica de transmisión lee los datos directamente del búfer de NX_PACKET, el controlador debe usar el servicio de ***nx_packet_transmit_release*** para devolver el paquete asociado a la interrupción de retransmisión completada al grupo de paquetes disponible.</span><span class="sxs-lookup"><span data-stu-id="e8155-618">In case the transmit logic reads data directly from the NX_PACKET buffer, the driver should use the ***nx_packet_transmit_release*** service to release the packet associated with the transmit complete interrupt back to the available packet pool.</span></span> <span data-ttu-id="e8155-619">Después, el controlador examina la cola de transmisión para buscar otros paquetes que están esperando a ser enviados.</span><span class="sxs-lookup"><span data-stu-id="e8155-619">Next, the driver examines the transmit queue for additional packets waiting to be sent.</span></span> <span data-ttu-id="e8155-620">Los mismos paquetes de transmisión en cola que caben en los búferes de transmisión del hardware se quitan de la cola y se cargan en los búferes.</span><span class="sxs-lookup"><span data-stu-id="e8155-620">As many of the queued transmit packets that fit into the hardware transmit buffer(s) are de-queued and loaded into the buffers.</span></span> <span data-ttu-id="e8155-621">Esto va seguido del inicio de otra operación de envío.</span><span class="sxs-lookup"><span data-stu-id="e8155-621">This is followed by initiation of another send operation.</span></span>

<span data-ttu-id="e8155-622">En cuanto los datos de NX_PACKET se hayan movido al patrón FIFO del transmisor (o en caso de que un controlador admita la operación sin copia, se hayan transmitido los datos de NX_PACKET), el controlador debe mover el campo *nx_packet_prepend_ptr* al principio del encabezado IP antes de llamar a ***nx_packet_transmit_release** _. Recuerde ajustar el campo _nx_packet_length* en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="e8155-622">As soon as the data in the NX_PACKET has been moved into the transmitter FIFO (or in case a driver supports zero-copy operation, the data in NX_PACKET has been transmitted), the driver must move the *nx_packet_prepend_ptr* to the beginning of the IP header before calling ***nx_packet_transmit_release.** _ Remember to adjust _nx_packet_length* field accordingly.</span></span> <span data-ttu-id="e8155-623">Si un marco de IP se compone de varios paquetes, solo es necesario liberar el principio de la cadena de paquetes.</span><span class="sxs-lookup"><span data-stu-id="e8155-623">If an IP frame is made up of multiple packets, only the head of the packet chain needs to be released.</span></span>

## <a name="driver-input"></a><span data-ttu-id="e8155-624">Entrada del controlador</span><span class="sxs-lookup"><span data-stu-id="e8155-624">Driver Input</span></span>

<span data-ttu-id="e8155-625">Tras la recepción de una interrupción de paquetes recibida, el controlador de red recupera el paquete de los búferes de recepción de hardware físico y crea un paquete de NetX Duo válido.</span><span class="sxs-lookup"><span data-stu-id="e8155-625">Upon reception of a received packet interrupt, the network driver retrieves the packet from the physical hardware receive buffers and builds a valid NetX Duo packet.</span></span> <span data-ttu-id="e8155-626">La creación de un paquete de NetX Duo válido implica configurar el campo de longitud adecuado y el encadenamiento de varios paquetes si el tamaño del paquete entrante es mayor que una sola carga de paquete.</span><span class="sxs-lookup"><span data-stu-id="e8155-626">Building a valid NetX Duo packet involves setting up the appropriate length field and chaining together multiple packets if the incoming packet's size is greater than a single packet payload.</span></span> <span data-ttu-id="e8155-627">Una vez creado correctamente, *prepend_ptr* se mueve después del encabezado de la capa física y el paquete de recepción se envía a NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="e8155-627">Once properly built, the *prepend_ptr* is moved after the physical layer header and the receive packet is dispatched to NetX Duo.</span></span>

<span data-ttu-id="e8155-628">NetX Duo supone que los encabezados IP (IPv4 e IPv6) y ARP están alineados en un límite **ULONG**.</span><span class="sxs-lookup"><span data-stu-id="e8155-628">NetX Duo assumes that the IP (IPv4 and IPv6) and ARP headers are aligned on a **ULONG** boundary.</span></span> <span data-ttu-id="e8155-629">Por consiguiente, el controlador de NetX Duo debe garantizar esta alineación.</span><span class="sxs-lookup"><span data-stu-id="e8155-629">The NetX Duo driver must, therefore, ensure this alignment.</span></span> <span data-ttu-id="e8155-630">En entornos Ethernet, esto se logra iniciando el encabezado de Ethernet a dos bytes del principio del paquete.</span><span class="sxs-lookup"><span data-stu-id="e8155-630">In Ethernet environments this is done by starting the Ethernet header two bytes from the beginning of the packet.</span></span> <span data-ttu-id="e8155-631">Cuando *nx_packet_prepend_ptr* se mueve más allá del encabezado de Ethernet, el encabezado IP (IPv4 e IPv6) o ARP subyacente tiene una alineación de 4 bytes.</span><span class="sxs-lookup"><span data-stu-id="e8155-631">When the *nx_packet_prepend_ptr* is moved beyond the Ethernet header, the underlying IP (IPv4 and IPv6) or ARP header is 4-byte aligned.</span></span>

> [!WARNING] 
> <span data-ttu-id="e8155-632">*Consulte la sección "Encabezados Ethernet" a continuación para conocer las diferencias importantes entre los encabezados Ethernet IPv4 e IPv6*.</span><span class="sxs-lookup"><span data-stu-id="e8155-632">*See the section "Ethernet Headers" below for important differences between IPv6 and IPv6 Ethernet headers*.</span></span>

<span data-ttu-id="e8155-633">Hay varias funciones del paquete de recepción disponibles en NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="e8155-633">There are several receive packet functions available in NetX Duo.</span></span> <span data-ttu-id="e8155-634">Si el paquete recibido es un paquete ARP, se llama a _\***nx_arp_packet_deferred_receive**_.</span><span class="sxs-lookup"><span data-stu-id="e8155-634">If the received packet is an ARP packet, _\***nx_arp_packet_deferred_receive**_ is called.</span></span> <span data-ttu-id="e8155-635">Si el paquete recibido es un paquete RARP, se llama a _ _*_nx_rarp_packet_deferred_receive_*_.</span><span class="sxs-lookup"><span data-stu-id="e8155-635">If the received packet is an RARP packet, _ _*_nx_rarp_packet_deferred_receive_*_ is called.</span></span> <span data-ttu-id="e8155-636">Hay varias opciones para controlar los paquetes IP entrantes.</span><span class="sxs-lookup"><span data-stu-id="e8155-636">There are several options for handling incoming IP packets.</span></span> <span data-ttu-id="e8155-637">Si lo que se desea es lograr el control más rápido posible de los paquetes IP, se llama a _*_nx_ip_packet_receive_*_.</span><span class="sxs-lookup"><span data-stu-id="e8155-637">For the fastest handling of IP packets, _ _*_nx_ip_packet_receive_*_ is called.</span></span> <span data-ttu-id="e8155-638">Este enfoque es el que tiene la menor sobrecarga, pero requiere más procesamiento en el controlador de servicio de interrupción de recepción (ISR) del controlador.</span><span class="sxs-lookup"><span data-stu-id="e8155-638">This approach has the least overhead, but requires more processing in the driver's receive interrupt service handler (ISR).</span></span> <span data-ttu-id="e8155-639">Para que el procesamiento de ISR sea mínimo, se llama a __ \*_nx_ip_packet_deferred_receive_\*\*.</span><span class="sxs-lookup"><span data-stu-id="e8155-639">For minimal ISR processing __ *_nx_ip_packet_deferred_receive_*\* is called.</span></span>

<span data-ttu-id="e8155-640">Una vez que el nuevo paquete de recepción se ha creado correctamente, los búferes de recepción del hardware físico se configuran para recibir más datos.</span><span class="sxs-lookup"><span data-stu-id="e8155-640">After the new receive packet is properly built, the physical hardware's receive buffers are setup to receive more data.</span></span> <span data-ttu-id="e8155-641">Esto podría requerir la asignación de paquetes de NetX Duo y la colocación de la dirección de la carga en el búfer de recepción de hardware, o puede que se limite a cambiar una configuración del búfer de recepción de hardware.</span><span class="sxs-lookup"><span data-stu-id="e8155-641">This might require allocating NetX Duo packets and placing the payload address in the hardware receive buffer or it may simply amount to changing a setting in the hardware receive buffer.</span></span> <span data-ttu-id="e8155-642">Para minimizar las posibilidades de saturación, es importante que los búferes de recepción del hardware tengan búferes disponibles lo antes posible después de recibir un paquete.</span><span class="sxs-lookup"><span data-stu-id="e8155-642">To minimize overrun possibilities, it is important that the hardware's receive buffers have available buffers as soon as possible after a packet is received.</span></span>

> [!IMPORTANT] 
> <span data-ttu-id="e8155-643">*Los búferes de recepción iniciales se configuran durante la inicialización del controlador*.</span><span class="sxs-lookup"><span data-stu-id="e8155-643">*The initial receive buffers are setup during driver initialization*.</span></span>

### <a name="deferred-receive-packet-handling"></a><span data-ttu-id="e8155-644">Control de paquetes de recepción diferidos</span><span class="sxs-lookup"><span data-stu-id="e8155-644">Deferred Receive Packet Handling</span></span>  
<span data-ttu-id="e8155-645">El controlador puede diferir el procesamiento de paquetes de recepción en el subproceso auxiliar de IP de NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="e8155-645">The driver may defer receive packet processing to the NetX Duo IP helper thread.</span></span> <span data-ttu-id="e8155-646">En algunas aplicaciones, es posible que esto sea necesario para minimizar tanto el procesamiento de ISR como el número de paquetes descartados.</span><span class="sxs-lookup"><span data-stu-id="e8155-646">For some applications this may be necessary to minimize ISR processing as well as dropped packets.</span></span> 

<span data-ttu-id="e8155-647">Para usar el control de paquetes diferido, antes debe compilarse la biblioteca de NetX Duo con \***NX_DRIVER_DEFERRED_PROCESSING** _ definido.</span><span class="sxs-lookup"><span data-stu-id="e8155-647">To use deferred packet handling, the NetX Duo library must first be compiled with \***NX_DRIVER_DEFERRED_PROCESSING** _ defined.</span></span> <span data-ttu-id="e8155-648">Esto agrega la lógica de paquetes diferida al subproceso auxiliar de IP de NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="e8155-648">This adds the deferred packet logic to the NetX Duo IP helper thread.</span></span> <span data-ttu-id="e8155-649">Después, al recibir un paquete de datos, el controlador debe llamar a __nx_ip_packet_deferred_receive():\*</span><span class="sxs-lookup"><span data-stu-id="e8155-649">Next, on receiving a data packet, the driver must call __nx_ip_packet_deferred_receive():\*</span></span>

```c
_nx_ip_packet_deferred_receive(ip_ptr, packet_ptr);
```
<span data-ttu-id="e8155-650">La función de recepción diferida coloca el paquete de recepción representado por *packet_ptr* en un patrón FIFO (lista vinculada) y notifica al subproceso auxiliar de IP.</span><span class="sxs-lookup"><span data-stu-id="e8155-650">The deferred receive function places the receive packet represented by *packet_ptr* on a FIFO (linked list) and notifies the IP helper thread.</span></span> <span data-ttu-id="e8155-651">Después de ejecutarse, la aplicación auxiliar de IP llama repetidamente a la función de control diferida para procesar cada paquete diferido.</span><span class="sxs-lookup"><span data-stu-id="e8155-651">After executing, the IP helper repetitively calls the deferred handling function to process each deferred packet.</span></span> <span data-ttu-id="e8155-652">Normalmente, el procesamiento de los controladores diferidos incluye la eliminación del encabezado de la capa física del paquete (normalmente Ethernet) y su envío a una de estas funciones de recepción de NetX Duo:</span><span class="sxs-lookup"><span data-stu-id="e8155-652">The deferred handler processing typically includes removing the packet's physical layer header (usually Ethernet) and dispatching it to one of these NetX Duo receive functions:</span></span>

- <span data-ttu-id="e8155-653">***_nx_ip_packet_receive***</span><span class="sxs-lookup"><span data-stu-id="e8155-653">***_nx_ip_packet_receive***</span></span>
- <span data-ttu-id="e8155-654">***_nx_arp_packet_deferred_receive***</span><span class="sxs-lookup"><span data-stu-id="e8155-654">***_nx_arp_packet_deferred_receive***</span></span>
- <span data-ttu-id="e8155-655">***_nx_rarp_packet_deferred_receive***</span><span class="sxs-lookup"><span data-stu-id="e8155-655">***_nx_rarp_packet_deferred_receive***</span></span>

## <a name="ethernet-headers"></a><span data-ttu-id="e8155-656">Encabezados Ethernet</span><span class="sxs-lookup"><span data-stu-id="e8155-656">Ethernet Headers</span></span> 

<span data-ttu-id="e8155-657">Una de las diferencias más importantes entre IPv6 e IPv4 para los encabezados Ethernet es la configuración del tipo de marco.</span><span class="sxs-lookup"><span data-stu-id="e8155-657">One of the most significant differences between IPv6 and IPv4 for Ethernet Headers is the frame type setting.</span></span> <span data-ttu-id="e8155-658">Al enviar paquetes, el controlador Ethernet es responsable de establecer el tipo de marco Ethernet de los paquetes salientes.</span><span class="sxs-lookup"><span data-stu-id="e8155-658">When sending out packets, the Ethernet driver is responsible for setting the Ethernet frame type in outgoing packets.</span></span> <span data-ttu-id="e8155-659">En el caso de los paquetes IPv6, el tipo de marco debe ser 0x86DD y en el caso de los paquetes IPv4, debe ser 0x0800.</span><span class="sxs-lookup"><span data-stu-id="e8155-659">For IPv6 packets, the frame type should be 0x86DD; for IPv4 packets, the frame type should be 0x0800.</span></span>

<span data-ttu-id="e8155-660">El siguiente segmento de código muestra este proceso:</span><span class="sxs-lookup"><span data-stu-id="e8155-660">The following code segment illustrates this process:</span></span>

```c
NX_PACKET *packet_ptr;
packet_ptr = driver_req_ptr -> nx_ip_driver_packet;
if (packet_ptr -> nx_packet_ip_version == NX_IP_VERSION_V4)
{

   /* Set Ethernet frame type to IPv4 /*
   ethernet_frame_ptr -> frame_type = 0x0800;

   /* Swap endian-ness for little endian targets.*/
   NX_CHANGE_USHORT_ENDIAN(ethernet_frame_ptr -> frame_type);
}
else if (packet_ptr -> nx_packet_ip_version == NX_IP_VERSION_V6)
{

   /* Set Ethernet frame type to IPv6. /*
   ethernet_frame_ptr -> frame_type = 0x86DD;

   /* Swap endian-ness for little endian targets.*/
   NX_CHANGE_USHORT_ENDIAN(ethernet_frame_ptr -> frame_type);
}
else
{

   /* Unknown IP version. Free the packet we will not send. */
   nx_packet_transmit_release(packet_ptr);
}
```
<span data-ttu-id="e8155-661">De forma similar, para los paquetes entrantes, el controlador Ethernet debe determinar el tipo de paquete del tipo de marco Ethernet.</span><span class="sxs-lookup"><span data-stu-id="e8155-661">Similarly, for incoming packets, the Ethernet driver should determine the packet type from the Ethernet frame type.</span></span> <span data-ttu-id="e8155-662">Debe implementarse para aceptar los tipos de marco IPv6 (0x86DD), IPv4 (0x0800), ARP (0x0806) y RARP (0x8035).</span><span class="sxs-lookup"><span data-stu-id="e8155-662">It should be implemented to accept IPv6 (0x86DD), IPv4 (0x0800), ARP (0x0806), and RARP (0x8035) frame types.</span></span>

## <a name="example-ram-ethernet-network-driver"></a><span data-ttu-id="e8155-663">Controlador de red Ethernet de RAM de ejemplo</span><span class="sxs-lookup"><span data-stu-id="e8155-663">Example RAM Ethernet Network Driver</span></span>

<span data-ttu-id="e8155-664">El sistema de demostración de NetX Duo se entrega con un pequeño controlador de red basado en RAM, definido en el archivo ***nx_ram_network_driver.c.***</span><span class="sxs-lookup"><span data-stu-id="e8155-664">The NetX Duo demonstration system is delivered with a small RAM-based network driver, defined in the file ***nx_ram_network_driver.c.***</span></span> <span data-ttu-id="e8155-665">Este controlador da por hecho que todas las instancias de IP se encuentran en la misma red y simplemente asigna direcciones de hardware virtual (direcciones MAC) a cada instancia del dispositivo a medida que se crean.</span><span class="sxs-lookup"><span data-stu-id="e8155-665">This driver assumes the IP instances are all on the same network and simply assigns virtual hardware addresses (MAC addresses) to each device instance as they are created.</span></span> <span data-ttu-id="e8155-666">Este archivo es un buen ejemplo de la estructura básica de los controladores de red físicos de NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="e8155-666">This file provides a good example of the basic structure of NetX Duo physical network drivers.</span></span> <span data-ttu-id="e8155-667">Los usuarios pueden desarrollar sus propios controladores de red mediante el marco de controlador que se presenta en este ejemplo.</span><span class="sxs-lookup"><span data-stu-id="e8155-667">Users may develop their own network drivers using the driver framework presented in this example.</span></span>

<span data-ttu-id="e8155-668">La función de entrada del controlador de red es \* **_nx_ram_network_driver(),** _ que se pasa a la llamada de creación de una instancia de IP.</span><span class="sxs-lookup"><span data-stu-id="e8155-668">The entry function of the network driver is \***_nx_ram_network_driver(),** _ which is passed to the IP instance create call.</span></span> <span data-ttu-id="e8155-669">Las funciones de entrada de las interfaces de red adicionales se pueden pasar al servicio _nx_ip_interface_attach()\*.</span><span class="sxs-lookup"><span data-stu-id="e8155-669">Entry functions for additional network interfaces can be passed into the _nx_ip_interface_attach()\* service.</span></span> <span data-ttu-id="e8155-670">Una vez que se inicia la ejecución de la instancia de IP, se invoca la función de entrada del controlador para inicializar y habilitar el dispositivo (consulte el caso **NX_LINK_INITIALIZE** y **NX_LINK_ENABLE**).</span><span class="sxs-lookup"><span data-stu-id="e8155-670">After the IP instance starts to run, the driver entry function is invoked to initialize and enable the device (refer to the case **NX_LINK_INITIALIZE** and **NX_LINK_ENABLE**).</span></span> <span data-ttu-id="e8155-671">Después de la emisión del comando **NX_LINK_ENABLE**, el dispositivo debe estar preparado para transmitir y recibir paquetes.</span><span class="sxs-lookup"><span data-stu-id="e8155-671">After the **NX_LINK_ENABLE** command is issued, the device should be ready to transmit and receive packets.</span></span> 

<span data-ttu-id="e8155-672">La instancia de IP transmite los paquetes de red a través de uno de estos comandos:</span><span class="sxs-lookup"><span data-stu-id="e8155-672">The IP instance transmits network packets via one of these commands:</span></span>

| <span data-ttu-id="e8155-673">Get-Help</span><span class="sxs-lookup"><span data-stu-id="e8155-673">Command</span></span>                         |  <span data-ttu-id="e8155-674">Descripción</span><span class="sxs-lookup"><span data-stu-id="e8155-674">Description</span></span>                                                   |
| ------------------------------- | -------------------------------------------------------------- |
| <span data-ttu-id="e8155-675">***NX_LINK_PACKET_SEND***</span><span class="sxs-lookup"><span data-stu-id="e8155-675">***NX_LINK_PACKET_SEND***</span></span>    | <span data-ttu-id="e8155-676">Se está transmitiendo un paquete IPv4 o IPv6.</span><span class="sxs-lookup"><span data-stu-id="e8155-676">An IPv4 or IPv6 packet is being transmitted,</span></span>                   |
| <span data-ttu-id="e8155-677">***NX_LINK_ARP_SEND***</span><span class="sxs-lookup"><span data-stu-id="e8155-677">***NX_LINK_ARP_SEND***</span></span>       | <span data-ttu-id="e8155-678">Se está transmitiendo un paquete de solicitudes ARP o respuestas ARP.</span><span class="sxs-lookup"><span data-stu-id="e8155-678">An ARP request or ARP response packet is being transmitted,</span></span>    |
| <span data-ttu-id="e8155-679">***NX_LINK_ARP_RARP_SEND***</span><span class="sxs-lookup"><span data-stu-id="e8155-679">***NX_LINK_ARP_RARP_SEND***</span></span> | <span data-ttu-id="e8155-680">Se está transmitiendo un paquete de solicitudes o respuestas ARP inverso.</span><span class="sxs-lookup"><span data-stu-id="e8155-680">A Reverse ARP request or response packet is being transmitted,</span></span> |

<span data-ttu-id="e8155-681">Al procesar estos comandos, el controlador de red debe anteponer el encabezado del marco Ethernet adecuado y, después, enviarlo al hardware subyacente para su transmisión.</span><span class="sxs-lookup"><span data-stu-id="e8155-681">On processing these commands, the network driver needs to prepend the appropriate Ethernet frame header, and then send it to the underlying hardware for transmission.</span></span> <span data-ttu-id="e8155-682">Durante el proceso de transmisión, el controlador de red tiene la propiedad exclusiva del área del búfer de paquetes.</span><span class="sxs-lookup"><span data-stu-id="e8155-682">During the transmission process, the network driver has the exclusive ownership of the packet buffer area.</span></span> <span data-ttu-id="e8155-683">Por consiguiente, una vez que se transmiten los datos (o una vez que los datos se han copiado en el búfer de transferencia interno del controlador), el controlador de red es responsable de liberar el búfer de paquetes, para lo cual en primer lugar mueve el puntero antepuesto más allá del encabezado Ethernet al encabezado de IP (y ajusta la longitud del paquete en consecuencia) y, después, llama al servicio ***nx_packet_transmit_release()*** para liberar el paquete.</span><span class="sxs-lookup"><span data-stu-id="e8155-683">Therefore once the data is being transmitted (or once the data has been copied into the driver internal transfer buffer), the network driver is responsible for releasing the packet buffer by first moving the prepend pointer past the Ethernet header to the IP header (and adjust packet length accordingly), and then by calling the ***nx_packet_transmit_release()*** service to release the packet.</span></span> <span data-ttu-id="e8155-684">Si no se libera el paquete después de la transmisión de datos, se producirán pérdidas de paquetes.</span><span class="sxs-lookup"><span data-stu-id="e8155-684">Not releasing the packet after data transmission will cause packets to leak.</span></span>

<span data-ttu-id="e8155-685">El controlador de dispositivo de red también es responsable de administrar los paquetes de datos entrantes.</span><span class="sxs-lookup"><span data-stu-id="e8155-685">The network device driver is also responsible for handling incoming data packets.</span></span> <span data-ttu-id="e8155-686">En el ejemplo del controlador de RAM, la función ***_nx_ram_network_driver_receive()*** procesa el paquete recibido.</span><span class="sxs-lookup"><span data-stu-id="e8155-686">In the RAM driver example, the received packet is processed by the function ***_nx_ram_network_driver_receive()***.</span></span> <span data-ttu-id="e8155-687">Una vez que el dispositivo recibe un marco Ethernet, el controlador es responsable de almacenar los datos en la estructura NX_PACKET.</span><span class="sxs-lookup"><span data-stu-id="e8155-687">Once the device receives an Ethernet frame, the driver is responsible for storing the data in  NX_PACKET structure.</span></span> <span data-ttu-id="e8155-688">Tenga en cuenta que NetX Duo supone que el encabezado IP comienza en una dirección alineada de 4 bytes.</span><span class="sxs-lookup"><span data-stu-id="e8155-688">Note that NetX Duo assumes the IP header starts from 4-byte aligned address.</span></span> <span data-ttu-id="e8155-689">Dado que la longitud del encabezado de Ethernet es de 14 bytes, el controlador necesita almacenar el inicio del encabezado Ethernet en una dirección alineada de 2 bytes para garantizar que el encabezado IP se inicia en una dirección alineada de 4 bytes.</span><span class="sxs-lookup"><span data-stu-id="e8155-689">Since the length of Ethernet header is 14byte, the driver needs to store the starting of the Ethernet header at 2-byte aligned address to guarantee that the IP header starts at 4-byte aligned address.</span></span>
---
title: 'Capítulo 3: Introducción funcional a GUIX'
description: Este capítulo contiene información general funcional del producto de interfaz de usuario GUIX de alto rendimiento.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 2a53da048b18d35b6b15a4ad8d4138e1a2acd4e8
ms.sourcegitcommit: 95f4ae0842a486fec8f10d1480203695faa9592d
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 06/09/2021
ms.locfileid: "111875260"
---
# <a name="chapter-3---functional-overview-of-guix"></a><span data-ttu-id="9fa16-103">Capítulo 3: Introducción funcional a GUIX</span><span class="sxs-lookup"><span data-stu-id="9fa16-103">Chapter 3 - Functional Overview of GUIX</span></span>

<span data-ttu-id="9fa16-104">Este capítulo contiene información general funcional del producto de interfaz de usuario GUIX de alto rendimiento.</span><span class="sxs-lookup"><span data-stu-id="9fa16-104">This chapter contains a functional overview of the high-performance GUIX user interface product.</span></span> 

## <a name="execution-overview"></a><span data-ttu-id="9fa16-105">Información general sobre la ejecución</span><span class="sxs-lookup"><span data-stu-id="9fa16-105">Execution Overview</span></span>

<span data-ttu-id="9fa16-106">GUIX implementa un modelo de programación basado en eventos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-106">GUIX implements an event driven programming model.</span></span> <span data-ttu-id="9fa16-107">Esto significa que el marco de GUIX está principalmente controlado por la recepción de eventos insertados en la cola de eventos de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-107">This means that the GUIX framework is primarily driven by the receipt of events pushed into the GUIX event queue.</span></span> <span data-ttu-id="9fa16-108">El procesamiento de estos eventos tiene lugar en el contexto del subproceso de GUIX, que es un subproceso de ThreadX creado durante la inicialización del sistema de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-108">The processing of these events takes place in the context of the GUIX thread, which is a ThreadX thread created during GUIX system initialization.</span></span>

<span data-ttu-id="9fa16-109">Las aplicaciones de GUIX definen la interfaz de usuario mediante llamadas a las funciones de API de GUIX para crear ventanas y widgets secundarios, y personalizan la apariencia de estos widgets mediante llamadas a otras funciones de API que se usan para definir colores, estilos, fuentes y otros atributos de cada tipo de ventana o widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-109">GUIX applications define the user interface by calling GUIX API functions to create windows and child widgets, and customize the appearance of these widgets by calling additional API functions used to define colors, styles, fonts, and various other attributes of each window or widget type.</span></span> <span data-ttu-id="9fa16-110">Si usa GUIX Studio para crear la apariencia de las pantallas de la interfaz de usuario, esta aplicación se encarga de gran parte de esta labor de llamar a funciones de API de GUIX para crear la pantalla.</span><span class="sxs-lookup"><span data-stu-id="9fa16-110">If you are using GUIX Studio to create the appearance of your user-interface screens, much of this work of calling GUIX API functions to create your display is done for you by the GUIX Studio application.</span></span>

<span data-ttu-id="9fa16-111">Las aplicaciones de GUIX interactúan con el usuario del sistema y con la lógica de negocios externa mediante el control de los eventos recuperados de la cola de eventos de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-111">GUIX applications interact with the system user and with external business logic by handling events retrieved from the GUIX event queue.</span></span>
<span data-ttu-id="9fa16-112">Normalmente, estos eventos se crean mediante widgets de GUIX, pero también pueden ser creados por subprocesos externos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-112">These events are usually produced by GUIX widgets, but they can also be created by external threads.</span></span> <span data-ttu-id="9fa16-113">Cuando se presiona un botón de GUIX típico, ese botón envía un evento a su ventana principal.</span><span class="sxs-lookup"><span data-stu-id="9fa16-113">When a typical GUIX button is pushed, that button sends an event to the button’s parent window.</span></span> <span data-ttu-id="9fa16-114">El programa de la aplicación actuará a partir de esta acción de presionar el botón proporcionando un controlador para el evento que la representa.</span><span class="sxs-lookup"><span data-stu-id="9fa16-114">Your application program will act on that button push by providing a handler for the button push event.</span></span>

<span data-ttu-id="9fa16-115">A menudo se crean otros subprocesos de GUIX para elementos como los controladores de entrada.</span><span class="sxs-lookup"><span data-stu-id="9fa16-115">Additional GUIX threads are often created for things such as input drivers.</span></span> <span data-ttu-id="9fa16-116">Un controlador de entrada de pantalla táctil típico se ejecuta como un subproceso externo independiente del subproceso principal de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-116">A typical touch screen input driver is executed as a standalone thread external to the main GUIX thread.</span></span> <span data-ttu-id="9fa16-117">El controlador de entrada táctil hace llegar la información táctil al subproceso de GUIX mediante el envío de eventos a la cola de eventos de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-117">The touch input driver sends touch information into the GUIX thread by sending events into the GUIX event queue.</span></span>

<span data-ttu-id="9fa16-118">Dado que muchas operaciones de interfaz de usuario, como las animaciones, requieren información de tiempo precisa, GUIX también implementa una interfaz de temporizador sencilla y fácil de usar.</span><span class="sxs-lookup"><span data-stu-id="9fa16-118">Since many user-interface operations such as animations require accurate timing information, GUIX also implements a simple and easy to use timer interface.</span></span> <span data-ttu-id="9fa16-119">Esta interfaz de temporizador se basa en el servicio de temporizador de ThreadX y se configura automáticamente al iniciar el sistema.</span><span class="sxs-lookup"><span data-stu-id="9fa16-119">This timer interface is built upon the ThreadX timer service, and is configured automatically at system startup.</span></span>

<span data-ttu-id="9fa16-120">La gran mayoría del software de GUIX no tiene dependencia alguna del hardware.</span><span class="sxs-lookup"><span data-stu-id="9fa16-120">The vast majority of the GUIX software is independent of any hardware dependencies.</span></span> <span data-ttu-id="9fa16-121">El marco de trabajo sí requiere controladores de entrada y controladores gráficos específicos del hardware.</span><span class="sxs-lookup"><span data-stu-id="9fa16-121">The framework does require hardware-specific input drivers and hardware-specific graphics drivers.</span></span> <span data-ttu-id="9fa16-122">En el capítulo 5 se trata en detalle el modo en que se implementan estos controladores específicos de hardware.</span><span class="sxs-lookup"><span data-stu-id="9fa16-122">The details of how these hardware specific drivers are implemented are deferred to chapter 5.</span></span>

## <a name="initialization"></a><span data-ttu-id="9fa16-123">Inicialización</span><span class="sxs-lookup"><span data-stu-id="9fa16-123">Initialization</span></span> 

<span data-ttu-id="9fa16-124">Se debe llamar al servicio ***gx_system_initialize*** antes de llamar a cualquier otro servicio de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-124">The service ***gx_system_initialize*** must be called before any other GUIX service is called.</span></span> <span data-ttu-id="9fa16-125">Se puede llamar a la inicialización del sistema de GUIX desde la rutina ***tx_application_define*** de ThreadX (contexto de inicialización) o desde subprocesos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-125">GUIX system initialization can be called from the ThreadX ***tx_application_define*** routine (initialization context) or from application threads.</span></span> <span data-ttu-id="9fa16-126">La función ***gx_system_initialize*** crea la cola de eventos de GUIX, inicializa la utilidad del temporizador de GUIX, crea el subproceso del sistema de GUIX principal e inicializa diversas estructuras de datos mantenidas por GUIX durante la ejecución de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-126">The ***gx_system_initialize*** function creates the GUIX event queue, initializes the GUIX timer facility, creates the main GUIX system thread, and initializes various data structures maintained by GUIX during the execution of your application.</span></span>

<span data-ttu-id="9fa16-127">Después de que ***gx_system_initialize*** vuelve, la aplicación está lista para crear pantallas, lienzos, ventanas, widgets, y para personalizar las propiedades de todos los objetos de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-127">After ***gx_system_initialize*** returns, the application is ready to create displays, canvases, windows, widgets, and customize the properties of all GUIX objects.</span></span> <span data-ttu-id="9fa16-128">Se pueden llamar a muchas de las API de creación de objetos de GUIX desde ***tx_application_define*** o desde subprocesos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-128">Much of the GUIX object creation API can be called from ***tx_application_define*** or from application threads.</span></span>

## <a name="application-interface-calls"></a><span data-ttu-id="9fa16-129">Llamadas a la interfaz de la aplicación</span><span class="sxs-lookup"><span data-stu-id="9fa16-129">Application Interface Calls</span></span> 

<span data-ttu-id="9fa16-130">Las llamadas desde la aplicación se realizan principalmente desde ***tx_application_define*** (contexto de inicialización) o desde subprocesos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-130">Calls from the application are largely made from ***tx_application_define*** (initialization context) or from application threads.</span></span> <span data-ttu-id="9fa16-131">Consulte la sección "Permitido desde" de cada API de GUIX que se describe en el capítulo 4 para determinar el contexto desde el que se puede llamar.</span><span class="sxs-lookup"><span data-stu-id="9fa16-131">Please see the “Allowed From” section of each GUIX API described in Chapter 4 to determine what context it may be called from.</span></span>

<span data-ttu-id="9fa16-132">En su mayor parte, el procesamiento de actividades intensivas se difiere al subproceso interno de GUIX, incluido el procesamiento de eventos y el dibujo de widgets y ventanas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-132">For the most part, processing intensive activities are deferred to the internal GUIX thread, including all event processing and widget/window drawing.</span></span>

<span data-ttu-id="9fa16-133">Se puede llamar a las funciones de API de GUIX desde cualquier subproceso en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="9fa16-133">The GUIX API functions can be called from any thread at any time.</span></span>
<span data-ttu-id="9fa16-134">Sin embargo, se suele considerar que una arquitectura de mejor calidad es la que separa la lógica de negocios crítica en el tiempo de la lógica de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="9fa16-134">However it is usually considered to be better architecture to separate your time-critical business logic from your user interface logic.</span></span> <span data-ttu-id="9fa16-135">Las operaciones de dibujo de la interfaz de usuario a veces pueden tardar mucho tiempo en función del tamaño de la pantalla y el rendimiento de la CPU, por lo que no querrá que los subprocesos críticos en el tiempo se retrasen a la espera de que se complete una operación de dibujo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-135">Since the user interface drawing operations can sometimes take a long time depending on your display size and CPU performance, you normally would not want to have time-critical threads delayed waiting for a drawing operation to complete.</span></span>

## <a name="internal-guix-thread"></a><span data-ttu-id="9fa16-136">Subproceso interno de GUIX</span><span class="sxs-lookup"><span data-stu-id="9fa16-136">Internal GUIX Thread</span></span> 

<span data-ttu-id="9fa16-137">Como se mencionó, GUIX tiene un subproceso interno que realiza la mayor parte del procesamiento de la GUI.</span><span class="sxs-lookup"><span data-stu-id="9fa16-137">As mentioned, GUIX has an internal thread that performs the bulk of the GUI processing.</span></span> <span data-ttu-id="9fa16-138">Este subproceso lo crea el software de la aplicación mediante una llamada a ***gx_system_initialize** _ seguida de _*_gx_system_start_\*\*.</span><span class="sxs-lookup"><span data-stu-id="9fa16-138">This thread is created by the application software by calling ***gx_system_initialize** _ followed by _*_gx_system_start_\*\*.</span></span>

<span data-ttu-id="9fa16-139">La prioridad del subproceso interno de GUIX viene determinada por el elemento `#define GX_SYSTEM_THREAD_PRIORITY`.</span><span class="sxs-lookup"><span data-stu-id="9fa16-139">The priority of the internal GUIX thread is determined by the `#define GX_SYSTEM_THREAD_PRIORITY`.</span></span> <span data-ttu-id="9fa16-140">El valor predeterminado es 16 (prioridad media), pero se puede modificar especificándolo en el archivo de encabezado gx_port.h o gx_user.h, lo que invalida el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="9fa16-140">This value defaults to 16 (middle priority) but can be modified by specifying this value in the gx_port.h or gx_user.h header file, overriding the default value.</span></span>

<span data-ttu-id="9fa16-141">La porción de tiempo del subproceso de GUIX se define de forma similar con el elemento `#define GX_SYSTEM_THREAD_TIMESLICE`, cuyo valor predeterminado es 10 ms.</span><span class="sxs-lookup"><span data-stu-id="9fa16-141">The GUIX thread time slice is similarly defined by the `#define GX_SYSTEM_THREAD_TIMESLICE`, which defaults to the value 10 ms.</span></span>

<span data-ttu-id="9fa16-142">El tamaño de la pila de subprocesos del sistema viene determinado por el elemento `#define GX_THREAD_STACK_SIZE`, que se encuentra en el archivo de encabezado ***gx_port. h***, pero también se puede invalidar especificándolo en el archivo de encabezado gx_user.h.</span><span class="sxs-lookup"><span data-stu-id="9fa16-142">The stack sie of the system thread is determined by the `#define GX_THREAD_STACK_SIZE`, which is found in the ***gx_port.h*** header file, but can also be overridden by specifying this value in your gx_user.h header file.</span></span>

<span data-ttu-id="9fa16-143">El bucle de ejecución del subproceso interno de GUIX se compone de tres acciones.</span><span class="sxs-lookup"><span data-stu-id="9fa16-143">The internal GUIX thread execution loop is composed of three actions.</span></span>
<span data-ttu-id="9fa16-144">En primer lugar, GUIX recupera los eventos de la cola de eventos de GUIX y envía esos eventos para su procesamiento por parte de las ventanas y los widgets de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-144">First, GUIX retrieves events from the GUIX event queue and dispatches those events for processing by the GUIX windows and widgets.</span></span> <span data-ttu-id="9fa16-145">Normalmente, los eventos se insertan en la cola de eventos de GUIX mediante temporizadores periódicos, dispositivos de entrada como una pantalla táctil o un teclado numérico, y por los propios widgets de GUIX a medida que procesan la entrada del usuario.</span><span class="sxs-lookup"><span data-stu-id="9fa16-145">Events are typically pushed into the GUIX event queue by periodic timers, input devices such as a touch screen or keypad, and by GUIX widgets themselves as they process user input.</span></span> <span data-ttu-id="9fa16-146">A continuación, una vez procesados todos los eventos, GUIX determina si se necesita una actualización de pantalla y, si es así, realiza el procesamiento necesario para actualizar los datos gráficos de la pantalla, principalmente mediante una llamada a las funciones de dibujo de las ventanas y los widgets que se han marcado como modificados.</span><span class="sxs-lookup"><span data-stu-id="9fa16-146">Next, after all events have been processed, GUIX determines if a screen refresh is needed, and if so performs the processing necessary to update the display graphics data, mainly by calling the drawing functions of those windows and widgets which have been marked as dirty.</span></span> <span data-ttu-id="9fa16-147">Por último, GUIX suspende el subproceso de GUIX hasta que lleguen uno o varios eventos nuevos de entrada.</span><span class="sxs-lookup"><span data-stu-id="9fa16-147">Finally, GUIX suspends the GUIX thread until a new input event or events arrive.</span></span>

## <a name="event-processing"></a><span data-ttu-id="9fa16-148">Procesamiento de eventos</span><span class="sxs-lookup"><span data-stu-id="9fa16-148">Event Processing</span></span> 

<span data-ttu-id="9fa16-149">Los eventos de entrada táctil o de lápiz se procesan determinando la ventana o el widget de nivel superior situado por debajo de la posición del píxel de entrada táctil o de lápiz, y llamando a la función de procesamiento de eventos de esa ventana o ese widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-149">Touch or pen input events are processed by determining the top-most window or widget beneath the touch or pen input pixel position and calling that window/widget’s event processing function.</span></span> <span data-ttu-id="9fa16-150">Si el widget entiende los eventos de entrada del lápiz, procesará el evento según corresponda en ese tipo de widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-150">If the widget understands pen input events, it will process the event as appropriate for that widget type.</span></span> <span data-ttu-id="9fa16-151">De lo contrario, el widget de nivel superior pasará el evento de entrada táctil o de lápiz a su elemento principal para el procesamiento.</span><span class="sxs-lookup"><span data-stu-id="9fa16-151">If not, the top-most widget will pass the touch or pen input event to the widget's parent for processing.</span></span> <span data-ttu-id="9fa16-152">Esta subida del evento por la cadena continúa hasta que se administra el evento o hasta que este llega a la ventana raíz, en cuyo caso se descarta.</span><span class="sxs-lookup"><span data-stu-id="9fa16-152">This passing of the event up the chain continues until either the event is handled or the event arrives at the root window, in which case the event is discarded.</span></span>

<span data-ttu-id="9fa16-153">Los eventos de teclado numérico se envían a la ventana o el widget que tenga el foco de entrada.</span><span class="sxs-lookup"><span data-stu-id="9fa16-153">Keypad events are sent to the window/widget that has input focus.</span></span> <span data-ttu-id="9fa16-154">El componente gx_system de GUIX mantiene el estado del foco de entrada.</span><span class="sxs-lookup"><span data-stu-id="9fa16-154">Input focus status is maintained by the GUIX gx_system component.</span></span>

<span data-ttu-id="9fa16-155">Los eventos de temporizador siempre se envían para su procesamiento a la ventana o el widget que tiene la propiedad del temporizador.</span><span class="sxs-lookup"><span data-stu-id="9fa16-155">Timer events are always dispatched to the window or widget that owns the timer for processing.</span></span>

<span data-ttu-id="9fa16-156">Los eventos generados internamente, como los eventos de clic de botón o los eventos de cambio de valor del control deslizante, siempre se envían al elemento principal del widget que genera el evento.</span><span class="sxs-lookup"><span data-stu-id="9fa16-156">Internally generated events, such as button click events or slider value change events, are always sent to the parent of the widget generating the event.</span></span> <span data-ttu-id="9fa16-157">Si el elemento principal no procesa el evento, se sube por la cadena de manera similar a como sucede en los eventos de entrada táctil o de lápiz.</span><span class="sxs-lookup"><span data-stu-id="9fa16-157">If the parent does not process the event, it is passed up the chain similar to touch or pen input events.</span></span>

## <a name="drawing"></a><span data-ttu-id="9fa16-158">Dibujo</span><span class="sxs-lookup"><span data-stu-id="9fa16-158">Drawing</span></span> 

<span data-ttu-id="9fa16-159">Una vez completado todo el procesamiento de eventos, el subproceso interno de GUIX determina si se necesita una actualización de pantalla y, en ese caso, llama a las funciones de dibujo de la ventana o del widget adecuadas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-159">Once all the event processing is complete, the GUIX internal thread determines if any display update is needed and if so the appropriate window/widget drawing functions are called.</span></span> <span data-ttu-id="9fa16-160">Cuando se completa el dibujo, el subproceso interno de GUIX simplemente espera en su cola de eventos la llegada del siguiente evento de GUIX que se va a procesar.</span><span class="sxs-lookup"><span data-stu-id="9fa16-160">When drawing is complete, the GUIX internal thread simply waits on its event queue for the next GUIX event to process.</span></span>

<span data-ttu-id="9fa16-161">GUIX implementa el concepto de *áreas con modificaciones*, que son áreas que deben volver a dibujarse, en cada widget y lienzo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-161">GUIX implements the concept of *dirty areas*, which are areas that need to be re-drawn, for each widget and canvas.</span></span> <span data-ttu-id="9fa16-162">Un widget solo puede dibujar en áreas que se han marcado previamente como áreas con modificaciones.</span><span class="sxs-lookup"><span data-stu-id="9fa16-162">A widget can only draw to areas that have previously been marked as dirty.</span></span> <span data-ttu-id="9fa16-163">Cuando se llama a una función de dibujo de widget, todas las operaciones de dibujo se recortan internamente al rectángulo con modificaciones definido previamente.</span><span class="sxs-lookup"><span data-stu-id="9fa16-163">When a widget drawing function is called, all drawing operations are internally clipped to the previously defined dirty rectangle.</span></span>
<span data-ttu-id="9fa16-164">Los intentos de dibujar fuera de esta área se omiten.</span><span class="sxs-lookup"><span data-stu-id="9fa16-164">Attempts to draw outside of this area are ignored.</span></span>

<span data-ttu-id="9fa16-165">Los widgets y las ventanas se marcan a sí mismos como elementos con modificaciones mediante una llamada a la función de API ***gx_system_dirty_mark***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-165">Widgets and windows mark themselves as dirty by calling the API function ***gx_system_dirty_mark***.</span></span> <span data-ttu-id="9fa16-166">Esta función señala que toda la ventana o todo el widget se debe volver a dibujar.</span><span class="sxs-lookup"><span data-stu-id="9fa16-166">This function marks the entire widget or window as needing to be redrawn.</span></span> <span data-ttu-id="9fa16-167">Se puede invocar otra función, ***gx_system_dirty_partial_add***, como alternativa para indicar que solo una parte de la ventana o el widget tiene modificaciones.</span><span class="sxs-lookup"><span data-stu-id="9fa16-167">A second function, ***gx_system_dirty_partial_add***, can be invoked as an alternative to mark only a portion of a window or widget as dirty.</span></span>

<span data-ttu-id="9fa16-168">Este proceso por el que se marcan los widgets como modificados y solo se vuelven a dibujar cuando se han procesado todos los eventos de entrada se denomina *dibujo diferido*.</span><span class="sxs-lookup"><span data-stu-id="9fa16-168">This model of marking widgets as dirty and then redrawing those widgets only when all input events have been processed is referred to as *deferred drawing*.</span></span> <span data-ttu-id="9fa16-169">El algoritmo de dibujo diferido de GUIX y el mantenimiento de la lista de elementos modificados se han diseñado para mejorar la eficacia del dibujo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-169">The GUIX deferred drawing algorithm and dirty list maintenance is designed to improve drawing efficiency.</span></span> <span data-ttu-id="9fa16-170">Dado que las operaciones de dibujo suelen ser costosas, GUIX hace todo lo posible para evitar dibujos innecesarios.</span><span class="sxs-lookup"><span data-stu-id="9fa16-170">Since drawing operations are typically expensive, GUIX works hard to prevent unnecessary drawing.</span></span>

<span data-ttu-id="9fa16-171">El dibujo se realiza en un *lienzo* de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-171">Drawing is done to a GUIX *canvas*.</span></span> <span data-ttu-id="9fa16-172">Un lienzo es un área de memoria reservada para contener datos gráficos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-172">A canvas is a memory area reserved to hold graphics data.</span></span> <span data-ttu-id="9fa16-173">Un lienzo puede estar o no vinculado directamente al búfer de cuadros de hardware, en función de la arquitectura del sistema y las restricciones de memoria.</span><span class="sxs-lookup"><span data-stu-id="9fa16-173">A canvas may or may not be directly linked to the hardware frame buffer, depending on the system architecture and memory constraints.</span></span> <span data-ttu-id="9fa16-174">Para que se pueda dibujar, se debe abrir un lienzo con este fin llamando a la función de API ***gx_canvas_drawing_initiate***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-174">Before any drawing can occur, a canvas must first be opened for drawing by calling the ***gx_canvas_drawing_initiate*** API function.</span></span> <span data-ttu-id="9fa16-175">Esta API prepara un lienzo para dibujar y establece el *contexto de dibujo* actual.</span><span class="sxs-lookup"><span data-stu-id="9fa16-175">This API prepares a canvas for drawing and established the current *drawing context*.</span></span> <span data-ttu-id="9fa16-176">Cuando GUIX realiza una actualización del lienzo del sistema, se abre el lienzo para dibujar y se establece el contexto de dibujo antes de invocar las API de dibujo en el nivel de widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-176">When GUIX performs a system canvas refresh, the canvas is opened for drawing and the drawing context established before the widget-level drawing APIs are invoked.</span></span> <span data-ttu-id="9fa16-177">Por lo tanto, no es necesario que los widgets inicien el dibujo en un lienzo dentro de su función de dibujo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-177">Therefore widgets do not need to initiate drawing on a canvas within the widget drawing function.</span></span>

<span data-ttu-id="9fa16-178">Sin embargo, si una aplicación desea realizar un dibujo inmediato en un lienzo, fuera del flujo del algoritmo de dibujo diferido estándar de GUIX, debe invocar directamente la función ***gx_canvas_drawing_initiate*** antes de llamar a cualquier otra función de API de dibujo y la función ***gx_canvas_drawing_complete*** una vez que se haya completado el dibujo inmediato.</span><span class="sxs-lookup"><span data-stu-id="9fa16-178">However, if an application desires to perform immediate drawing to a canvas, outside the flow of the standard GUIX deferred drawing algorithm, the application must directly invoke the ***gx_canvas_drawing_initiate*** prior to calling any other drawing API functions, and must call ***gx_canvas_drawing_complete*** once the immediate drawing has been completed.</span></span>

## <a name="user-input"></a><span data-ttu-id="9fa16-179">Entrada del usuario</span><span class="sxs-lookup"><span data-stu-id="9fa16-179">User Input</span></span> 

<span data-ttu-id="9fa16-180">GUIX admite dispositivos de pantalla táctil, mouse y teclado con tipos de eventos predefinidos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-180">GUIX supports touch screen, mouse, and keyboard devices with predefined event types.</span></span> <span data-ttu-id="9fa16-181">Se pueden usar otros dispositivos de entrada definiendo tipos de eventos personalizados o asignando el dispositivo de entrada personalizado a los tipos de eventos predefinidos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-181">Additional input devices can be utilized by defining custom event types, or by mapping the custom input device to the predefined event types.</span></span>

<span data-ttu-id="9fa16-182">Las acciones asociadas a estos dispositivos se traducen en eventos que se procesan en el subproceso interno de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-182">Actions associated with these devices are translated into events that are processed by the internal GUIX thread.</span></span> <span data-ttu-id="9fa16-183">El software de nivel de controlador escrito para admitir una pantalla táctil debe preparar y enviar a la cola de eventos de GUIX los eventos para las operaciones de subir, bajar y arrastrar el lápiz.</span><span class="sxs-lookup"><span data-stu-id="9fa16-183">Driver level software written to support a touch screen must prepare and send to the GUIX event queue events for pen-down, pen-up, and pen-drag operations.</span></span> <span data-ttu-id="9fa16-184">Del mismo modo, un controlador de entrada de teclado debe generar eventos para las entrada de presión y liberación de la tecla.</span><span class="sxs-lookup"><span data-stu-id="9fa16-184">Similarly a keypad input driver must generate events for key press and key release input.</span></span>

## <a name="modal-dialog-execution"></a><span data-ttu-id="9fa16-185">Ejecución de cuadros de diálogo modales</span><span class="sxs-lookup"><span data-stu-id="9fa16-185">Modal Dialog Execution</span></span> 

<span data-ttu-id="9fa16-186">La ejecución de cuadros de diálogo modales hace referencia a la presentación al usuario de una ventana que debe cerrarse de alguna manera para que otras ventanas o widgets de GUIX puedan recibir la entrada del usuario.</span><span class="sxs-lookup"><span data-stu-id="9fa16-186">Modal dialog execution refers to presenting a window to the user that must be closed in some way before any other GUIX windows or widgets can receive user input.</span></span> <span data-ttu-id="9fa16-187">Los cuadros de diálogo modales capturan toda la entrada del usuario mientras se muestra la ventana de diálogo, independientemente de la posición x,y de los eventos de entrada táctil o de mouse.</span><span class="sxs-lookup"><span data-stu-id="9fa16-187">Modal dialogs capture all user input while the dialog window is displayed, regardless of the x,y position of touch or mouse input events.</span></span>

<span data-ttu-id="9fa16-188">El software de la aplicación desencadena los cuadros de diálogo modales creando primero la ventana de la manera normal con una llamada a ***gx_window_create*** y llamando después a la función de API ***gx_window_execute*** de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-188">Modal dialogs are triggered by the application software by first creating the window in the normal way by calling ***gx_window_create***, and then calling the GUIX API function ***gx_window_execute.***</span></span>

<span data-ttu-id="9fa16-189">Cuando se llama a la función ***gx_window_execute***, GUIX entra en un bucle de procesamiento de eventos local.</span><span class="sxs-lookup"><span data-stu-id="9fa16-189">When the ***gx_window_execute*** function is called, GUIX enters a local event processing loop.</span></span> <span data-ttu-id="9fa16-190">La función ***gx_window_execute*** no vuelve al autor de la llamada hasta que se cierra la ventana del cuadro de diálogo, ya sea debido a la entrada del usuario o a una llamada a ***gx_window_close***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-190">The ***gx_window_execute*** function does not return to the caller until the dialog window is closed, either by user input or by calling ***gx_window_close***.</span></span> <span data-ttu-id="9fa16-191">Por esta razón, es muy importante no llamar nunca a la función ***gx_window_execute*** desde cualquier subproceso que no sea el subproceso interno de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-191">For this reason, it is very important never to call the ***gx_window_execute*** function from any thread other than the GUIX internal thread.</span></span>

## <a name="periodic-processing"></a><span data-ttu-id="9fa16-192">Procesamiento periódico</span><span class="sxs-lookup"><span data-stu-id="9fa16-192">Periodic Processing</span></span> 

<span data-ttu-id="9fa16-193">Para proporcionar efectos de pantalla, animación con sprites y compatibilidad con solicitudes periódicas de aplicación, GUIX usa un temporizador de ThreadX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-193">In order to provide display effects, sprite animation, and support for application periodic requests, GUIX uses one ThreadX timer.</span></span> <span data-ttu-id="9fa16-194">Este único temporizador se utiliza para controlar todas las necesidades relacionadas con el tiempo de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-194">This single timer is used to drive all GUIX time-related needs.</span></span> <span data-ttu-id="9fa16-195">De forma predeterminada, la frecuencia de procesamiento del temporizador interno de GUIX se establece en 20 ms por medio de la constante **GX_SYSTEM_TIMER_MS**, que se define en **_gx_api.h_**, a menos que se haya definido previamente en los encabezados gx_port.h o gx_user.h.</span><span class="sxs-lookup"><span data-stu-id="9fa16-195">By default, the frequency for the GUIX internal timer processing is set to 20ms via the constant **GX_SYSTEM_TIMER_MS**, which is defined in **_gx_api.h_**, unless the constant is previously defined in gx_port.h or gx_user.h header.</span></span> <span data-ttu-id="9fa16-196">La aplicación puede cambiar la frecuencia predeterminada por medio de una opción de compilación al compilar la biblioteca de GUIX o redefiniéndola explícitamente en ***gx_user.h***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-196">The default frequency may be changed by the application via a compilation option when building the GUIX library or by explicitly redefining it in ***gx_user.h***.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9fa16-197">Tenga en cuenta que la frecuencia del temporizador de GUIX se expresa en tics del temporizador de RTOS y se define mediante la constante **GX_SYSTEM_TIMER_TICKS**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-197">Note that the GUIX timer frequency is expressed in RTOS timer ticks, and is defined by the constant **GX_SYSTEM_TIMER_TICKS**.</span></span> <span data-ttu-id="9fa16-198">El valor de **GX_SYSTEM_TIMER_TICKS** se calcula usando **GX_SYSTEM_TIMER_MS** y **TX_TIMER_TICKS_PER_SECOND**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-198">The value of **GX_SYSTEM_TIMER_TICKS** is calculated using **GX_SYSTEM_TIMER_MS** and **TX_TIMER_TICKS_PER_SECOND**.</span></span> <span data-ttu-id="9fa16-199">El usuario puede volver a definir cualquiera de estos valores en ***gx_port.h** _ o _ *_gx_user. h_** para ajustar la frecuencia y la resolución del temporizador de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-199">The user can re-define any of these values in the ***gx_port.h** _ or _ *_gx_user.h_** to adjust the GUIX timer frequency and resolution.</span></span>

## <a name="display-driver"></a><span data-ttu-id="9fa16-200">Controlador de pantalla</span><span class="sxs-lookup"><span data-stu-id="9fa16-200">Display Driver</span></span> 

<span data-ttu-id="9fa16-201">Los controladores de pantalla son responsables de proporcionar un conjunto de funciones de dibujo al código principal de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-201">Display drivers are responsible for providing a set of drawing functions to the core GUIX code.</span></span> <span data-ttu-id="9fa16-202">La implementación de cada una de estas funciones de dibujo viene determinada por el controlador y, cuando sea posible, aprovechará la compatibilidad con la aceleración de hardware.</span><span class="sxs-lookup"><span data-stu-id="9fa16-202">The implementation of each of these drawing functions is determined by the driver, and when possible the implementation will leverage hardware acceleration support.</span></span> <span data-ttu-id="9fa16-203">En general, la función de dibujo escribe los datos de píxeles en un búfer de memoria, que puede ser el búfer de cuadros físico o bien un búfer secundario, en función de la arquitectura del controlador.</span><span class="sxs-lookup"><span data-stu-id="9fa16-203">In general the drawing function works by writing pixel data to a memory buffer, which may be the physical frame buffer or it may be a secondary buffer depending on the driver architecture.</span></span> <span data-ttu-id="9fa16-204">Muchos controladores implementan el almacenamiento en búfer doble mediante dos búferes de cuadros, entre los que se alterna invocando la función de alternancia de búfer.</span><span class="sxs-lookup"><span data-stu-id="9fa16-204">Many drivers implement double buffering using two frame buffers, and these buffers are toggled by invoking the buffer toggle function.</span></span> <span data-ttu-id="9fa16-205">GUIX llama a estas funciones internamente en los momentos adecuados.</span><span class="sxs-lookup"><span data-stu-id="9fa16-205">GUIX calls these functions internally at the appropriate times.</span></span> <span data-ttu-id="9fa16-206">En el caso de los sistemas con restricción de memoria, las funciones de dibujo solo pueden escribir en un búfer de cuadros de memoria.</span><span class="sxs-lookup"><span data-stu-id="9fa16-206">For memory constrained systems, the drawing functions may only write to a single memory frame buffer.</span></span>

<span data-ttu-id="9fa16-207">GUIX proporciona implementaciones de software predeterminadas de cada función de dibujo de bajo nivel en todos los formatos y profundidades de color compatibles.</span><span class="sxs-lookup"><span data-stu-id="9fa16-207">GUIX provides default software implementations of each low-level drawing function at every support color depth and format.</span></span> <span data-ttu-id="9fa16-208">Estas funciones se invocan por medio de punteros de función que se mantienen dentro de la estructura de **GX_DISPLAY**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-208">These functions are invoked via function pointers maintained within the **GX_DISPLAY** structure.</span></span> <span data-ttu-id="9fa16-209">Cuando se crean controladores específicos del hardware, por lo general sobrescriben algunos de estos punteros de función con funciones específicas del hardware de destino.</span><span class="sxs-lookup"><span data-stu-id="9fa16-209">When hardware-specific drivers are created, they typically will overwrite some number of these function pointers with functions that are specific to the target hardware.</span></span>

<span data-ttu-id="9fa16-210">Para implementar un controlador de pantalla de hardware típico, se crea primero el controlador de pantalla predeterminado de GUIX para la profundidad de color y el formato necesarios.</span><span class="sxs-lookup"><span data-stu-id="9fa16-210">A typical hardware display driver is implemented by first creating the default GUIX display driver for the required color depth and format.</span></span>
<span data-ttu-id="9fa16-211">Después, el controlador de hardware reemplaza las funciones que deban optimizarse o personalizarse para la implementación de hardware concreta.</span><span class="sxs-lookup"><span data-stu-id="9fa16-211">Then the hardware driver will replace those functions that need to be optimized or customized for the particular hardware implementation.</span></span>

<span data-ttu-id="9fa16-212">GUIX admite formatos de color de píxel que van desde un formato monocromo de 1 bpp a un formato a:r: g:b de 32 bpp.</span><span class="sxs-lookup"><span data-stu-id="9fa16-212">GUIX support pixel color formats ranging from 1-bpp monochrome to 32-bpp a:r:g:b format.</span></span> <span data-ttu-id="9fa16-213">GUIX también admite muchas variaciones dentro de cada categoría de profundidad de color general, como el orden de bytes r:g: b frente b:g:r, un formato de píxel empaquetado frente a formatos de píxeles alineados por palabras, y canales alfa.</span><span class="sxs-lookup"><span data-stu-id="9fa16-213">GUIX also supports many variations within each broad color-depth category, such as r:g:b versus b:g:r byte order, packed pixel versus word-aligned pixel formats, and alpha channels.</span></span> <span data-ttu-id="9fa16-214">Actualmente se admiten 25 formatos de color distintos, pero esta lista crece a medida que los proveedores de hardware ofrecen nuevas variaciones.</span><span class="sxs-lookup"><span data-stu-id="9fa16-214">There are currently 25 distinct color formats supported, but this list grows as hardware vendors deliver new variations.</span></span>

## <a name="display-memory-architectures"></a><span data-ttu-id="9fa16-215">Arquitecturas de memoria para pantallas</span><span class="sxs-lookup"><span data-stu-id="9fa16-215">Display Memory Architectures</span></span>

<span data-ttu-id="9fa16-216">Los diferentes destinos y pantallas de hardware usan una gama de arquitecturas de memoria de pantalla diferentes, en función de las restricciones de memoria del destino y de los requisitos de funcionalidad de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-216">Various hardware targets and displays utilize a variety of different display memory architectures, depending on the memory constraints of the target and the functionality requirements of the application.</span></span> <span data-ttu-id="9fa16-217">Describiremos aquí algunas de las arquitecturas de memoria comunes con una breve descripción de cada una.</span><span class="sxs-lookup"><span data-stu-id="9fa16-217">We will outline some of the common memory architectures here with a brief description of each.</span></span>

<span data-ttu-id="9fa16-218">Modelo 1) No hay ningún búfer de cuadros y los datos gráficos se incluyen en una memoria GRAM externa:</span><span class="sxs-lookup"><span data-stu-id="9fa16-218">Model 1) No frame buffer, graphics data held in external GRAM:</span></span>

![No hay ningún búfer de cuadros y los datos gráficos se incluyen en una memoria GRAM externa](./media/guix/user-guide/no-frame-buffer.png)

<span data-ttu-id="9fa16-220">En el modelo anterior, no existe memoria para un búfer de cuadros en la memoria local de la CPU.</span><span class="sxs-lookup"><span data-stu-id="9fa16-220">In the model above, no memory for a frame buffer exists in memory local to the CPU.</span></span> <span data-ttu-id="9fa16-221">Todos los datos gráficos se almacenan en una memoria gráfica de acceso aleatorio (GRAM) externa que se incorpora en la propia pantalla.</span><span class="sxs-lookup"><span data-stu-id="9fa16-221">All graphics data is stored in an external GRAM which is incorporated into the display itself.</span></span> <span data-ttu-id="9fa16-222">La interfaz a la GRAM externa puede ser paralela o serie.</span><span class="sxs-lookup"><span data-stu-id="9fa16-222">The interface to the external GRAM can be parallel or serial.</span></span> <span data-ttu-id="9fa16-223">Este tipo de arquitectura tiene un costo muy bajo; sin embargo, puede mostrar un efecto de pantalla partida no deseado cuando se actualizan los datos gráficos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-223">This type of architecture is very low cost; however it can exhibit unwanted tearing effect when the graphics data is updated.</span></span>

<span data-ttu-id="9fa16-224">Modelo 2) Un búfer de cuadros local:</span><span class="sxs-lookup"><span data-stu-id="9fa16-224">Model 2) One local frame buffer:</span></span>

![Un búfer de cuadros local](./media/guix/user-guide/one-local-frame-buffer.png)

<span data-ttu-id="9fa16-226">En este modelo, la memoria de los datos gráficos se asigna desde una memoria de acceso aleatorio a la que se puede acceder directamente desde la CPU.</span><span class="sxs-lookup"><span data-stu-id="9fa16-226">In this model, memory for the graphics data is allocated from a random-access memory that is directly accessible the CPU.</span></span> <span data-ttu-id="9fa16-227">El hardware dedicado debe estar presente para transmitir reiteradamente los datos gráficos (junto con las señales de tiempo) de la memoria local a la pantalla.</span><span class="sxs-lookup"><span data-stu-id="9fa16-227">Dedicated hardware must be present to repeatedly transmit the graphics data (along with timing signals) from the local memory to the display.</span></span> <span data-ttu-id="9fa16-228">Este modelo se diferencia del modelo 1 en que la memoria gráfica es un bloque de la SRAM o DRAM local disponible para la CPU.</span><span class="sxs-lookup"><span data-stu-id="9fa16-228">This model differs from model 1 in that the graphics memory is a block of the local SRAM or DRAM available to the CPU.</span></span> <span data-ttu-id="9fa16-229">Puede ser la misma memoria en la que residen las variables de la pila y del programa.</span><span class="sxs-lookup"><span data-stu-id="9fa16-229">This may be the same memory in which stack and program variables live.</span></span>

<span data-ttu-id="9fa16-230">Modelo 3) Búfer de cuadros local + GRAM externa:</span><span class="sxs-lookup"><span data-stu-id="9fa16-230">Model 3) Local frame buffer + external GRAM:</span></span>

![Búfer de cuadros local + GRAM externa](./media/guix/user-guide/local-frame-buffer-external-gram.png)

<span data-ttu-id="9fa16-232">El modelo 3 es una combinación de los dos primeros.</span><span class="sxs-lookup"><span data-stu-id="9fa16-232">Model 3 is a combination of the first two.</span></span> <span data-ttu-id="9fa16-233">En este modelo, hay suficiente memoria local como para contener un búfer de cuadros.</span><span class="sxs-lookup"><span data-stu-id="9fa16-233">In this model, sufficient local memory exists to hold one frame buffer.</span></span> <span data-ttu-id="9fa16-234">Además, el dispositivo de pantalla proporciona una GRAM externa y se actualiza automáticamente con los datos proporcionados en la GRAM.</span><span class="sxs-lookup"><span data-stu-id="9fa16-234">In addition, the display device provides an external GRAM and automatically refreshes itself using the data provided in the GRAM.</span></span> <span data-ttu-id="9fa16-235">Esta arquitectura se beneficia de una eficacia de actualización mejorada, ya que podemos transferir la parte modificada del búfer de cuadros local a la GRAM externa en una transferencia de bloques, a menudo mediante canales DMA incorporados.</span><span class="sxs-lookup"><span data-stu-id="9fa16-235">This architecture benefits from improved update efficiency because we can transfer the modified portion of the local frame buffer to the external GRAM in one block transfer, often utilizing onboard DMA channels.</span></span> <span data-ttu-id="9fa16-236">Este modelo también elimina los efectos de pantalla partida y parpadeo que pueden encontrarse en los dos primeros modelos, porque solo se copia el contenido gráfico completo en la GRAM externa.</span><span class="sxs-lookup"><span data-stu-id="9fa16-236">This model also eliminates the tearing and flicker that can be present in either of the first two models, because only completed graphics contents is copied to the external GRAM.</span></span>

<span data-ttu-id="9fa16-237">Modelo 4) Búferes de cuadros de ping pong:</span><span class="sxs-lookup"><span data-stu-id="9fa16-237">Model 4) Ping-pong frame buffers:</span></span>

![Búferes de cuadros de ping pong](./media/guix/user-guide/ping-pong-frame-buffers.png)

<span data-ttu-id="9fa16-239">En el modelo 4, hay suficiente memoria para proporcionar dos búferes de cuadros locales.</span><span class="sxs-lookup"><span data-stu-id="9fa16-239">In model 4, sufficient memory is present to provide two local frame buffers.</span></span> <span data-ttu-id="9fa16-240">En este caso, GUIX trata un búfer de cuadros como el búfer de cuadros activo y el otro como búfer de cuadros de trabajo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-240">In this case, GUIX treats one frame buffer as the active frame buffer, and the other as the working frame buffer.</span></span> <span data-ttu-id="9fa16-241">Cuando se realiza una actualización de pantalla o una operación de dibujo, tiene lugar en el búfer de trabajo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-241">When a display update or drawing operation is in progress, it takes place in the working buffer.</span></span> <span data-ttu-id="9fa16-242">Cuando se completa la operación de dibujo, los búferes se alternan; el búfer de trabajo se convierte en el búfer activo y este en el búfer de trabajo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-242">When the drawing operation completes, the buffers are toggled, and the working buffer becomes the active buffer and the active buffer becomes the working buffer.</span></span> <span data-ttu-id="9fa16-243">Este modelo también elimina los efectos de parpadeo de la pantalla y pantalla partida que se pueden observar en un sistema de almacenamiento en un solo búfer.</span><span class="sxs-lookup"><span data-stu-id="9fa16-243">This model also eliminates screen flicker and tearing that can be observed in a single buffered system.</span></span>

<span data-ttu-id="9fa16-244">Modelo 5) Búferes de ping pong con composición de lienzos:</span><span class="sxs-lookup"><span data-stu-id="9fa16-244">Model 5) Ping-pong buffers with canvas compositing:</span></span>

![Búferes de ping pong con composición de lienzos](./media/guix/user-guide/ping-pong-buffers-canvas-composting.png)

<span data-ttu-id="9fa16-246">En el modelo 5 se puede crear cualquier número de lienzos hasta los límites de la memoria disponible.</span><span class="sxs-lookup"><span data-stu-id="9fa16-246">In model 5, any number of canvases can be created, up to the limits of available memory.</span></span> <span data-ttu-id="9fa16-247">Los lienzos se pueden superponer o combinar según se defina en la aplicación para crear la composición.</span><span class="sxs-lookup"><span data-stu-id="9fa16-247">The canvases can be overlaid or blended together as defined by the application to create the canvas composite.</span></span> <span data-ttu-id="9fa16-248">Cuando se crea una nueva composición después de una operación de actualización de pantalla, los búferes de composición activo y de trabajo se alternan en una operación idéntica a la arquitectura de búferes de ping pong estándar.</span><span class="sxs-lookup"><span data-stu-id="9fa16-248">When a new composite is created after a screen refresh operation, the active and working composite buffers are toggled in an operation identical to the standard ping-pong buffer architecture.</span></span> <span data-ttu-id="9fa16-249">El modelo 5 incluye la capacidad de realizar operaciones de fundido y combinación mediante la combinación de los lienzos en una composición de salida final.</span><span class="sxs-lookup"><span data-stu-id="9fa16-249">Model 5 adds the ability to perform screen fade and blending operations by blending the canvases into the final output composite.</span></span>

<span data-ttu-id="9fa16-250">Modelo 6) Composición de lienzos con GRAM externa:</span><span class="sxs-lookup"><span data-stu-id="9fa16-250">Model 6) Canvas compositing with external GRAM:</span></span>

![Composición de lienzos con GRAM externa](./media/guix/user-guide/canvas-compositing-external-gram.png)

<span data-ttu-id="9fa16-252">El modelo 6 es una ligera variación del modelo 5, en el que solo se requiere un búfer de composición y, a continuación, el búfer de composición se transfiere a la GRAM externa.</span><span class="sxs-lookup"><span data-stu-id="9fa16-252">Model 6 is a slight variation on Model 5, in which only one composite buffer is required and the composite buffer is then transferred to external GRAM.</span></span> <span data-ttu-id="9fa16-253">Este modelo también admite la combinación y las superposiciones de pantalla completa.</span><span class="sxs-lookup"><span data-stu-id="9fa16-253">This model also supports full screen blending and overlays.</span></span>

## <a name="string-encoding"></a><span data-ttu-id="9fa16-254">Codificación de cadenas</span><span class="sxs-lookup"><span data-stu-id="9fa16-254">String Encoding</span></span> 

<span data-ttu-id="9fa16-255">GUIX es compatible de forma predeterminada con la codificación de cadenas en formato UTF8.</span><span class="sxs-lookup"><span data-stu-id="9fa16-255">GUIX by default supports UTF8 format string encoding.</span></span> <span data-ttu-id="9fa16-256">Esta compatibilidad se puede deshabilitar definiendo **GX_DISABLE_UTF8_SUPPORT** en el archivo de encabezado ***gx_user. h***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-256">Support for UTF8 string encoding can be disabled by defining **GX_DISABLE_UTF8_SUPPORT** in the ***gx_user.h*** header file.</span></span> <span data-ttu-id="9fa16-257">Si la codificación UTF8 está deshabilitada, GUIX utilizará internamente solo la codificación de caracteres ASCII de 8 bits estándar y la página de códigos Latin-1.</span><span class="sxs-lookup"><span data-stu-id="9fa16-257">If UTF8 encoding is disabled, GUIX will internally use only standard 8-bit ASCII plus Latin-1 code page character encoding.</span></span> <span data-ttu-id="9fa16-258">Al deshabilitar la codificación de cadenas UTF8 se consigue una superficie de biblioteca de GUIX ligeramente más pequeña y una ejecución en tiempo de ejecución ligeramente más rápida de las funciones de control de cadenas y de dibujo de texto.</span><span class="sxs-lookup"><span data-stu-id="9fa16-258">Disabling UTF8 string encoding results in a slightly smaller GUIX library footprint and slightly faster runtime execution of string handling and text drawing functions.</span></span>

<span data-ttu-id="9fa16-259">La codificación de cadenas UTF8 tiene los siguientes rasgos:</span><span class="sxs-lookup"><span data-stu-id="9fa16-259">UTF8 string encoding has the following traits:</span></span>

  - <span data-ttu-id="9fa16-260">Las cadenas ASCII no ocupan más espacio de almacenamiento que la codificación ASCII estándar de 7 bits.</span><span class="sxs-lookup"><span data-stu-id="9fa16-260">ASCII strings take no more storage space than standard 7-bit ASCII encoding.</span></span>

  - <span data-ttu-id="9fa16-261">La mayoría de las funciones de cadena de ANSI-C funcionan con la codificación de cadenas UTF8 sin modificaciones.</span><span class="sxs-lookup"><span data-stu-id="9fa16-261">Most ANSI-C string functions work with UTF8 string encoding without modification.</span></span>

<span data-ttu-id="9fa16-262">Todos los juegos de caracteres activos del mundo, incluidos los juegos de caracteres kanji, se pueden representar mediante la codificación de cadenas UTF8.</span><span class="sxs-lookup"><span data-stu-id="9fa16-262">All active character sets in the world, including Kanji character sets, can be represented using UTF8 string encoding.</span></span>

### <a name="static-and-dynamic-strings"></a><span data-ttu-id="9fa16-263">Cadenas estáticas y dinámicas</span><span class="sxs-lookup"><span data-stu-id="9fa16-263">Static and Dynamic Strings</span></span> 

<span data-ttu-id="9fa16-264">Las cadenas asignadas a los widgets de GUIX que admiten la presentación de texto pueden ser constantes de cadena definidas de forma estática (que normalmente se colocan en el almacenamiento de constantes como parte de la tabla de cadenas de GUIX que se describe a continuación) y cadenas definidas dinámicamente (que son cadenas generadas en tiempo de ejecución mediante servicios como ***sprintf** _ o _*_gx_utility_ltoa_\*\*).</span><span class="sxs-lookup"><span data-stu-id="9fa16-264">The strings assigned to your GUIX widgets which support text display can be statically defined string constants, which are normally placed in constant storage as part of the GUIX String table described below, and dynamically defined strings, which are strings generated at runtime using services such as ***sprintf** _ or _*_gx_utility_ltoa_\*\*.</span></span>

<span data-ttu-id="9fa16-265">Algunos ejemplos de cadenas dinámicas pueden incluir un valor que se muestra como un número en un widget de solicitud de GUIX o una cadena de "fecha y hora" que tiene un formato dinámico según la ubicación del usuario y las preferencias de formato.</span><span class="sxs-lookup"><span data-stu-id="9fa16-265">Examples of dynamic strings might include a value displayed as a number within a GUIX prompt widget, or a “time / date” string which is dynamically formatted based on the user’s location and format preferences.</span></span> <span data-ttu-id="9fa16-266">Si crea cadenas en tiempo de ejecución que se asignarán a widgets de GUIX como **GX_PROMPT** o **GX_TEXT_BUTTON**, debe elegir si el almacenamiento para estas cadenas generadas en tiempo de ejecución se asigna estáticamente (es decir,</span><span class="sxs-lookup"><span data-stu-id="9fa16-266">If you create strings at runtime which will be assigned to GUIX widgets such as **GX_PROMPT** or **GX_TEXT_BUTTON widgets**, you must choose to either statically allocate the storage for these runtime generated strings (i.e</span></span>
<span data-ttu-id="9fa16-267">con matrices de caracteres globales) o si se define e instala una función de asignador de memoria dinámica y se usa el estilo **GX_STYLE_TEXT_COPY**, que indica a esos widgets que creen una copia privada de las cadenas de texto asignadas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-267">global character arrays), or you can define and install a dynamic memory allocator function and use the **GX_STYLE_TEXT_COPY** style, which instructs those widgets to create a private copy of text strings assigned.</span></span>

<span data-ttu-id="9fa16-268">El uso de almacenamiento temporal, como una matriz de caracteres automática, para incluir una cadena generada dinámicamente y, a continuación, la asignación de esta cadena a un widget que no tenga el estilo **GX_STYLE_TEXT_COPY** se considera un error de programación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-268">It is a programming error to use temporary storage, such as an automatic character array, to hold a dynamically generated string and then assign this string to a widget that does not have the **GX_STYLE_TEXT_COPY** style.</span></span> <span data-ttu-id="9fa16-269">Cuando este estilo no está habilitado, el widget simplemente copia el puntero de cadena proporcionado; los datos de cadena deben asignarse de forma estática o, de lo contrario, es probable que el puntero de cadena del widget acabe apuntando a datos no utilizados, lo que produciría resultados imprevisibles.</span><span class="sxs-lookup"><span data-stu-id="9fa16-269">When this style is not enabled, the widget simply copies the provided string pointer, and the string data must be statically allocated or the widget string pointer will likely end up pointing at garbage data producing unpredictable results.</span></span>

### <a name="passing-gx_string-arguments"></a><span data-ttu-id="9fa16-270">Paso de argumentos a GX_STRING</span><span class="sxs-lookup"><span data-stu-id="9fa16-270">Passing GX_STRING arguments</span></span> 

<span data-ttu-id="9fa16-271">Las funciones de API de GUIX que aceptan un parámetro GX_STRING siempre comprueban que la longitud de la cadena a la que señala el campo **GX_STRING.gx_string_ptr** coincida con el valor del campo **GX_STRING.gx_string_length**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-271">The GUIX API functions which accept a GX_STRING parameter always verify that the length of the string pointed to by the **GX_STRING.gx_string_ptr** field match the value of the **GX_STRING.gx_string_length** field.</span></span> <span data-ttu-id="9fa16-272">Si los dos campos no son coherentes, se devuelve un error **GX_INVALID_STRING_LENGTH** y la API a la que se ha llamado vuelve sin aceptar la asignación de cadena.</span><span class="sxs-lookup"><span data-stu-id="9fa16-272">If the two fields are not consistent, a **GX_INVALID_STRING_LENGTH** error is returned and the API called returns without accepting the string assignment.</span></span>

<span data-ttu-id="9fa16-273">Por motivos de seguridad, el software de GUIX nunca usa internamente las funciones de cadena estándar de C como ***strlen** _ o _*_strcpy_\*\*.</span><span class="sxs-lookup"><span data-stu-id="9fa16-273">For safety considerations the GUIX software never internally uses the standard C string functions such as ***strlen** _ or _*_strcpy_\*\*.</span></span> <span data-ttu-id="9fa16-274">Se sabe que estas funciones son susceptibles a ataques malintencionados cuando se adquieren datos de cadena de forma dinámica, lo que suele ser el caso en las aplicaciones conectadas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-274">These functions have been known to be susceptible to malicious attacks when string data is acquired dynamically which is often the case with connected applications.</span></span>

<span data-ttu-id="9fa16-275">Las versiones de la biblioteca de GUIX anteriores a la versión 5.6 definían las funciones de API que aceptaban (`GX_CONST GX_CHAR *text`) como parámetro.</span><span class="sxs-lookup"><span data-stu-id="9fa16-275">GUIX library releases prior to release 5.6 defined API functions which accepted (`GX_CONST GX_CHAR *text`) as a parameter.</span></span> <span data-ttu-id="9fa16-276">Estas funciones, si bien todavía se admiten por compatibilidad con versiones anteriores, se han quedado obsoletas y se han reemplazado por las funciones de API preferidas que aceptan (`GX_CONST GX_STRING *string`) como parámetro de entrada.</span><span class="sxs-lookup"><span data-stu-id="9fa16-276">These functions, while still supported for backwards compatibility, have been obsoleted and replaced by the preferred API functions which accept (`GX_CONST GX_STRING *string`) as an input parameter.</span></span>

<span data-ttu-id="9fa16-277">De forma predeterminada, la API de control de texto en desuso está habilitada, lo que permite que todas las aplicaciones escritas previamente se compilen correctamente con las actualizaciones más recientes de la biblioteca de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-277">By default, the deprecated text handling API is enabled allowing all previously written applications to build cleanly with the latest updates to the GUIX library.</span></span> <span data-ttu-id="9fa16-278">Para deshabilitar la API de control de texto en desuso, debe agregarse la definición **GX_DISABLE_DEPRECATED_STRING_API** al archivo de encabezado **_gx_user. h_ *_. Todas las aplicaciones nuevas deben definir _* GX_DISABLE_DEPRECATED_STRING_API** y solo deben usar las funciones de API de reemplazo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-278">To disable the the deprecated text handling API, the definition **GX_DISABLE_DEPRECATED_STRING_API** should be added to the **_gx_user.h_*_ header file. All new applications should define _\* GX_DISABLE_DEPRECATED_STRING_API*\* and should use only the replacement API functions.</span></span> <span data-ttu-id="9fa16-279">Todos los archivos de salida generados por GUIX Studio para la versión 5.6 o posterior de la biblioteca de GUIX utilizarán solo las funciones de API de reemplazo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-279">All output files generated by GUIX Studio for GUIX library version release 5.6 or later will utilize only the replacement API functions.</span></span>

<span data-ttu-id="9fa16-280">En la tabla siguiente se indican los nombres de las funciones de API de reemplazo en desuso y las recién definidas:</span><span class="sxs-lookup"><span data-stu-id="9fa16-280">The following table lists the deprecated and newly defined replacement API function names:</span></span>

| <span data-ttu-id="9fa16-281">**Nombre de función en desuso**</span><span class="sxs-lookup"><span data-stu-id="9fa16-281">**Deprecated Function Name**</span></span>              | <span data-ttu-id="9fa16-282">**Reemplazada por**</span><span class="sxs-lookup"><span data-stu-id="9fa16-282">**Replaced With**</span></span>                              |
| ------------------------------------------ | ----------------------------------------------- |
| <span data-ttu-id="9fa16-283">gx_binres_language_table_load</span><span class="sxs-lookup"><span data-stu-id="9fa16-283">gx_binres_language_table_load</span></span>          | <span data-ttu-id="9fa16-284">gx_binres_language_table_load_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-284">gx_binres_language_table_load_ext</span></span>          |
| <span data-ttu-id="9fa16-285">gx_canvas_rotated_text_draw</span><span class="sxs-lookup"><span data-stu-id="9fa16-285">gx_canvas_rotated_text_draw</span></span>            | <span data-ttu-id="9fa16-286">gx_canvas_rotated_text_draw_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-286">gx_canvas_rotated_text_draw_ext</span></span>            |
| <span data-ttu-id="9fa16-287">gx_canvas_text_draw</span><span class="sxs-lookup"><span data-stu-id="9fa16-287">gx_canvas_text_draw</span></span>                     | <span data-ttu-id="9fa16-288">gx_canvas_text_draw_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-288">gx_canvas_text_draw_ext</span></span>                     |
| <span data-ttu-id="9fa16-289">gx_context_string_get</span><span class="sxs-lookup"><span data-stu-id="9fa16-289">gx_context_string_get</span></span>                   | <span data-ttu-id="9fa16-290">gx_context_string_get_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-290">gx_context_string_get_ext</span></span>                   |
| <span data-ttu-id="9fa16-291">gx_display_language_table_get</span><span class="sxs-lookup"><span data-stu-id="9fa16-291">gx_display_language_table_get</span></span>          | <span data-ttu-id="9fa16-292">gx_display_language_table_get_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-292">gx_display_language_table_get_ext</span></span>          |
| <span data-ttu-id="9fa16-293">gx_display_language_table_set</span><span class="sxs-lookup"><span data-stu-id="9fa16-293">gx_display_language_table_set</span></span>          | <span data-ttu-id="9fa16-294">gx_display_language_table_set_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-294">gx_display_language_table_set_ext</span></span>          |
| <span data-ttu-id="9fa16-295">gx_display_string_get</span><span class="sxs-lookup"><span data-stu-id="9fa16-295">gx_display_string_get</span></span>                   | <span data-ttu-id="9fa16-296">gx_display_string_get_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-296">gx_display_string_get_ext</span></span>                   |
| <span data-ttu-id="9fa16-297">gx_display_string_table_get</span><span class="sxs-lookup"><span data-stu-id="9fa16-297">gx_display_string_table_get</span></span>            | <span data-ttu-id="9fa16-298">gx_display_string_table_get_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-298">gx_display_string_table_get_ext</span></span>            |
| <span data-ttu-id="9fa16-299">gx_multi_line_text_button_text_set</span><span class="sxs-lookup"><span data-stu-id="9fa16-299">gx_multi_line_text_button_text_set</span></span>   | <span data-ttu-id="9fa16-300">gx_multi_line_text_button_text_set_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-300">gx_multi_line_text_button_text_set_ext</span></span>   |
| <span data-ttu-id="9fa16-301">gx_multi_line_text_input_char_insert</span><span class="sxs-lookup"><span data-stu-id="9fa16-301">gx_multi_line_text_input_char_insert</span></span> | <span data-ttu-id="9fa16-302">gx_multi_line_text_input_char_insert_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-302">gx_multi_line_text_input_char_insert_ext</span></span> |
| <span data-ttu-id="9fa16-303">gx_multi_line_text_input_text_set</span><span class="sxs-lookup"><span data-stu-id="9fa16-303">gx_multi_line_text_input_text_set</span></span>    | <span data-ttu-id="9fa16-304">gx_multi_line_text_input_text_set_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-304">gx_multi_line_text_input_text_set_ext</span></span>    |
| <span data-ttu-id="9fa16-305">gx_multi_line_text_view_text_set</span><span class="sxs-lookup"><span data-stu-id="9fa16-305">gx_multi_line_text_view_text_set</span></span>     | <span data-ttu-id="9fa16-306">gx_multi_line_text_view_text_set_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-306">gx_multi_line_text_view_text_set_ext</span></span>     |
| <span data-ttu-id="9fa16-307">gx_prompt_text_get</span><span class="sxs-lookup"><span data-stu-id="9fa16-307">gx_prompt_text_get</span></span>                      | <span data-ttu-id="9fa16-308">gx_prompt_text_get_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-308">gx_prompt_text_get_ext</span></span>                      |
| <span data-ttu-id="9fa16-309">gx_prompt_text_set</span><span class="sxs-lookup"><span data-stu-id="9fa16-309">gx_prompt_text_set</span></span>                      | <span data-ttu-id="9fa16-310">gx_prompt_text_set_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-310">gx_prompt_text_set_ext</span></span>                      |
| <span data-ttu-id="9fa16-311">gx_single_line_text_input_text_set</span><span class="sxs-lookup"><span data-stu-id="9fa16-311">gx_single_line_text_input_text_set</span></span>   | <span data-ttu-id="9fa16-312">gx_single_line_text_input_text_set_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-312">gx_single_line_text_input_text_set_ext</span></span>   |
| <span data-ttu-id="9fa16-313">gx_system_string_width_get</span><span class="sxs-lookup"><span data-stu-id="9fa16-313">gx_system_string_width_get</span></span>             | <span data-ttu-id="9fa16-314">gx_system_string_width_get_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-314">gx_system_string_width_get_ext</span></span>             |
| <span data-ttu-id="9fa16-315">gx_system_version_string_get</span><span class="sxs-lookup"><span data-stu-id="9fa16-315">gx_system_version_string_get</span></span>           | <span data-ttu-id="9fa16-316">gx_system_version_string_get_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-316">gx_system_version_string_get_ext</span></span>           |
| <span data-ttu-id="9fa16-317">gx_text_button_text_get</span><span class="sxs-lookup"><span data-stu-id="9fa16-317">gx_text_button_text_get</span></span>                | <span data-ttu-id="9fa16-318">gx_text_button_text_get_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-318">gx_text_button_text_get_ext</span></span>                |
| <span data-ttu-id="9fa16-319">gx_text_button_text_set</span><span class="sxs-lookup"><span data-stu-id="9fa16-319">gx_text_button_text_set</span></span>                | <span data-ttu-id="9fa16-320">gx_text_button_text_set_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-320">gx_text_button_text_set_ext</span></span>                |
| <span data-ttu-id="9fa16-321">gx_text_scroll_wheel_callback_set</span><span class="sxs-lookup"><span data-stu-id="9fa16-321">gx_text_scroll_wheel_callback_set</span></span>     | <span data-ttu-id="9fa16-322">gx_text_scroll_wheel_callback_set_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-322">gx_text_scroll_wheel_callback_set_ext</span></span>     |
| <span data-ttu-id="9fa16-323">gx_utility_string_to_alphamap</span><span class="sxs-lookup"><span data-stu-id="9fa16-323">gx_utility_string_to_alphamap</span></span>          | <span data-ttu-id="9fa16-324">gx_utility_string_to_alphamap_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-324">gx_utility_string_to_alphamap_ext</span></span>          |
| <span data-ttu-id="9fa16-325">gx_widget_string_get</span><span class="sxs-lookup"><span data-stu-id="9fa16-325">gx_widget_string_get</span></span>                    | <span data-ttu-id="9fa16-326">gx_widget_string_get_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-326">gx_widget_string_get_ext</span></span>                    |
| <span data-ttu-id="9fa16-327">gx_widget_text_blend</span><span class="sxs-lookup"><span data-stu-id="9fa16-327">gx_widget_text_blend</span></span>                    | <span data-ttu-id="9fa16-328">gx_widget_text_blend_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-328">gx_widget_text_blend_ext</span></span>                    |
| <span data-ttu-id="9fa16-329">gx_widget_text_draw</span><span class="sxs-lookup"><span data-stu-id="9fa16-329">gx_widget_text_draw</span></span>                     | <span data-ttu-id="9fa16-330">gx_widget_text_draw_ext</span><span class="sxs-lookup"><span data-stu-id="9fa16-330">gx_widget_text_draw_ext</span></span>                     |

### <a name="guix-string-table"></a><span data-ttu-id="9fa16-331">Tabla de cadenas de GUIX</span><span class="sxs-lookup"><span data-stu-id="9fa16-331">GUIX String Table</span></span> 

<span data-ttu-id="9fa16-332">La tabla de cadenas y los recursos de cadena de GUIX se registran con una instancia de pantalla de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-332">The GUIX string table and string resources are registered with a GUIX display instance.</span></span>

<span data-ttu-id="9fa16-333">Cada pantalla de un sistema de varias pantallas tiene su propia tabla de cadenas, y cada pantalla se puede ejecutar en su propio idioma seleccionado. Los otros tipos de recursos de GUIX (colores, fuentes y mapas de píxeles) también se mantienen mediante el componente de pantalla de GUIX, ya que estos tipos de recursos son específicos de cada formato y profundidad de color de pantalla.</span><span class="sxs-lookup"><span data-stu-id="9fa16-333">Each display in a multi-display system has its own string table, and each display can run in its own selected language.The other GUIX resource types (colors, fonts, and pixelmaps) are also maintained by the GUIX Display component, since these resource types are specific to each display color format and color depth.</span></span>

<span data-ttu-id="9fa16-334">Aunque puede crear manualmente la tabla de cadenas de la aplicación, en la mayoría de los casos es la aplicación GUIX Studio la que define esta tabla como parte del archivo de recursos del proyecto.</span><span class="sxs-lookup"><span data-stu-id="9fa16-334">While you can manually create your application string table, most often the display string table is defined by the GUIX Studio application as part of your project resource file.</span></span> <span data-ttu-id="9fa16-335">Los idiomas disponibles también se definen en el archivo de encabezado del recurso.</span><span class="sxs-lookup"><span data-stu-id="9fa16-335">The available languages are also defined in the resource header file.</span></span> <span data-ttu-id="9fa16-336">La tabla de cadenas de pantalla es una tabla de varias columnas de punteros a cadenas de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-336">The display string table is a multi-column table of pointers to application strings.</span></span> <span data-ttu-id="9fa16-337">Cada columna de la tabla de cadenas representa un idioma admitido por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-337">Each column of the string table represents one language supported by the application.</span></span>
<span data-ttu-id="9fa16-338">Si la aplicación admite solo un idioma, como el español, la tabla de cadenas solo tendrá una columna.</span><span class="sxs-lookup"><span data-stu-id="9fa16-338">If your application supports only one language, for example English, then your string table will have only one column.</span></span> <span data-ttu-id="9fa16-339">Aun así, puede agregar compatibilidad con otros idiomas en cualquier momento sin necesidad de modificar el software de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-339">Still, you can add support for additional languages at any time without modifying your application software.</span></span>

<span data-ttu-id="9fa16-340">La tabla de cadenas activa se asigna mediante una llamada a la función de API ***gx_display_string_table_set***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-340">The active string table is assigned by calling the ***gx_display_string_table_set*** API function.</span></span> <span data-ttu-id="9fa16-341">Esta llamada la realiza automáticamente el código de inicio generado por GUIX Studio, pero también puede proceder directamente de la aplicación para cambiar la tabla de cadenas activa.</span><span class="sxs-lookup"><span data-stu-id="9fa16-341">This function is called automatically by the GUIX Studio generated startup code, but can also be called directly by the application to change the active string table.</span></span>

<span data-ttu-id="9fa16-342">El idioma activo se asigna mediante una llamada a la función de API ***gx_display_active_language_set***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-342">The active language is assigned by calling the ***gx_display_active_language_set*** API function.</span></span> <span data-ttu-id="9fa16-343">Esta función determina qué columna de la tabla de cadenas de pantalla está activa.</span><span class="sxs-lookup"><span data-stu-id="9fa16-343">This function determines which column of the display string table is active.</span></span>

<span data-ttu-id="9fa16-344">Cuando se invoca esta función, se envía un evento **GX_EVENT_LANGUAGE_CHANGE** a todos los widgets de GUIX visibles, lo que les permite actualizarse para mostrar los datos de la cadena que ha pasado a estar activa.</span><span class="sxs-lookup"><span data-stu-id="9fa16-344">When this function is invoked, a **GX_EVENT_LANGUAGE_CHANGE** event is sent to all visible GUIX widgets, allowing them to update to display the newly active string data.</span></span>

<span data-ttu-id="9fa16-345">Los widgets y el software de la aplicación resuelven las cadenas definidas estáticamente mediante valores de identificador de cadena y las funciones de API ***gx_display_string_get_ext*** o ***gx_widget_string_get_ext***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-345">Widgets and application software resolve statically defined strings using string ID values and the ***gx_display_string_get_ext*** or ***gx_widget_string_get_ext*** API functions.</span></span> <span data-ttu-id="9fa16-346">Estas funciones devuelven el valor de **GX_STRING** asociado a un identificador de cadena determinado y al idioma activo actualmente.</span><span class="sxs-lookup"><span data-stu-id="9fa16-346">These functions return the **GX_STRING** associated with a given string ID and the currently active language.</span></span>

### <a name="bi-directional-text-display"></a><span data-ttu-id="9fa16-347">Visualización de texto bidireccional</span><span class="sxs-lookup"><span data-stu-id="9fa16-347">Bi-directional Text Display</span></span> 

<span data-ttu-id="9fa16-348">GUIX proporciona dos estrategias para la compatibilidad con el texto bidireccional.</span><span class="sxs-lookup"><span data-stu-id="9fa16-348">GUIX provide two strategies for bi-directional text support.</span></span>

<span data-ttu-id="9fa16-349">Una opción es realizar la reordenación de texto bidireccional en la aplicación GUIX Studio.</span><span class="sxs-lookup"><span data-stu-id="9fa16-349">One option is to do bidi text reordering within the GUIX Studio application.</span></span> <span data-ttu-id="9fa16-350">Si se usa esta opción, GUIX Studio es responsable de generar el texto bidireccional en el archivo de salida según su orden de visualización.</span><span class="sxs-lookup"><span data-stu-id="9fa16-350">Using this option GUIX Studio is responsible for generating bidi text to the output file in its display order.</span></span> <span data-ttu-id="9fa16-351">Esta solución no tiene ningún impacto en el rendimiento en tiempo de ejecución y no requiere ninguna adición a la biblioteca en tiempo de ejecución de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-351">This solution has zero impact on the runtime performance and does not require any additions to the GUIX runtime library.</span></span> <span data-ttu-id="9fa16-352">Para permitir que GUIX Studio genere cadenas de texto bidireccionales según el orden de visualización, debe activar la casilla **Generate Bidi Text in Display Order** (Generar texto bidireccional en el orden de visualización) en el cuadro de diálogo de configuración de idioma de GUIX Studio:</span><span class="sxs-lookup"><span data-stu-id="9fa16-352">To allow GUIX Studio to generate displayorder bidi text strings, you should select the **Generate Bidi Text in Display Order** checkbox in the GUIX Studio language configuration dialog:</span></span>

![Configuración de idiomas](./media/guix/user-guide/configure-languages.png)

<span data-ttu-id="9fa16-354">Con estas opciones seleccionadas, el archivo de recursos generado contendrá cadenas bidireccionales generadas según el orden de visualización y no se requerirá ningún procesamiento adicional dentro de la biblioteca en tiempo de ejecución de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-354">With these options selected, the generated resource file will contain Bidi strings generated in display order, and no extra processing is required within the GUIX runtime library.</span></span>

<span data-ttu-id="9fa16-355">La segunda opción consiste en realizar una reordenación del texto bidireccional en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="9fa16-355">The second option is to do bidi text reordering at runtime.</span></span> <span data-ttu-id="9fa16-356">Esta opción es compatible con las aplicaciones que deben administrar cadenas de texto bidireccionales definidas dinámicamente y que no se generan en la aplicación GUIX Studio.</span><span class="sxs-lookup"><span data-stu-id="9fa16-356">This option is supported for those applications that must handle bidi text string that are dynamically defined, and not generated by the GUIX Studio application.</span></span> <span data-ttu-id="9fa16-357">En este caso, la biblioteca en tiempo de ejecución de GUIX es responsable de reordenar el texto bidireccional antes de dibujar cada cadena de texto.</span><span class="sxs-lookup"><span data-stu-id="9fa16-357">In this case the GUIX runtime library is responsible for reordering the bidi text before drawing each text string.</span></span> <span data-ttu-id="9fa16-358">Esta solución afecta al rendimiento en tiempo de ejecución y a la memoria.</span><span class="sxs-lookup"><span data-stu-id="9fa16-358">This solution has a runtime performance and memory impact.</span></span> <span data-ttu-id="9fa16-359">Debe haber suficiente memoria dinámica disponible para el proceso de reordenación del texto bidireccional.</span><span class="sxs-lookup"><span data-stu-id="9fa16-359">Sufficient dynamic memory must be available for bidi text reordering process.</span></span> <span data-ttu-id="9fa16-360">Esta solución requiere la definición GX_DYNAMIC_BIDI_TEXT_SUPPORT condicional al compilar la biblioteca de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-360">This solution requires that the conditional GX_DYNAMIC_BIDI_TEXT_SUPPORT be defined when building the GUIX library.</span></span> <span data-ttu-id="9fa16-361">Se proporcionan dos funciones de API, ***gx_system_bidi_text_enable*** y ***gx_system_bidi_text_disable***, para habilitar o deshabilitar la compatibilidad de texto bidireccional en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="9fa16-361">Two API functions ***gx_system_bidi_text_enable*** and ***gx_system_bidi_text_disable*** are provided to enable/disable bidi text support at runtime.</span></span>

<span data-ttu-id="9fa16-362">No debe utilizar **GX_DYNAMIC_BIDI_TEXT_SUPPORT** y a la vez configurar GUIX Studio para generar texto bidireccional según el orden de visualización.</span><span class="sxs-lookup"><span data-stu-id="9fa16-362">You should not use both **GX_DYNAMIC_BIDI_TEXT_SUPPORT** and configure GUIX Studio to generate Bidi text in display order.</span></span> <span data-ttu-id="9fa16-363">Debe seleccionar una estrategia u otra para controlar las cadenas de texto bidireccional.</span><span class="sxs-lookup"><span data-stu-id="9fa16-363">You must select one strategy or the other for bidi text string handling.</span></span>

## <a name="memory-usage"></a><span data-ttu-id="9fa16-364">Uso de la memoria</span><span class="sxs-lookup"><span data-stu-id="9fa16-364">Memory Usage</span></span> 

<span data-ttu-id="9fa16-365">GUIX reside con el programa de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-365">GUIX resides along with the application program.</span></span> <span data-ttu-id="9fa16-366">Como resultado, el uso de memoria estática (o memoria fija) de GUIX viene determinado por las herramientas de desarrollo; es decir, el compilador, el enlazador y el localizador.</span><span class="sxs-lookup"><span data-stu-id="9fa16-366">As a result, the static memory (or fixed memory) usage of GUIX is determined by the development tools; e.g., the compiler, linker, and locator.</span></span> <span data-ttu-id="9fa16-367">El uso de memoria dinámica (o memoria en tiempo de ejecución) está bajo el control directo de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-367">Dynamic memory (or run-time memory) usage is under direct control of the application.</span></span>

### <a name="static-memory-usage"></a><span data-ttu-id="9fa16-368">Uso de memoria estática</span><span class="sxs-lookup"><span data-stu-id="9fa16-368">Static Memory Usage</span></span> 

<span data-ttu-id="9fa16-369">La mayoría de las herramientas de desarrollo dividen la imagen del programa de la aplicación en cinco áreas básicas: *instrucciones*, *constantes*, *datos inicializados*, *datos sin inicializar* y la *pila de subprocesos de GUIX*.</span><span class="sxs-lookup"><span data-stu-id="9fa16-369">Most of the development tools divide the application program image into five basic areas: *instruction*, *constant*, *initialized data*, *uninitialized data*, and the *GUIX thread stack*.</span></span>  <span data-ttu-id="9fa16-370">En la ilustración siguiente se muestra un posible diseño de estas áreas de memoria:</span><span class="sxs-lookup"><span data-stu-id="9fa16-370">The figure below demonstrates one possible layout of these memory areas:</span></span>

![Diseño de memoria](./media/guix/user-guide/memory-area-example.png)

<span data-ttu-id="9fa16-372">Es importante entender que se trata solo de un ejemplo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-372">It is important to understand that this only an example.</span></span> <span data-ttu-id="9fa16-373">El diseño de la memoria estática real es específico del procesador, las herramientas de desarrollo, el hardware subyacente y la propia aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-373">The actual static memory layout is specific to the processor, development tools, underlying hardware, and the application itself.</span></span>

<span data-ttu-id="9fa16-374">El área de instrucciones contiene todas las instrucciones del procesador del programa.</span><span class="sxs-lookup"><span data-stu-id="9fa16-374">The instruction area contains all of the program’s processor instructions.</span></span> <span data-ttu-id="9fa16-375">Esta área suele encontrarse en la ROM.</span><span class="sxs-lookup"><span data-stu-id="9fa16-375">This area is often located in ROM.</span></span>

<span data-ttu-id="9fa16-376">El área de constantes contiene varias constantes compiladas; en GUIX contiene los valores predeterminados y todos los recursos de la aplicación (imágenes, cadenas, fuentes y colores).</span><span class="sxs-lookup"><span data-stu-id="9fa16-376">The constant area contains various compiled constants, which in GUIX contains default settings and all application resources (images, strings, fonts, and colors).</span></span> <span data-ttu-id="9fa16-377">Además, esta área contiene la "copia inicial" del área de datos inicializados.</span><span class="sxs-lookup"><span data-stu-id="9fa16-377">In addition, this area contains the “initial copy” of the initialized data area.</span></span> <span data-ttu-id="9fa16-378">Durante el proceso de inicialización del compilador, esta parte del área de constantes se usa para configurar los datos inicializados globales en la RAM.</span><span class="sxs-lookup"><span data-stu-id="9fa16-378">During the compiler’s initialization process, this portion of the constant area is used to set up the global initialized data in RAM.</span></span> <span data-ttu-id="9fa16-379">El área de constantes suele ser la más grande, suele seguir al área de instrucciones y suele encontrarse en la ROM.</span><span class="sxs-lookup"><span data-stu-id="9fa16-379">The constant area is typically the largest and usually follows the instruction area and is often located in ROM.</span></span>

<span data-ttu-id="9fa16-380">Por lo general, los mapas de píxeles y las fuentes de GUIX suelen requerir una gran cantidad de almacenamiento de datos constantes.</span><span class="sxs-lookup"><span data-stu-id="9fa16-380">GUIX pixelmaps and fonts typically require large amounts of constant data storage.</span></span> <span data-ttu-id="9fa16-381">Estas grandes áreas de datos estáticos normalmente se mantienen en la memoria ROM o FLASH.</span><span class="sxs-lookup"><span data-stu-id="9fa16-381">These large static data areas are normally kept in ROM or FLASH.</span></span>

<span data-ttu-id="9fa16-382">La pila de subprocesos de GUIX se define dentro del área de datos no inicializados (como una variable global) en el archivo ***gx_system.h*** de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="9fa16-382">The GUIX thread stack is defined within the uninitialized data area (as a global variable) in ***gx_system.h*** file as follows:</span></span>

```C
_gx_system_thread_stack[GX_THREAD_STACK_SIZE];
```

<span data-ttu-id="9fa16-383">**GX_THREAD_STACK_SIZE** se define en **_gx_port. h_**, pero la aplicación puede invalidarlo definiendo este símbolo en el archivo de encabezado ***gx_user.h*** o por medio de las opciones del proyecto o los parámetros de la línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-383">**GX_THREAD_STACK_SIZE** is defined in **_gx_port.h_**, but may be overridden by the application by defining this symbol in the ***gx_user.h*** header file or via project options or command line parameters.</span></span> <span data-ttu-id="9fa16-384">El tamaño de la pila debe ser lo suficientemente grande como para administrar el peor caso en el control de eventos y las llamadas de dibujo anidadas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-384">The stack size must be large enough to handle the worst case event handling and nested drawing calls.</span></span>

### <a name="dynamic-memory-usage"></a><span data-ttu-id="9fa16-385">Uso de memoria dinámica</span><span class="sxs-lookup"><span data-stu-id="9fa16-385">Dynamic Memory Usage</span></span> 

<span data-ttu-id="9fa16-386">Como se ha mencionado antes, el uso de memoria dinámica está bajo el control directo de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-386">As mentioned before, dynamic memory usage is under direct control of the application.</span></span> <span data-ttu-id="9fa16-387">Los bloques de control y la memoria asociados a los lienzos, etc., se pueden colocar en cualquier parte del espacio de memoria del destino.</span><span class="sxs-lookup"><span data-stu-id="9fa16-387">Control blocks and memory associated with canvases, etc. can be placed anywhere in the target’s memory space.</span></span> <span data-ttu-id="9fa16-388">Se trata de una característica importante, ya que facilita el uso de diferentes tipos de memoria física en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="9fa16-388">This is an important feature because it facilitates easy utilization of different types of physical memory – at run-time.</span></span>

<span data-ttu-id="9fa16-389">Por ejemplo, imagine que un entorno de hardware de destino tiene memoria rápida y memoria lenta.</span><span class="sxs-lookup"><span data-stu-id="9fa16-389">For example, suppose a target hardware environment has both fast memory and slow memory.</span></span> <span data-ttu-id="9fa16-390">Si la aplicación necesita un rendimiento adicional para el dibujo, la memoria del lienzo se puede colocar explícitamente en el área de memoria de alta velocidad para conseguir el mejor rendimiento.</span><span class="sxs-lookup"><span data-stu-id="9fa16-390">If the application needs extra performance for drawing, the canvas memory can be explicitly placed in the high-speed memory area for best performance.</span></span>

<span data-ttu-id="9fa16-391">Varios servicios y características opcionales de GUIX requieren un mecanismo de asignación de memoria dinámica en tiempo de ejecución, que se conoce normalmente como montón.</span><span class="sxs-lookup"><span data-stu-id="9fa16-391">Several optional GUIX services and features require a runtime dynamic memory allocation mechanism, commonly referred to as a heap.</span></span> <span data-ttu-id="9fa16-392">Estos servicios y características son totalmente opcionales; muchas aplicaciones de GUIX no usan ningún montón y no definen ningún mecanismo de asignación de memoria en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="9fa16-392">These services and features are completely optional, and many GUIX applications do not use any heap and do not define a runtime memory allocation mechanism.</span></span>

<span data-ttu-id="9fa16-393">Si va a utilizar servicios que requieren la asignación de memoria en tiempo de ejecución, debe instalar las funciones a las que GUIX llamará cuando se deba asignar o liberar memoria dinámicamente.</span><span class="sxs-lookup"><span data-stu-id="9fa16-393">If you will be using services which require runtime memory allocation, you must install functions which GUIX will call when memory must be dynamically allocated or freed.</span></span> <span data-ttu-id="9fa16-394">Puede implementar estas funciones como prefiera, de modo que, incluso en este caso, la ubicación del grupo de memoria dinámica esté bajo control de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-394">You can implement these functions as you prefer, so that even in this case the location of the dynamic memory pool is under application control.</span></span> <span data-ttu-id="9fa16-395">Para disponer de compatibilidad con la asignación de memoria dinámica, la aplicación debe invocar el servicio de API ***gx_system_memory_allocator_set*** durante el inicio del programa para definir los servicios de asignación y liberación de memoria.</span><span class="sxs-lookup"><span data-stu-id="9fa16-395">To install support for dynamic memory allocation, the application should invoke the API service ***gx_system_memory_allocator_set*** during program startup to define your memory allocation and memory free services.</span></span> <span data-ttu-id="9fa16-396">Consulte en la documentación de esta API un ejemplo completo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-396">Refer to the documentation of this API for a complete example.</span></span>

<span data-ttu-id="9fa16-397">Los servicios de GUIX que requieren servicios de asignación y desasignación de memoria en tiempo de ejecución incluyen los siguientes:</span><span class="sxs-lookup"><span data-stu-id="9fa16-397">GUIX services which require a runtime memory allocation and de-allocation service include:</span></span>

  - <span data-ttu-id="9fa16-398">Carga de recursos binarios del almacenamiento externo en el entorno de ejecución de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-398">Loading binary resources from external storage into the GUIX runtime environment.</span></span>

  - <span data-ttu-id="9fa16-399">Descodificador de imágenes JPEG en tiempo de ejecución de software.</span><span class="sxs-lookup"><span data-stu-id="9fa16-399">The software runtime jpeg image decoder.</span></span>

  - <span data-ttu-id="9fa16-400">Descodificador de imágenes PNG en tiempo de ejecución de software.</span><span class="sxs-lookup"><span data-stu-id="9fa16-400">The software runtime png image decoder.</span></span>

  - <span data-ttu-id="9fa16-401">Uso de widgets de texto con GX_STYLE_TEXT_COPY.</span><span class="sxs-lookup"><span data-stu-id="9fa16-401">Using text widgets with GX_STYLE_TEXT_COPY.</span></span>

  - <span data-ttu-id="9fa16-402">Funciones de utilidad de cambio de tamaño y rotación de mapa de píxeles en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="9fa16-402">Runtime pixemap resize and rotation utility functions.</span></span>
  - <span data-ttu-id="9fa16-403">Asignación de bloques de control de pantalla y de widget en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="9fa16-403">Runtime screen and widget control block allocation.</span></span>

<span data-ttu-id="9fa16-404">En el caso de las aplicaciones más pequeñas, los recursos de GUIX se suelen compilar y vincular estáticamente como parte de la imagen de aplicación, y no es necesaria la instalación de recursos binarios.</span><span class="sxs-lookup"><span data-stu-id="9fa16-404">For smaller applications, GUIX resources are usually compiled and statically linked as part of the application image, and binary resource installation is not required.</span></span> <span data-ttu-id="9fa16-405">Los recursos binarios permiten que una aplicación instale recursos (fuentes, imágenes, idiomas) en tiempo de ejecución cargados desde alguna ubicación de almacenamiento, como una unidad flash o una dirección URL.</span><span class="sxs-lookup"><span data-stu-id="9fa16-405">Binary resources allow an application to install resources (fonts, images, languages) at runtime loaded from some storage location, such as a flash drive or a URL.</span></span>

<span data-ttu-id="9fa16-406">Los descodificadores de JPEG y PNG en tiempo de ejecución son componentes opcionales.</span><span class="sxs-lookup"><span data-stu-id="9fa16-406">The runtime jpeg and png decoders are optional components.</span></span> <span data-ttu-id="9fa16-407">La mayoría de las aplicaciones de GUIX permiten que la herramienta GUIX Studio descodifique previamente todos los archivos de imagen necesarios y los almacene como recursos de datos de mapa de píxeles propiedad de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-407">Most GUIX applications allow the GUIX Studio tool to pre-decode all required image files, and store them as proprietary GUIX Pixemap data resources.</span></span> <span data-ttu-id="9fa16-408">Estos servicios se proporcionan para la integridad de las aplicaciones que requieren la conversión en tiempo de ejecución de imágenes JPEG o PNG al formato de mapa de píxeles.</span><span class="sxs-lookup"><span data-stu-id="9fa16-408">These services are provided for completeness for those applications that require runtime conversion of jpeg and/or PNG images to pixelmap format.</span></span>

<span data-ttu-id="9fa16-409">**GX_STYLE_TEXT_COPY** permite al usuario especificar que uno o varios widgets determinados mantendrán su propia copia privada del texto asignado dinámicamente.</span><span class="sxs-lookup"><span data-stu-id="9fa16-409">**GX_STYLE_TEXT_COPY** allows the user to specify that a particular widget or widgets will keep it’s own private copy of dynamically assigned text.</span></span> <span data-ttu-id="9fa16-410">El uso de esta opción requiere que se instale antes el mecanismo de asignación de memoria.</span><span class="sxs-lookup"><span data-stu-id="9fa16-410">Using this option requires that the memory allocation mechanism be installed prior to use.</span></span> <span data-ttu-id="9fa16-411">Si **<span class="underline">no</span>** se proporciona esta marca de estilo cuando se crea un widget de tipo de texto, la aplicación debe asignar áreas de almacenamiento estáticas para todas las cadenas de texto creadas y asignadas dinámicamente.</span><span class="sxs-lookup"><span data-stu-id="9fa16-411">If this style flag is **<span class="underline">not</span>** provided when a text type widget is created, the application must allocate static storage areas for all dynamically created and assigned text strings.</span></span> <span data-ttu-id="9fa16-412">En este caso, no se deben usar variables automáticas para almacenar los datos de cadena generados en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="9fa16-412">Automatic variables should not be used in this case to hold runtime generated string data.</span></span> <span data-ttu-id="9fa16-413">Si está habilitado el estilo de **GX_STYLE_TEXT_COPY**, se pueden usar variables automáticas para contener los datos de cadena asignados a widgets de GUIX, ya que cada widget creará su propia copia del texto asignado.</span><span class="sxs-lookup"><span data-stu-id="9fa16-413">If the **GX_STYLE_TEXT_COPY** style is enabled, automatic variables may be used to hold string data assigned to GUIX widgets, since each widget will create its own copy of the assigned text.</span></span>

<span data-ttu-id="9fa16-414">Las funciones de utilidad de cambio de tamaño y rotación de mapas de píxeles devuelven el mapa de píxeles trasladado resultante como un nuevo mapa de píxeles disponible para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-414">Pixelmap resize and rotation utility functions return the resulting translated pixelmap as a new pixelmap available to the application.</span></span>
<span data-ttu-id="9fa16-415">Si se usan estos servicios, debe haber suficiente memoria dinámica para incluir estos bloques de datos de mapas de píxeles que se generan en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="9fa16-415">Sufficient dynamic memory must be available to hold these runtime generated pixelmap data blocks if these services are used.</span></span>

<span data-ttu-id="9fa16-416">Por último, los bloques de control de las pantallas y los widgets de GUIX se pueden asignar de forma estática o dinámica.</span><span class="sxs-lookup"><span data-stu-id="9fa16-416">Finally, the control blocks for the GUIX screens and widgets can be statically or dynamically allocated.</span></span> <span data-ttu-id="9fa16-417">En el caso de aplicaciones más pequeñas, es habitual crear todas las pantallas de la aplicación durante el inicio del programa y utilizar bloques de control asignados estáticamente.</span><span class="sxs-lookup"><span data-stu-id="9fa16-417">For smaller applications, it is common to create all application screens during program startup and use statically allocated control blocks.</span></span> <span data-ttu-id="9fa16-418">En el caso de las aplicaciones de gran tamaño, los controles de pantallas y de widgets secundarios suelen crearse dinámicamente a medida que son necesarios.</span><span class="sxs-lookup"><span data-stu-id="9fa16-418">For large applications, it is common to create the screen and child widget controls dynamically on an as-needed bases.</span></span> <span data-ttu-id="9fa16-419">Los bloques de control asignados dinámicamente se especifican seleccionando la casilla de verificación **Runtime Allocate** (Asignación en tiempo de ejecución) en la vista de propiedades de GUIX Studio o pasando la marca de estilo **GX_STYLE_DYNAMICALLY_ALLOCATED** al crear un widget por medio de la API estándar.</span><span class="sxs-lookup"><span data-stu-id="9fa16-419">Dynamically allocated control blocks are specified by selecting the **Runtime Allocate** checkbox in the GUIX Studio properties view, or by passing in the style flag **GX_STYLE_DYNAMICALLY_ALLOCATED** when creating a widget via the standard API.</span></span> <span data-ttu-id="9fa16-420">El uso de bloques de control de widget asignados dinámicamente requiere que estén definidos los servicios de asignación y desasignación de memoria, tal como se describió anteriormente.</span><span class="sxs-lookup"><span data-stu-id="9fa16-420">Using dynamically allocated widget control blocks requires that memory allocation and deallocation services are defined as described above.</span></span>

## <a name="guix-components"></a><span data-ttu-id="9fa16-421">Componentes de GUIX</span><span class="sxs-lookup"><span data-stu-id="9fa16-421">GUIX Components</span></span> 

<span data-ttu-id="9fa16-422">Las API de GUIX se dividen y se organizan en varios grupos básicos que se corresponden con los componentes fundamentales del sistema de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-422">The GUIX APIs are divided and organized into several basic groups which correspond to fundamental components of the GUIX system.</span></span> <span data-ttu-id="9fa16-423">A continuación se indican los componentes fundamentales:</span><span class="sxs-lookup"><span data-stu-id="9fa16-423">The fundamental components include:</span></span>

| <span data-ttu-id="9fa16-424">Componentes</span><span class="sxs-lookup"><span data-stu-id="9fa16-424">Components</span></span>  | <span data-ttu-id="9fa16-425">Descripción</span><span class="sxs-lookup"><span data-stu-id="9fa16-425">Description</span></span>  |
| ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="9fa16-426">GX_SYSTEM</span><span class="sxs-lookup"><span data-stu-id="9fa16-426">GX_SYSTEM</span></span>  | <span data-ttu-id="9fa16-427">Es el componente de sistema de GUIX, responsable de la inicialización, los eventos, los temporizadores, las tablas de cadenas y la administración de la jerarquía de widgets visibles.</span><span class="sxs-lookup"><span data-stu-id="9fa16-427">The GUIX system component, responsible for initialization, events, timers, string tables, and visible widget hierarchy management.</span></span>                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="9fa16-428">GX_CANVAS</span><span class="sxs-lookup"><span data-stu-id="9fa16-428">GX_CANVAS</span></span>  | <span data-ttu-id="9fa16-429">Es un área de dibujo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-429">A drawing area.</span></span> <span data-ttu-id="9fa16-430">Un lienzo puede ser una abstracción fina del búfer de cuadros de hardware o también podría ser directamente un lienzo de memoria.</span><span class="sxs-lookup"><span data-stu-id="9fa16-430">A Canvas can be a thin abstraction of the hardware frame buffer, or it might also be a pure memory canvas.</span></span> <span data-ttu-id="9fa16-431">El tipo de lienzo viene determinado por los parámetros que se pasan a la función de API gx_canvas_create.</span><span class="sxs-lookup"><span data-stu-id="9fa16-431">The canvas type is determined by parameters passed to the gx_canvas_create API function.</span></span>                                                                                                                                                                                   |
| <span data-ttu-id="9fa16-432">GX_CONTEXT</span><span class="sxs-lookup"><span data-stu-id="9fa16-432">GX_CONTEXT</span></span> | <span data-ttu-id="9fa16-433">El componente de contexto de dibujo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-433">The drawing context component.</span></span> <span data-ttu-id="9fa16-434">El contexto de dibujo contiene información sobre la pantalla, el lienzo y el pincel, así como el área de recorte de las operaciones de dibujo actuales.</span><span class="sxs-lookup"><span data-stu-id="9fa16-434">The drawing context contains information about the screen, canvas, and brush, and clipping area for the current drawing operations.</span></span>                                                                                                                                                                                                                                      |
| <span data-ttu-id="9fa16-435">GX_DISPLAY</span><span class="sxs-lookup"><span data-stu-id="9fa16-435">GX_DISPLAY</span></span> | <span data-ttu-id="9fa16-436">Proporciona las API y las implementaciones de nivel de controlador que permiten que la aplicación y los widgets de GUIX realicen dibujos en un lienzo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-436">Provides the APIs and driver-level implementations to allow your application and the GUIX widgets to perform drawing on a canvas.</span></span> <span data-ttu-id="9fa16-437">GX_DISPLAY se implementa para representar correctamente los gráficos en cada lienzo con el formato de color necesario del lienzo correspondiente.</span><span class="sxs-lookup"><span data-stu-id="9fa16-437">GX_DISPLAY is implemented to correctly render graphics on each canvas using that canvas’ required color format.</span></span> <span data-ttu-id="9fa16-438">El componente GX_DISPLAY también administra los recursos (colores, fuentes y mapas de píxeles) disponibles para los widgets que dibujan en los lienzos vinculados a cada pantalla.</span><span class="sxs-lookup"><span data-stu-id="9fa16-438">The GX_DISPLAY component also manages the resources (colors, fonts, and pixelmaps) available to widgets drawing to canvases linked to each display.</span></span> |
| <span data-ttu-id="9fa16-439">GX_WIDGET</span><span class="sxs-lookup"><span data-stu-id="9fa16-439">GX_WIDGET</span></span>  | <span data-ttu-id="9fa16-440">Objeto de widget visible básico y las API asociadas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-440">The basic visible widget object and associated APIs.</span></span> <span data-ttu-id="9fa16-441">Todos los tipos de widgets de GUIX se basan o derivan del tipo GX_WIDGET básico.</span><span class="sxs-lookup"><span data-stu-id="9fa16-441">All GUIX widget types are based on or derived from the basic GX_WIDGET type.</span></span>                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="9fa16-442">GX_UTILITY</span><span class="sxs-lookup"><span data-stu-id="9fa16-442">GX_UTILITY</span></span> | <span data-ttu-id="9fa16-443">En este grupo se incluyen funciones de utilidad para trabajar con rectángulos, funciones de conversión de cadenas y funciones matemáticas no ANSI.</span><span class="sxs-lookup"><span data-stu-id="9fa16-443">Utility functions for working with rectangles, functions for string conversion, and non-ANSI mathematical functions are included in this group.</span></span>                                                                                                                                                                                                                                                         |

<span data-ttu-id="9fa16-444">Además de estos componentes básicos, GUIX incluye API exclusivas de cada tipo de widget proporcionado en la biblioteca.</span><span class="sxs-lookup"><span data-stu-id="9fa16-444">In addition to these basic components, GUIX includes APIs unique to each type of widget provided in the library.</span></span> <span data-ttu-id="9fa16-445">Estas API se describen en el capítulo 4 de este manual del usuario, "Descripción de los servicios de GUIX".</span><span class="sxs-lookup"><span data-stu-id="9fa16-445">These APIs are described in Chapter 4 of this User Guide, “Description of GUIX Services”.</span></span>

## <a name="guix-system-component"></a><span data-ttu-id="9fa16-446">Componente de sistema de GUIX</span><span class="sxs-lookup"><span data-stu-id="9fa16-446">GUIX System Component</span></span>

<span data-ttu-id="9fa16-447">El componente de sistema de GUIX proporciona varios servicios globales para la aplicación de interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="9fa16-447">The GUIX system component provides several services that are global to the UI application.</span></span> <span data-ttu-id="9fa16-448">Estos servicios incluyen: *inicialización, administración de eventos, administración de pantallas, administración de recursos, administración de temporizadores* y *administración de widgets*.</span><span class="sxs-lookup"><span data-stu-id="9fa16-448">These services include: *initialization, event management, display management, resource management, timer management,* and *widget management*.</span></span> <span data-ttu-id="9fa16-449">Cada servicio es esencial para la organización del programa de la aplicación; se describen con más detalle en las subsecciones siguientes.</span><span class="sxs-lookup"><span data-stu-id="9fa16-449">Each service is essential to the organization of your application program, and these services are described in more detail in the following sub-sections.</span></span>

### <a name="initialization"></a><span data-ttu-id="9fa16-450">Inicialización</span><span class="sxs-lookup"><span data-stu-id="9fa16-450">Initialization</span></span> 

<span data-ttu-id="9fa16-451">La inicialización de GUIX se realiza cuando la aplicación llama al servicio ***gx_system_initialize***, ya sea desde la rutina ***tx_application_define*** de ThreadX (contexto de inicialización) o desde subprocesos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-451">GUIX initialization is accomplished by the application calling the service ***gx_system_initialize***, which may be called by the application from the ThreadX ***tx_application_define*** routine (initialization context) or from application threads.</span></span> <span data-ttu-id="9fa16-452">La función ***gx_system_initialize*** inicializa todas las estructuras de datos globales de GUIX y crea la exclusión mutua, la cola de eventos, el temporizador y el subproceso del sistema de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-452">The ***gx_system_initialize*** function initializes all global GUIX data structures and creates the GUIX system mutex, event queue, timer, and thread.</span></span> <span data-ttu-id="9fa16-453">Una vez que vuelve ***gx_system_initialize***, la aplicación puede usar GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-453">Once ***gx_system_initialize*** returns, the application can use GUIX.</span></span>

### <a name="thread-processing"></a><span data-ttu-id="9fa16-454">Procesamiento de subprocesos</span><span class="sxs-lookup"><span data-stu-id="9fa16-454">Thread Processing</span></span> 

<span data-ttu-id="9fa16-455">El subproceso interno de GUIX, creado durante la inicialización, es responsable de la mayor parte del procesamiento que se realiza en GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-455">The internal GUIX thread – created during initialization – is responsible for most of the processing in GUIX.</span></span> <span data-ttu-id="9fa16-456">En primer lugar, el procesamiento de este subproceso completa cualquier inicialización adicional que precise el controlador de pantalla subyacente.</span><span class="sxs-lookup"><span data-stu-id="9fa16-456">The processing in this thread first completes any additional initialization required by the underlying display driver.</span></span> <span data-ttu-id="9fa16-457">A continuación, el subproceso de GUIX entra en un bucle en el que primero procesa todos los eventos presentes en la cola de eventos de GUIX y, a continuación, actualiza la pantalla si es necesario.</span><span class="sxs-lookup"><span data-stu-id="9fa16-457">Once this is complete, the GUIX thread enters a loop which first processes all events present in the GUIX event queue and then refreshes the screen if required.</span></span> <span data-ttu-id="9fa16-458">La actualización de la pantalla ejecuta las funciones de dibujo necesarias de GUIX, en función de lo que esté visible y se haya marcado como modificado, lo que significa que debe volver a dibujarse.</span><span class="sxs-lookup"><span data-stu-id="9fa16-458">The screen refresh executes the necessary GUIX drawing functions, based on what is visible and has been marked as dirty meaning it needs to be redrawn.</span></span> <span data-ttu-id="9fa16-459">Cuando no hay eventos y nada más que actualizar en la pantalla, el subproceso de GUIX se suspende y se queda esperando a que llegue el siguiente evento de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-459">When there are no events and nothing left to refresh on the display, the GUIX thread will suspend, waiting for the next GUIX event to arrive.</span></span>

### <a name="rtos-binding"></a><span data-ttu-id="9fa16-460">Enlace con RTOS</span><span class="sxs-lookup"><span data-stu-id="9fa16-460">RTOS Binding</span></span> 

<span data-ttu-id="9fa16-461">El componente de sistema de GUIX está configurado de forma predeterminada para utilizar el sistema operativo en tiempo real de ThreadX para servicios como servicios de subprocesos, servicios de cola de eventos y servicios de temporizador.</span><span class="sxs-lookup"><span data-stu-id="9fa16-461">The GUIX system component is by default configured to utilize the ThreadX real time operating system for services such as thread services, event queue services, and timer services.</span></span> <span data-ttu-id="9fa16-462">GUIX se puede distribuir fácilmente a otros sistemas operativos si se usa la directiva de preprocesador GX_DISABLE_THREADX_BINDING y se vuelve a compilar la biblioteca de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-462">GUIX can easily be ported to other operating systems by using the preprocessor directive GX_DISABLE_THREADX_BINDING and re-building the GUIX library.</span></span> <span data-ttu-id="9fa16-463">De este modo, se quitan las dependencias de ThreadX del código fuente de GUIX y el desarrollador de la aplicación puede implementar los servicios de sistema operativo necesarios con cualquier RTOS que se proporcione en el sistema de destino.</span><span class="sxs-lookup"><span data-stu-id="9fa16-463">This removes the ThreadX dependencies from the GUIX source code, and allows the application developer to implement the required operating system services using whatever RTOS is provided by the target system.</span></span> <span data-ttu-id="9fa16-464">En el [Apéndice F Servicios de enlace con RTOS en GUIX](appendix-f.md) se describen los servicios que deben implementarse para distribuir GUIX a un sistema operativo distinto del sistema operativo de ThreadX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-464">[Appendix F - GUIX RTOS Binding Services](appendix-f.md) describes the services that need to be implemented to port GUIX to an operating system other than the ThreadX operating system.</span></span>

### <a name="multithread-safety"></a><span data-ttu-id="9fa16-465">Seguridad para subprocesos</span><span class="sxs-lookup"><span data-stu-id="9fa16-465">Multithread Safety</span></span> 

<span data-ttu-id="9fa16-466">La API de GUIX está disponible en el contexto de subprocesos de GUIX y en otros subprocesos de aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-466">The GUIX API is available from the GUIX thread context as well as other application threads.</span></span> <span data-ttu-id="9fa16-467">Los subprocesos de aplicación pueden interactuar con el subproceso de GUIX mediante el envío y la recepción de eventos, el acceso a las variables compartidas y el uso de las funciones de API de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-467">Application threads can interact with the GUIX thread by sending and receiving events, by access to shared variables, and through use of the GUIX API functions.</span></span> <span data-ttu-id="9fa16-468">GUIX usa una exclusión mutua de ThreadX interna para la protección de los recursos multiproceso.</span><span class="sxs-lookup"><span data-stu-id="9fa16-468">GUIX uses an internal ThreadX mutex for multi-thread resource protection.</span></span> <span data-ttu-id="9fa16-469">Además, impide que la estructura interna de los widgets visibles se modifique una vez iniciada una operación de actualización de pantalla.</span><span class="sxs-lookup"><span data-stu-id="9fa16-469">In addition, GUIX prevents the internal structure of visible widgets from being modified once a screen refresh operation has begun.</span></span> <span data-ttu-id="9fa16-470">Las API que modificarían el árbol de objetos visibles se bloquean mientras las operaciones de dibujo están en curso y se liberan una vez completada la actualización de la pantalla.</span><span class="sxs-lookup"><span data-stu-id="9fa16-470">APIs which would modify the tree of visible objects are blocked while drawing operations are in progress, and released once the screen refresh is complete.</span></span>

### <a name="system-timers"></a><span data-ttu-id="9fa16-471">Temporizadores del sistema</span><span class="sxs-lookup"><span data-stu-id="9fa16-471">System Timers</span></span> 

<span data-ttu-id="9fa16-472">GUIX proporciona a la aplicación temporizadores periódicos, que a menudo se usan para la actualización periódica de los datos que se muestran en las ventanas de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-472">GUIX provides the application with periodic timers, which are often used for periodic update of data displayed in GUIX windows.</span></span> <span data-ttu-id="9fa16-473">Esto se logra a través de un temporizador periódico de ThreadX, que también se usa para realizar efectos en el nivel de sistema de GUIX, como el fundido de entrada y de salida de pantalla, etc.</span><span class="sxs-lookup"><span data-stu-id="9fa16-473">This is accomplished via a ThreadX periodic timer, which is also used to perform GUIX system-level effects like screen fade in/out, etc.</span></span>

<span data-ttu-id="9fa16-474">La aplicación puede crear temporizadores y usar la misma utilidad de temporizador que GUIX usa internamente.</span><span class="sxs-lookup"><span data-stu-id="9fa16-474">The application can create timers and utilize the same timer facility that is used internally by GUIX.</span></span> <span data-ttu-id="9fa16-475">Por supuesto, la aplicación también puede crear y usar directamente temporizadores de ThreadX si es necesario.</span><span class="sxs-lookup"><span data-stu-id="9fa16-475">Of course the application can also directly create and use ThreadX timers if required.</span></span> <span data-ttu-id="9fa16-476">La ventaja de los temporizadores de GUIX es que son muy fáciles de usar y están preconfigurados para funcionar dentro del sistema de procesamiento basado en eventos de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-476">The advantage of the GUIX timers is that they are very easy to use and are pre-configured to work within the GUIX event-driven processing system.</span></span>

<span data-ttu-id="9fa16-477">Para crear e iniciar un temporizador de GUIX, la aplicación debe invocar la función ***gx_system_timer_start***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-477">To create and start a GUIX timer, the application should invoke the function ***gx_system_timer_start***.</span></span> <span data-ttu-id="9fa16-478">Los parámetros de esta función incluyen un puntero al widget que realiza la llamada, el identificador del temporizador (lo que permite que un widget inicie varios temporizadores) y los valores inicial y de tiempo de espera para la reprogramación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-478">The parameters to this function include a pointer to the calling widget, the timer id (allowing one widget to start many timers), and the initial and reschedule timeout values.</span></span> <span data-ttu-id="9fa16-479">Si el valor del tiempo de espera para la reprogramación es 0, el temporizador solo se ejecutará una vez y se eliminará de la lista de temporizadores activos una vez que expire.</span><span class="sxs-lookup"><span data-stu-id="9fa16-479">If the reschedule timeout value is 0, the timer will only run one time and will delete itself from the active timer list once it expires.</span></span>

<span data-ttu-id="9fa16-480">Una vez iniciado el temporizador de GUIX, enviará eventos GX_EVENT_TIMEOUT al propietario del temporizador, ya sea una vez o periódicamente según el valor de reprogramación del temporizador.</span><span class="sxs-lookup"><span data-stu-id="9fa16-480">Once started, the GUIX timer will send GX_EVENT_TIMEOUT events to the timer owner, either once or periodically depending on the timer reschedule value.</span></span> <span data-ttu-id="9fa16-481">Un temporizador de GUIX puede detenerse llamando a la función de API ***gx_system_timer_stop***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-481">A GUIX timer can be stopped by calling the API function ***gx_system_timer_stop***.</span></span>

### <a name="pen-speed-configuration"></a><span data-ttu-id="9fa16-482">Configuración de la velocidad del lápiz</span><span class="sxs-lookup"><span data-stu-id="9fa16-482">Pen Speed Configuration</span></span> 

<span data-ttu-id="9fa16-483">El componente de sistema de GUIX contiene información de configuración relacionada con el seguimiento de la velocidad del lápiz.</span><span class="sxs-lookup"><span data-stu-id="9fa16-483">The GUIX system component holds configuration information related to pen speed tracking.</span></span> <span data-ttu-id="9fa16-484">GUIX genera eventos **GX_EVENT_VERTICAL_FLICK** y **GX_EVENT_HORIZONTAL_FLICK** internamente en función de la velocidad y la distancia de los eventos PEN_DOWN generados por el controlador de entrada táctil, si existe.</span><span class="sxs-lookup"><span data-stu-id="9fa16-484">GUIX internally generated **GX_EVENT_VERTICAL_FLICK** and **GX_EVENT_HORIZONTAL_FLICK** events based on the speed and distance of PEN_DOWN events generated by the touch input driver, if any.</span></span> <span data-ttu-id="9fa16-485">La aplicación puede configurar la distancia y la velocidad mínimas necesarias para desencadenar estos eventos generados internamente mediante la función de API **_gx_system_pen_configure_**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-485">The application can configure the minimum distance and speed required to trigger these internally generated events using the **_gx_system_pen_configure_** API function.</span></span>

### <a name="screen-stack"></a><span data-ttu-id="9fa16-486">Pila de pantallas</span><span class="sxs-lookup"><span data-stu-id="9fa16-486">Screen Stack</span></span> 

<span data-ttu-id="9fa16-487">El componente de sistema de GUIX proporciona servicios relacionados con la pila de pantallas de GUIX, una funcionalidad opcional que da soporte a una pila de widgets virtuales en la que la aplicación puede insertar, sacar y recuperar pantallas en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="9fa16-487">The GUIX system component provides services related to the GUIX screen stack, which is an optional functionality supporting a virtual widget stack onto which screens can be pushed, popped, and retrieved at runtime by the application.</span></span> <span data-ttu-id="9fa16-488">La pila de pantallas es útil para administrar sistemas de menús complejos, donde la ruta por la que el usuario puede llegar a varios estados del sistema de menús es variable.</span><span class="sxs-lookup"><span data-stu-id="9fa16-488">The screen stack is useful for managing complex menu systems, wherein the route by which the user may arrive at various states in the menu system is varied.</span></span> <span data-ttu-id="9fa16-489">Se puede volver al estado anterior en el sistema de menús fácilmente si se inserta primero el estado anterior de la pantalla, después se muestra la nueva pantalla y se permite que la nueva pantalla saque el estado anterior de la pila de pantallas cuando se descarte la pantalla actual.</span><span class="sxs-lookup"><span data-stu-id="9fa16-489">Returning to the previous state in the menu system can be easily done by first pushing the previous screen state, then displaying the new screen, and allowing the new screen to pop the previous state from the screen stack when the current screen is dismissed.</span></span>

### <a name="clipboard-maintenance"></a><span data-ttu-id="9fa16-490">Mantenimiento del portapapeles</span><span class="sxs-lookup"><span data-stu-id="9fa16-490">Clipboard Maintenance</span></span> 

<span data-ttu-id="9fa16-491">GUIX admite un portapapeles para copiar y pegar texto en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="9fa16-491">GUIX supports a clipboard for copying and pasting text during runtime execution.</span></span> <span data-ttu-id="9fa16-492">Esta compatibilidad la proporciona el componente de sistema de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-492">This support is provided by the GUIX System component.</span></span>

### <a name="dirty-list-maintenance"></a><span data-ttu-id="9fa16-493">Mantenimiento de la lista de elementos modificados</span><span class="sxs-lookup"><span data-stu-id="9fa16-493">Dirty List Maintenance</span></span> 

<span data-ttu-id="9fa16-494">GUIX mantiene una lista de widgets modificados, lo que significa que los widgets son visibles y deben volver a dibujarse debido a los cambios de estado o a que han pasado a estar visibles por primera vez.</span><span class="sxs-lookup"><span data-stu-id="9fa16-494">GUIX maintains a list of dirty widgets, meaning widgets that are visible and need to be redrawn due to status changes or being made newly visible.</span></span> <span data-ttu-id="9fa16-495">Esta lista de elementos modificados mejora el rendimiento del dibujo ya que permite que GUIX realice una operación de actualización de lienzo para reflejar todos los cambios actuales en el estado de la interfaz de usuario, en lugar de realizar la actualización a medida que se hace cada cambio de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="9fa16-495">This dirty list improves drawing performance by allowing GUIX to do one canvas refresh operation to reflect all current changes to the UI status, rather than doing a canvas refresh as each UI change is made.</span></span>
<span data-ttu-id="9fa16-496">Esta lista de elementos modificados también se mantiene mediante el componente de sistema de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-496">This dirty list is also maintained by the GUIX system component.</span></span>

### <a name="animation-control-block-pool"></a><span data-ttu-id="9fa16-497">Grupo de bloques de control de animación</span><span class="sxs-lookup"><span data-stu-id="9fa16-497">Animation Control Block Pool</span></span> 

<span data-ttu-id="9fa16-498">A menudo las aplicaciones desean ejecutar varias secuencias de animación y con frecuencia en paralelo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-498">Applications often desire to execute multiple animation sequences, often in parallel.</span></span> <span data-ttu-id="9fa16-499">GUIX mantiene un grupo de bloques de control de animación desde los que la aplicación puede asignar y usar las animaciones.</span><span class="sxs-lookup"><span data-stu-id="9fa16-499">GUIX maintains a pool of animation control blocks from which the application can allocate and use.</span></span> <span data-ttu-id="9fa16-500">Esto libera a la aplicación de la definición estática de estos bloques de control y permite que se reutilicen en momentos diferentes, en lugar de crear un bloque de control de animación para cada animación que pueda definir la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-500">This frees the application from statically defining these control blocks and allows them to be reused at different times, rather than defining a unique animation control block for every animation that the application might define.</span></span> <span data-ttu-id="9fa16-501">El grupo de bloques de control de animación también se mantiene mediante el componente de sistema de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-501">The animation control block pool is also maintained by the GUIX system component.</span></span>

### <a name="system-error-handling"></a><span data-ttu-id="9fa16-502">Control de errores del sistema</span><span class="sxs-lookup"><span data-stu-id="9fa16-502">System Error Handling</span></span> 

<span data-ttu-id="9fa16-503">El controlador de errores del sistema de GUIX está pensado para ayudar a la aplicación a encontrar errores internos del sistema en GUIX que podrían ser más difíciles de determinar desde la perspectiva de las API.</span><span class="sxs-lookup"><span data-stu-id="9fa16-503">The GUIX system error handler is intended to assist the application in finding internal system errors in GUIX that might be more difficult to determine from the API perspective.</span></span> <span data-ttu-id="9fa16-504">Siempre que se produce un error de sistema dentro de GUIX, se llama a la función interna ***_gx_system_error_process***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-504">Whenever a system error occurs inside of GUIX the internal ***_gx_system_error_process*** function is called.</span></span> <span data-ttu-id="9fa16-505">Esta función guarda el código de error proporcionado e incrementa el número total de errores del sistema detectados.</span><span class="sxs-lookup"><span data-stu-id="9fa16-505">This function saves the error code provided and increments the total number of system errors detected.</span></span> <span data-ttu-id="9fa16-506">Las variables de error del sistema se definen de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="9fa16-506">The system error variables are defined as follows:</span></span>

<span data-ttu-id="9fa16-507">UINT **_gx_system_last_error**;</span><span class="sxs-lookup"><span data-stu-id="9fa16-507">UINT **_gx_system_last_error**;</span></span>

<span data-ttu-id="9fa16-508">ULONG **_gx_system_error_count**;</span><span class="sxs-lookup"><span data-stu-id="9fa16-508">ULONG **_gx_system_error_count**;</span></span>

<span data-ttu-id="9fa16-509">Si la aplicación GUIX se comporta de forma extraña, resulta útil consultar la variable de recuento de errores en el depurador.</span><span class="sxs-lookup"><span data-stu-id="9fa16-509">If the GUIX application is behaving strangely, it is useful to look at the error count variable in the debugger.</span></span> <span data-ttu-id="9fa16-510">Si se ha establecido, una buena forma de solucionar el problema es establecer un punto de interrupción en la función ***_gx_system_error_process*** y ver cuándo y desde dónde se le llama.</span><span class="sxs-lookup"><span data-stu-id="9fa16-510">If it is set, a good way to troubleshoot the problem is to set a breakpoint in the ***_gx_system_error_process*** function and see when/where it is being called from.</span></span>

## <a name="guix-canvas-component"></a><span data-ttu-id="9fa16-511">Componente de lienzo de GUIX</span><span class="sxs-lookup"><span data-stu-id="9fa16-511">GUIX Canvas Component</span></span>

<span data-ttu-id="9fa16-512">El componente de lienzo es responsable de todo el procesamiento relacionado con el lienzo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-512">The canvas component is responsible for all canvas related processing.</span></span> <span data-ttu-id="9fa16-513">Un lienzo es realmente un búfer de cuadros virtual.</span><span class="sxs-lookup"><span data-stu-id="9fa16-513">A canvas is effectively a virtual frame buffer.</span></span> <span data-ttu-id="9fa16-514">La aplicación debe crear al menos un lienzo para generar la salida gráfica.</span><span class="sxs-lookup"><span data-stu-id="9fa16-514">Your application must create at least one canvas in order to produce graphical output.</span></span>
<span data-ttu-id="9fa16-515">Normalmente, se crea al menos un lienzo por cada pantalla física que admita el sistema.</span><span class="sxs-lookup"><span data-stu-id="9fa16-515">Typically, you would create at least one canvas for each physical display supported by your system.</span></span>

<span data-ttu-id="9fa16-516">Todo el dibujo de GUIX tiene lugar en un lienzo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-516">All GUIX drawing takes place on a canvas.</span></span> <span data-ttu-id="9fa16-517">En sistemas más sencillos o con restricción de memoria, es probable que solo haya un lienzo que esté vinculado directamente al búfer de cuadros visible, mientras que los sistemas con más memoria y requisitos gráficos más avanzados pueden requerir varios lienzos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-517">In simpler or memory constrained systems, there will likely be only one canvas which might be directly linked to the visible frame buffer, whereas systems with more memory and more advanced graphics requirements might require multiple canvases.</span></span> <span data-ttu-id="9fa16-518">El hecho de que haya varios lienzos disponibles para una pantalla permite utilizar características como los efectos de fundido de entrada y salida de las ventanas y las pantallas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-518">Making multiple canvases available for one display enables features such as screen and window fade-in and fade-out effects.</span></span>
<span data-ttu-id="9fa16-519">Los lienzos pueden ser de uno de dos tipos principales: simples o administrados.</span><span class="sxs-lookup"><span data-stu-id="9fa16-519">Canvases can be one of two main types, simple or managed.</span></span>

<span data-ttu-id="9fa16-520">Un lienzo simple es un área de dibujo fuera de la pantalla que usa la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-520">A simple canvas is an off-screen drawing area used by the application.</span></span>
<span data-ttu-id="9fa16-521">GUIX no hace nada directamente con un lienzo simple, pero la aplicación puede usarlo para representar un dibujo complejo en un búfer fuera de pantalla y, a continuación, usar este búfer para actualizar el lienzo visible cuando sea necesario.</span><span class="sxs-lookup"><span data-stu-id="9fa16-521">GUIX does nothing directly with a simple canvas, but the application can use a simple canvas to render complex drawing to an off-screen buffer, and then use this off-screen buffer to refresh the visible canvas when needed.</span></span>

<span data-ttu-id="9fa16-522">El lienzo administrado se muestra automáticamente en el búfer de cuadros de hardware de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-522">A managed canvas is automatically displayed within the hardware frame buffer by GUIX.</span></span> <span data-ttu-id="9fa16-523">Este lienzo se incluye al crear un lienzo compuesto en los sistemas con memoria suficiente para admitir varios lienzos administrados.</span><span class="sxs-lookup"><span data-stu-id="9fa16-523">A managed canvas is included in building a composite canvas for those systems with enough memory to support multiple managed canvases.</span></span> <span data-ttu-id="9fa16-524">Los lienzos administrados tienen un orden Z mantenido por GUIX y recorte de vistas aplicado.</span><span class="sxs-lookup"><span data-stu-id="9fa16-524">Managed canvases have a Z-order maintained by GUIX, and view clipping is enforced on all managed canvases.</span></span>

<span data-ttu-id="9fa16-525">Un lienzo se diferencia de un búfer de cuadros en que es más genérico.</span><span class="sxs-lookup"><span data-stu-id="9fa16-525">A canvas differs from a frame buffer in that it is more generic.</span></span> <span data-ttu-id="9fa16-526">En los sistemas con restricción de memoria solo puede haber un lienzo y la memoria de este lienzo puede ser la memoria de búfer de cuadros visible.</span><span class="sxs-lookup"><span data-stu-id="9fa16-526">In memory constrained systems, there may be only one canvas and the memory for this canvas might be the visible frame buffer memory.</span></span> <span data-ttu-id="9fa16-527">Sin embargo, en sistemas más complejos que admiten superposiciones gráficas más avanzadas y varios lienzos, se asignan áreas propias de memoria a los lienzos administrados, áreas que son diferentes de la memoria de búfer de cuadros de hardware.</span><span class="sxs-lookup"><span data-stu-id="9fa16-527">However, for more complex systems supporting more advanced graphical overlays and multiple canvases, the managed canvases are each allocated their own memory areas which are distinct from the hardware frame buffer memory.</span></span>
<span data-ttu-id="9fa16-528">Estos lienzos administrados se representan en el búfer de cuadros visible durante la operación de alternancia o actualización del búfer de cuadros.</span><span class="sxs-lookup"><span data-stu-id="9fa16-528">These managed canvases are rendered into the visible frame buffer during the frame buffer refresh or toggle operation.</span></span>

<span data-ttu-id="9fa16-529">En el caso de hardware compatible con varias capas gráficas, es decir, varios búferes de cuadros superpuestos, la aplicación puede enlazar uno o varios lienzos a las capas gráficas de hardware mediante la API ***gx_canvas_hardware_layer_bind***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-529">For hardware supporting multiple graphics layers, i.e. multiple overlayed frame buffers, the application can bind one or more canvases to the hardware graphics layers using the ***gx_canvas_hardware_layer_bind*** API.</span></span> <span data-ttu-id="9fa16-530">Este servicio informa al lienzo de que está vinculado a una capa gráfica de hardware determinada; una vez que se ha vinculado, este lienzo intentará utilizar la compatibilidad de hardware para la visibilidad del lienzo (es decir,</span><span class="sxs-lookup"><span data-stu-id="9fa16-530">This service informs the canvas that it is linked to a particular hardware graphics layer, and once linked this canvas will attempt to utilize hardware support for canvas visibility (i.e</span></span> <span data-ttu-id="9fa16-531">gx_canvas_show, gx_canvas_hide), la combinación alfa del lienzo (es decir, ***gx_canvas_alpha_set***) y el desplazamiento del lienzo dentro de la pantalla (***gx_canvas_offset_set***).</span><span class="sxs-lookup"><span data-stu-id="9fa16-531">gx_canvas_show, gx_canvas_hide), canvas alpha blending (i.e. ***gx_canvas_alpha_set***) and canvas offset within the display (***gx_canvas_offset_set***).</span></span>

<span data-ttu-id="9fa16-532">En el caso de las arquitecturas distintas de la organización de búfer de un solo lienzo y un solo cuadro, el tamaño de un lienzo viene determinado por la aplicación y puede ser diferente del tamaño fijo de un búfer de cuadros.</span><span class="sxs-lookup"><span data-stu-id="9fa16-532">For architectures other than the simplest single canvas/single frame buffer organization, the size of a canvas is determined by the application and may be different than the fixed size of a frame buffer.</span></span>
<span data-ttu-id="9fa16-533">También puede estar en un desplazamiento seleccionado por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-533">It may also be at an offset selected by the application.</span></span> <span data-ttu-id="9fa16-534">Otra información, como el orden Z, se mantiene en el lienzo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-534">Other information, such as Z-order is maintained within the canvas.</span></span> <span data-ttu-id="9fa16-535">Una vez completado el dibujo del lienzo, el controlador de pantalla transfiere el contenido del lienzo a la pantalla física.</span><span class="sxs-lookup"><span data-stu-id="9fa16-535">When the canvas drawing is complete, the contents of the canvas are transferred to the physical display by the display driver.</span></span> <span data-ttu-id="9fa16-536">En algunos sistemas que no tienen suficiente memoria como para disponer de áreas de memoria independientes para el lienzo y el búfer de cuadros, la actualización del lienzo se realiza directamente en la pantalla física por medio del controlador de pantalla.</span><span class="sxs-lookup"><span data-stu-id="9fa16-536">In some systems that don’t have enough memory for a separate canvas and frame buffer memory areas, the canvas update is actually made directly to the physical display via the display driver.</span></span>

### <a name="canvas-creation"></a><span data-ttu-id="9fa16-537">Creación de lienzos</span><span class="sxs-lookup"><span data-stu-id="9fa16-537">Canvas Creation</span></span> 

<span data-ttu-id="9fa16-538">Un objeto de lienzo se puede crear durante la inicialización o en cualquier momento durante la ejecución de los subprocesos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-538">A canvas object can be created during initialization or anytime during the execution of application threads.</span></span> <span data-ttu-id="9fa16-539">No hay ningún límite en el número de objetos de lienzo que puede crear una aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-539">There is no limit on the number of canvas objects that can be created by an application.</span></span> <span data-ttu-id="9fa16-540">Sin embargo, la mayoría de las aplicaciones crearán uno solo para todo el dibujo de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-540">Most applications, however, will create only one canvas object for all GUIX drawing.</span></span>

### <a name="canvas-control-block"></a><span data-ttu-id="9fa16-541">Bloque de control del lienzo</span><span class="sxs-lookup"><span data-stu-id="9fa16-541">Canvas Control Block</span></span> 

<span data-ttu-id="9fa16-542">Las características de cada objeto de lienzo se encuentran en su bloque de control **GX_CANVAS** y se definen en **_gx_api. h_**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-542">The characteristics of each canvas object are found in its control block **GX_CANVAS** and is defined in **_gx_api.h_**.</span></span> <span data-ttu-id="9fa16-543">La aplicación proporciona la memoria necesaria para un objeto de lienzo, que se puede ubicar en cualquier parte de la memoria.</span><span class="sxs-lookup"><span data-stu-id="9fa16-543">The memory required for a canvas object is provided by the application and can be located anywhere in memory.</span></span> <span data-ttu-id="9fa16-544">Sin embargo, es más común que el bloque de control y el área de dibujo del objeto de lienzo se creen como una estructura global, mediante su definición fuera del ámbito de cualquier función.</span><span class="sxs-lookup"><span data-stu-id="9fa16-544">However, it is most common to make the canvas object control block and the drawing area a global structure by defining them outside the scope of any function.</span></span>

### <a name="canvas-alpha-channel"></a><span data-ttu-id="9fa16-545">Canal alfa del lienzo</span><span class="sxs-lookup"><span data-stu-id="9fa16-545">Canvas Alpha Channel</span></span>

<span data-ttu-id="9fa16-546">GUIX admite la combinación alfa de los colores de primer plano y de fondo en muchos niveles, incluido el canal alfa del mapa de bits (que especifica una relación de combinación por píxel), el valor alfa del pincel (que especifica la relación de combinación de un pincel de 16 bpp y profundidades de color superiores) y el valor alfa del lienzo (que especifica la relación de combinación de un lienzo superpuesto).</span><span class="sxs-lookup"><span data-stu-id="9fa16-546">GUIX supports alpha-blending of foreground and background colors on many levels, including bitmap alpha channel which specifies a blending ratio per pixel, brush alpha which specifies the blending ratio for a brush at 16 bpp and higher color depths, and canvas alpha which specifies the blending ratio for an overlay canvas.</span></span>

<span data-ttu-id="9fa16-547">El valor alfa de un lienzo se usa cuando varios lienzos se componen juntos para su presentación en el búfer de cuadros.</span><span class="sxs-lookup"><span data-stu-id="9fa16-547">The alpha value of a canvas is used when there are multiple canvases which are composited together for display within the frame buffer.</span></span> <span data-ttu-id="9fa16-548">Si el orden Z de los lienzos es tal que un lienzo está por encima de otros, se puede establecer el valor alfa de ese lienzo para combinarlo con los que se encuentran detrás.</span><span class="sxs-lookup"><span data-stu-id="9fa16-548">If the canvas Z-order is such that a canvas is above other canvases, then the canvas alpha value can be set to blend the canvas with those that lie behind.</span></span> <span data-ttu-id="9fa16-549">La modificación rápida del valor alfa de un lienzo se usa para proporcionar efectos de transición de fundido de entrada a la pantalla, pero este valor alfa del lienzo se puede usar de muchas maneras.</span><span class="sxs-lookup"><span data-stu-id="9fa16-549">Rapidly modifying the alpha value of a canvas is used to provide “fade in” screen transition effects, but the canvas alpha can be used in many ways.</span></span>

<span data-ttu-id="9fa16-550">Si un lienzo se enlaza a una capa gráfica de hardware mediante gx_canvas_hardware_layer_bind(), GUIX intentará implementar la combinación alfa del lienzo usando la compatibilidad de hardware, lo que minimiza la sobrecarga de software asociada a la combinación de un lienzo superpuesto.</span><span class="sxs-lookup"><span data-stu-id="9fa16-550">If a canvas is bound to a hardware graphics layer using gx_canvas_hardware_layer_bind(), GUIX will attempt to implement canvas alpha blending utilizing hardware support, minimizing the software overhead associated with blending an overlay canvas.</span></span>

<span data-ttu-id="9fa16-551">Los valores alfa van desde 0 hasta 255, donde un valor de 0 significa que el píxel es totalmente transparente y los valores mayores que 0 indican cada vez menor transparencia, que solo se admite en controladores de pantalla que se ejecutan a 16 bpp y valores superiores, a menos que se proporcione asistencia de hardware para la combinación de lienzos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-551">Alpha values range from 0 through 255, where a value of 0 means the pixel is fully transparent and values greater than 0 are increasing less transparent canvas alpha value can only be supported for screen drivers running at 16-bpp and higher unless hardware assistance for canvas blending is provided.</span></span>

### <a name="canvas-offset"></a><span data-ttu-id="9fa16-552">Desplazamiento del lienzo</span><span class="sxs-lookup"><span data-stu-id="9fa16-552">Canvas Offset</span></span> 

<span data-ttu-id="9fa16-553">Un lienzo se puede desplazar dentro del búfer de cuadros visible invocando el servicio de API ***gx_canvas_offset_set***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-553">A canvas can be offset within the visible frame buffer by invoking the ***gx_canvas_offset_set*** API service.</span></span> <span data-ttu-id="9fa16-554">Los desplazamientos de lienzo se suelen usar para implementar animaciones de sprites.</span><span class="sxs-lookup"><span data-stu-id="9fa16-554">Canvas offsets are usually used to implement sprite animations.</span></span> <span data-ttu-id="9fa16-555">Si un lienzo se enlaza a una capa gráfica de hardware mediante la invocación de la función de API ***gx_canvas_hardware_layer_bind***, GUIX intentará implementar los cambios de desplazamiento del lienzo mediante la compatibilidad de hardware, minimizando así la sobrecarga de software asociada al cambio de posición del lienzo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-555">If a canvas is bound to a hardware graphics layer by invoking the ***gx_canvas_hardware_layer_bind*** API function, GUIX will attempt to implement canvas offset changes utilizing hardware support, minimizing the software overhead associated with shifting the canvas position.</span></span>

### <a name="canvas-drawing"></a><span data-ttu-id="9fa16-556">Dibujo del lienzo</span><span class="sxs-lookup"><span data-stu-id="9fa16-556">Canvas Drawing</span></span> 

<span data-ttu-id="9fa16-557">El componente de lienzo de GUIX proporciona una API de dibujo completa a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-557">The GUIX canvas component provides a full drawing API to the application.</span></span> <span data-ttu-id="9fa16-558">Antes de que se puedan invocar las API de dibujo, como ***gx_canvas_line_draw*** o ***gx_canvas_pixelmap_draw***, se debe abrir el lienzo de destino donde se va a dibujar invocando la función de API ***gx_canvas_drawing_initiate***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-558">Before the drawing APIs such as ***gx_canvas_line_draw*** or ***gx_canvas_pixelmap_draw*** can be invoked, the target canvas must be opened for drawing by invoking the ***gx_canvas_drawing_initiate*** API function.</span></span> <span data-ttu-id="9fa16-559">Esta función prepara un lienzo para dibujar y crea un ***contexto de dibujo***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-559">This function prepares a canvas for drawing and creates a ***drawing context***.</span></span>

<span data-ttu-id="9fa16-560">Las API de dibujo que se representan en el lienzo, como ***gx_canvas_line_draw** _ o _*_gx_canvas_text_draw_\*_, usan los parámetros que se encuentran en el pincel del contexto del dibujo actual para definir el estilo de línea, el ancho y los colores.</span><span class="sxs-lookup"><span data-stu-id="9fa16-560">The drawing APIs that render to the canvas, such as ***gx_canvas_line_draw** _ or _*_gx_canvas_text_draw_\*_, use parameters found in the current drawing context brush to define the line style, width, and colors.</span></span> <span data-ttu-id="9fa16-561">Estos parámetros de pincel se modifican mediante una llamada a las funciones de API _*_gx_context_brush_define_*_, _\*_gx_context_brush_set_\*\*, \***gx_context_brush_style_set**_ y otras funciones de API similares una vez que se ha establecido un contexto de dibujo con una llamada a _\*_gx_canvas_drawing_initiate_\*\*.</span><span class="sxs-lookup"><span data-stu-id="9fa16-561">These brush parameters are modified by calling the _*_gx_context_brush_define_*_, _\*_gx_context_brush_set_\*\*, \***gx_context_brush_style_set**_, and similar API functions after a drawing context has been established by calling _\*_gx_canvas_drawing_initiate_\*\*.</span></span>

<span data-ttu-id="9fa16-562">Cuando GUIX invoca las funciones de dibujo de ventanas y widgets como parte de una operación de actualización de lienzo diferida, se abre el lienzo de destino para dibujar antes de llamar a las funciones de dibujo de widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-562">When GUIX invokes the window and widget drawing functions as part of a deferred canvas refresh operation, the target canvas is opened for drawing prior to calling the widget drawing function(s).</span></span> <span data-ttu-id="9fa16-563">Por lo tanto, las funciones de dibujo de widget estándar no necesitan abrir el lienzo de destino, ya se ha abierto antes.</span><span class="sxs-lookup"><span data-stu-id="9fa16-563">Therefore the standard widget drawing functions are not required to open the target canvas, this has been done for them.</span></span>

<span data-ttu-id="9fa16-564">En algunos casos, es posible que la aplicación desee forzar el dibujo inmediato en un lienzo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-564">In some cases the application may want to force immediate drawing to a canvas.</span></span> <span data-ttu-id="9fa16-565">En este caso, la aplicación puede realizar los pasos siguientes.</span><span class="sxs-lookup"><span data-stu-id="9fa16-565">In this case, the application can perform the following steps.</span></span>

1. <span data-ttu-id="9fa16-566">Llamar a la función de API ***gx_canvas_drawing_initiate***, pasando el lienzo de destino y el rectángulo dentro de ese lienzo en el que desea dibujar.</span><span class="sxs-lookup"><span data-stu-id="9fa16-566">Call the ***gx_canvas_drawing_initiate*** API function, passing in the target canvas and rectangle within that canvas on which the application wants to draw.</span></span> 

2. <span data-ttu-id="9fa16-567">Llamar a cualquier número de API de dibujo de lienzo para lograr el dibujo deseado.</span><span class="sxs-lookup"><span data-stu-id="9fa16-567">Call any number of canvas drawing APIs to accomplish the desired drawing.</span></span>

3. <span data-ttu-id="9fa16-568">Llamar a la función de API ***gx_canvas_drawing_complete*** para indicar que se ha completado el dibujo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-568">Call the ***gx_canvas_drawing_complete*** API function to signal that drawing has been completed.</span></span> <span data-ttu-id="9fa16-569">Esto vacía el lienzo en el búfer de cuadros visible o también desencadena una operación de alternancia de búfer, en función de la arquitectura de la memoria del sistema.</span><span class="sxs-lookup"><span data-stu-id="9fa16-569">This flushes the canvas to the visible frame buffer and/or triggers a buffer toggle operation, depending on the system memory architecture.</span></span>

### <a name="drawing-apis"></a><span data-ttu-id="9fa16-570">API de dibujo</span><span class="sxs-lookup"><span data-stu-id="9fa16-570">Drawing APIs</span></span> 

<span data-ttu-id="9fa16-571">Hay varias primitivas de dibujo principales que GUIX precisa para dibujar todos los elementos visuales de la pantalla.</span><span class="sxs-lookup"><span data-stu-id="9fa16-571">There are several principal drawing primitives that are required by GUIX to draw all the visual elements on the screen.</span></span> <span data-ttu-id="9fa16-572">El software de la aplicación también puede invocar estas API de dibujo, normalmente como parte de una función de dibujo de widget personalizada.</span><span class="sxs-lookup"><span data-stu-id="9fa16-572">These drawing APIs can also be invoked by application software, usually as part of a custom widget drawing function.</span></span> <span data-ttu-id="9fa16-573">Estas API de dibujo en el lienzo de GUIX realizan la validación de parámetros y el recorte y, a continuación, pasan las coordenadas del dibujo recortado al controlador de pantalla para las implementaciones de dibujo específicas del hardware y del formato de color.</span><span class="sxs-lookup"><span data-stu-id="9fa16-573">These GUIX canvas drawing APIs perform parameter validation and clipping, and then pass the clipped drawing coordinates down to the display driver for hardware and color-format specific drawing implementations.</span></span> <span data-ttu-id="9fa16-574">Estas funciones de API de dibujo se definen como se indica a continuación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-574">These drawing API functions are defined as follows.</span></span>

- <span data-ttu-id="9fa16-575">gx_canvas_alpha_set</span><span class="sxs-lookup"><span data-stu-id="9fa16-575">gx_canvas_alpha_set</span></span>
- <span data-ttu-id="9fa16-576">gx_canvas_arc_draw</span><span class="sxs-lookup"><span data-stu-id="9fa16-576">gx_canvas_arc_draw</span></span>
- <span data-ttu-id="9fa16-577">gx_canvas_block_move</span><span class="sxs-lookup"><span data-stu-id="9fa16-577">gx_canvas_block_move</span></span>
- <span data-ttu-id="9fa16-578">gx_canvas_circle_draw</span><span class="sxs-lookup"><span data-stu-id="9fa16-578">gx_canvas_circle_draw</span></span>
- <span data-ttu-id="9fa16-579">gx_canvas_ellipse_draw</span><span class="sxs-lookup"><span data-stu-id="9fa16-579">gx_canvas_ellipse_draw</span></span>
- <span data-ttu-id="9fa16-580">gx_canvas_glyphs_draw</span><span class="sxs-lookup"><span data-stu-id="9fa16-580">gx_canvas_glyphs_draw</span></span>
- <span data-ttu-id="9fa16-581">gx_canvas_hardware_layer_bind</span><span class="sxs-lookup"><span data-stu-id="9fa16-581">gx_canvas_hardware_layer_bind</span></span>
- <span data-ttu-id="9fa16-582">gx_canvas_hide</span><span class="sxs-lookup"><span data-stu-id="9fa16-582">gx_canvas_hide</span></span>
- <span data-ttu-id="9fa16-583">gx_canvas_line_draw</span><span class="sxs-lookup"><span data-stu-id="9fa16-583">gx_canvas_line_draw</span></span>
- <span data-ttu-id="9fa16-584">gx_canvas_offset_set</span><span class="sxs-lookup"><span data-stu-id="9fa16-584">gx_canvas_offset_set</span></span>
- <span data-ttu-id="9fa16-585">gx_canvas_pie_draw</span><span class="sxs-lookup"><span data-stu-id="9fa16-585">gx_canvas_pie_draw</span></span>
- <span data-ttu-id="9fa16-586">gx_canvas_pixel_draw</span><span class="sxs-lookup"><span data-stu-id="9fa16-586">gx_canvas_pixel_draw</span></span>
- <span data-ttu-id="9fa16-587">gx_canvas_pixelmap_blend</span><span class="sxs-lookup"><span data-stu-id="9fa16-587">gx_canvas_pixelmap_blend</span></span>
- <span data-ttu-id="9fa16-588">gx_canvas_pixelmap_rotate</span><span class="sxs-lookup"><span data-stu-id="9fa16-588">gx_canvas_pixelmap_rotate</span></span>
- <span data-ttu-id="9fa16-589">gx_canvas_pixelmap_tile</span><span class="sxs-lookup"><span data-stu-id="9fa16-589">gx_canvas_pixelmap_tile</span></span>
- <span data-ttu-id="9fa16-590">gx_canvas_polygon_draw</span><span class="sxs-lookup"><span data-stu-id="9fa16-590">gx_canvas_polygon_draw</span></span>
- <span data-ttu-id="9fa16-591">gx_canvas_rectangle_draw</span><span class="sxs-lookup"><span data-stu-id="9fa16-591">gx_canvas_rectangle_draw</span></span>
- <span data-ttu-id="9fa16-592">gx_canvas_rotated_text_draw</span><span class="sxs-lookup"><span data-stu-id="9fa16-592">gx_canvas_rotated_text_draw</span></span>
- <span data-ttu-id="9fa16-593">gx_canvas_shift</span><span class="sxs-lookup"><span data-stu-id="9fa16-593">gx_canvas_shift</span></span>
- <span data-ttu-id="9fa16-594">gx_canvas_show</span><span class="sxs-lookup"><span data-stu-id="9fa16-594">gx_canvas_show</span></span>
- <span data-ttu-id="9fa16-595">gx_canvas_text_draw</span><span class="sxs-lookup"><span data-stu-id="9fa16-595">gx_canvas_text_draw</span></span>

<span data-ttu-id="9fa16-596">La API de dibujo se invoca por medio de la API de lienzo de GUIX y todo el dibujo se realiza mediante funciones de API gx_canvas_\*.</span><span class="sxs-lookup"><span data-stu-id="9fa16-596">The drawing API is invoked via the GUIX Canvas API, and all drawing is done using gx_canvas_\* API functions.</span></span> <span data-ttu-id="9fa16-597">El dibujo se realiza utilizando el pincel actual en el contexto del dibujo actual.</span><span class="sxs-lookup"><span data-stu-id="9fa16-597">Drawing is done using the current brush in the current drawing context.</span></span> <span data-ttu-id="9fa16-598">Cualquiera de las funciones anteriores de dibujo de formas puede crear un contorno, rellenar con color sólido o rellenar con un mapa de píxeles, según se defina en el pincel actual.</span><span class="sxs-lookup"><span data-stu-id="9fa16-598">Any of the shape drawing functions above can be outlined, solid color filled, or pixelmap filled as defined by the current brush.</span></span> <span data-ttu-id="9fa16-599">Para modificar el ancho, el color o el relleno del contorno de la forma, se usan las funciones de API gx_context_brush_\* para definir el pincel en el contexto del dibujo actual.</span><span class="sxs-lookup"><span data-stu-id="9fa16-599">To modify the shape outline width, color, or fill, use the gx_context_brush_\* API functions to define the brush within the current drawing context.</span></span>

<span data-ttu-id="9fa16-600">Las API de dibujo del nivel de aplicación anteriores no realizan el dibujo real en el lienzo, sino que comprueban los parámetros del autor de la llamada antes de invocar la función de dibujo del nivel de controlador de pantalla.</span><span class="sxs-lookup"><span data-stu-id="9fa16-600">The above application level drawing APIs don’t do actual drawing to the canvas, but instead verify the caller’s parameters before invoking the display driver level drawing function.</span></span> <span data-ttu-id="9fa16-601">La función de dibujo del nivel de controlador es la que realmente escribe los datos de píxeles en la memoria del lienzo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-601">The driver level drawing function actually writes pixel data into the canvas memory.</span></span>

<span data-ttu-id="9fa16-602">GUIX proporciona funciones de dibujo de controlador de pantalla genéricas o estándar para varias profundidades de color, como 1, 2, 4, 8, 16, 24 y 32 bits por píxel (bpp).</span><span class="sxs-lookup"><span data-stu-id="9fa16-602">GUIX provides stock or generic display driver drawing functions for various color depths, including 1, 2, 4, 8, 16, 24, and 32 bits per pixel (bpp).</span></span> <span data-ttu-id="9fa16-603">En algunos casos, la implementación de dibujo de software predeterminada se sustituye por implementaciones aceleradas por hardware para los destinos de hardware que proporcionan un acelerador de dibujo 2D.</span><span class="sxs-lookup"><span data-stu-id="9fa16-603">In some cases, the default software drawing implementation is replaced by hardware-accelerated implementations for those hardware targets that provide a 2D drawing accelerator.</span></span>

### <a name="color-depth"></a><span data-ttu-id="9fa16-604">Profundidad de color</span><span class="sxs-lookup"><span data-stu-id="9fa16-604">Color Depth</span></span> 

<span data-ttu-id="9fa16-605">GUIX admite profundidades de color de hasta 32 bpp, así como la opción monocroma y la escala de grises.</span><span class="sxs-lookup"><span data-stu-id="9fa16-605">GUIX supports color depths up to 32-bpp as well as monochrome and grayscale.</span></span> <span data-ttu-id="9fa16-606">La compatibilidad del tipo de profundidad de color viene determinada en gran medida por la funcionalidad de la pantalla física subyacente y también afecta a la cantidad de memoria necesaria para el área de dibujo del lienzo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-606">The type of color depth support largely determined by the capabilities of the underlying physical display and also has an impact on how much memory is required for the canvas drawing area.</span></span> <span data-ttu-id="9fa16-607">A continuación se muestra una lista de profundidades de color compatibles junto con una breve descripción de las variaciones dentro de esa profundidad de color.</span><span class="sxs-lookup"><span data-stu-id="9fa16-607">The following is a list of color depth support along with a brief description of the variations within that color depth.</span></span>

| <span data-ttu-id="9fa16-608">Formato de&nbsp;color</span><span class="sxs-lookup"><span data-stu-id="9fa16-608">Color&nbsp;Format</span></span>       | <span data-ttu-id="9fa16-609">Descripción</span><span class="sxs-lookup"><span data-stu-id="9fa16-609">Description</span></span>                                                                                                   |
| ------------------ | -------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="9fa16-610">Monocromo de 1 bit</span><span class="sxs-lookup"><span data-stu-id="9fa16-610">1-bit monochrome</span></span>   | <span data-ttu-id="9fa16-611">Formato empaquetado de 1 bit por píxel.</span><span class="sxs-lookup"><span data-stu-id="9fa16-611">1-bit per pixel packed format.</span></span>                                                                                                   |
| <span data-ttu-id="9fa16-612">Escala de grises de 2 bits</span><span class="sxs-lookup"><span data-stu-id="9fa16-612">2-bit grayscale</span></span>    | <span data-ttu-id="9fa16-613">4 niveles de gris, formato empaquetado de cuatro píxeles por byte.</span><span class="sxs-lookup"><span data-stu-id="9fa16-613">4 gray levels, packed four pixels per byte.</span></span>                                                                                      |
| <span data-ttu-id="9fa16-614">Escala de grises de 4 bits</span><span class="sxs-lookup"><span data-stu-id="9fa16-614">4-bit grayscale</span></span>    | <span data-ttu-id="9fa16-615">16 niveles de gris, formato empaquetado de dos píxeles por byte.</span><span class="sxs-lookup"><span data-stu-id="9fa16-615">16 gray levels, packed two pixels per byte.</span></span>                                                                                      |
| <span data-ttu-id="9fa16-616">Color de 4 bits</span><span class="sxs-lookup"><span data-stu-id="9fa16-616">4-bit color</span></span>        | <span data-ttu-id="9fa16-617">Una organización de memoria plana de formato VGA.</span><span class="sxs-lookup"><span data-stu-id="9fa16-617">A VGA format planar memory organization.</span></span>                                                                                         |
| <span data-ttu-id="9fa16-618">Escala de grises de 8 bits</span><span class="sxs-lookup"><span data-stu-id="9fa16-618">8-bit grayscale</span></span>    | <span data-ttu-id="9fa16-619">256 niveles de gris</span><span class="sxs-lookup"><span data-stu-id="9fa16-619">256 gray levels</span></span>                                                                                                                  |
| <span data-ttu-id="9fa16-620">Modo de paleta de 8 bits</span><span class="sxs-lookup"><span data-stu-id="9fa16-620">8-bit palette mode</span></span> | <span data-ttu-id="9fa16-621">1 byte por píxel usado como índice de paleta</span><span class="sxs-lookup"><span data-stu-id="9fa16-621">1 byte per pixel used as palette index</span></span>                                                                                           |
| <span data-ttu-id="9fa16-622">Modo r:g:b de 8 bits</span><span class="sxs-lookup"><span data-stu-id="9fa16-622">8-bit r:g:b mode</span></span>   | <span data-ttu-id="9fa16-623">Un formato r:g:b 2:3:2 que se utiliza con menos frecuencia.</span><span class="sxs-lookup"><span data-stu-id="9fa16-623">A less commonly used 2:3:2 r:g:b format.</span></span>                                                                                         |
| <span data-ttu-id="9fa16-624">16 bits</span><span class="sxs-lookup"><span data-stu-id="9fa16-624">16-bit</span></span>             | <span data-ttu-id="9fa16-625">Cada píxel requiere dos bytes.</span><span class="sxs-lookup"><span data-stu-id="9fa16-625">Each pixel requires two bytes.</span></span> <span data-ttu-id="9fa16-626">El orden de bytes puede ser r:g: b o b:g:r.</span><span class="sxs-lookup"><span data-stu-id="9fa16-626">Can be r:g:b or b:g:r byte order.</span></span> <span data-ttu-id="9fa16-627">Normalmente usa una estructura 5:6:5, pero también puede ser 5:5:5 o a:r:g:b 4:4:4:4.</span><span class="sxs-lookup"><span data-stu-id="9fa16-627">Normally 5:6:5 structure, but can also be 5:5:5 structure or 4:4:4:4 a:r:g:b structure.</span></span> |
| <span data-ttu-id="9fa16-628">24 bits</span><span class="sxs-lookup"><span data-stu-id="9fa16-628">24-bit</span></span>             | <span data-ttu-id="9fa16-629">Cada píxel requiere 3 bytes (formato empaquetado) o 4 (formato no empaquetado).</span><span class="sxs-lookup"><span data-stu-id="9fa16-629">Each pixel requires 3 (packed format) or 4 (unpacked format) bytes.</span></span> <span data-ttu-id="9fa16-630">Puede usar un orden de bytes r:g:b o b:g:r, según precise el hardware.</span><span class="sxs-lookup"><span data-stu-id="9fa16-630">Can be in r:g:b or b:g:r byte order as required by hardware.</span></span> |
| <span data-ttu-id="9fa16-631">32 bits</span><span class="sxs-lookup"><span data-stu-id="9fa16-631">32-bit</span></span>             | <span data-ttu-id="9fa16-632">Cada píxel requiere 4 bytes con un canal alfa.</span><span class="sxs-lookup"><span data-stu-id="9fa16-632">Each pixel requires 4 bytes with an alpha channel.</span></span> <span data-ttu-id="9fa16-633">Puede usar un orden de bytes a:r:g:b o b:g:r:a, según determine el hardware.</span><span class="sxs-lookup"><span data-stu-id="9fa16-633">Can be a:r:g:b or b:g:r:a byte order and determined by hardware.</span></span>              |

### <a name="mouse-support"></a><span data-ttu-id="9fa16-634">Compatibilidad con el mouse</span><span class="sxs-lookup"><span data-stu-id="9fa16-634">Mouse Support</span></span> 

<span data-ttu-id="9fa16-635">GUIX admite el dibujo de un cursor del mouse en cualquier lienzo que se desee.</span><span class="sxs-lookup"><span data-stu-id="9fa16-635">GUIX supports drawing a mouse cursor on any desired canvas.</span></span> <span data-ttu-id="9fa16-636">El cursor del mouse puede dibujarse en el software o ser compatible con la superposición de cursor de hardware.</span><span class="sxs-lookup"><span data-stu-id="9fa16-636">The mouse cursor can be drawing in software or might be supported by hardware cursor overlay.</span></span> <span data-ttu-id="9fa16-637">En cualquier caso, la API que se proporciona a la aplicación y que está relacionada con la compatibilidad con el cursor del mouse es la misma tanto si se usa el dibujo del cursor del mouse de software o hardware.</span><span class="sxs-lookup"><span data-stu-id="9fa16-637">In either case, the API provided to the application related to mouse cursor support is the same whether using software or hardware mouse cursor drawing.</span></span>

<span data-ttu-id="9fa16-638">La compatibilidad con el mouse de GUIX solo está habilitada si se define `#define GX_MOUSE_SUPPORT` en el archivo de encabezado gx_user.h antes de compilar la biblioteca de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-638">GUIX mouse support is only enabled if the `#define GX_MOUSE_SUPPORT` is defined in the gx_user.h header file before building the GUIX library.</span></span>

<span data-ttu-id="9fa16-639">La aplicación debe definir el cursor del mouse y la zona activa mediante la función de API ***gx_canvas_mouse_define***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-639">The application must define the mouse cursor and hotspot using the ***gx_canvas_mouse_define*** API function.</span></span> <span data-ttu-id="9fa16-640">Esta API acepta un puntero al lienzo en el que se debe dibujar la imagen del cursor y un puntero a una estructura **GX_MOUSE_CURSOR_INFO**, que define la imagen del cursor del mouse y la zona activa de la imagen del mouse respecto a la esquina superior izquierda de la imagen.</span><span class="sxs-lookup"><span data-stu-id="9fa16-640">This API accepts a pointer to the canvas on which the cursor image should be drawn, and a pointer to a **GX_MOUSE_CURSOR_INFO** structure, which defines the mouse cursor image and hotspot of the mouse image relative the image top-left corner.</span></span>

## <a name="guix-display-component"></a><span data-ttu-id="9fa16-641">Componente de pantalla de GUIX</span><span class="sxs-lookup"><span data-stu-id="9fa16-641">GUIX Display Component</span></span> 

<span data-ttu-id="9fa16-642">El componente de pantalla es fundamental en GUIX, ya que administra el procesamiento de todos los objetos de pantalla, que en sí contienen uno o varios lienzos, widgets y ventanas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-642">The display component is fundamental in GUIX, since it manages the processing of all display objects, which in themselves contain one or more canvases, widgets, and windows.</span></span> <span data-ttu-id="9fa16-643">El componente de pantalla también interactúa con el controlador de pantalla de hardware subyacente asociado a cada pantalla por medio de una serie de punteros de función.</span><span class="sxs-lookup"><span data-stu-id="9fa16-643">The display component also interacts with the underlying hardware screen driver associated with each display through a series of function pointers.</span></span>

### <a name="display-creation"></a><span data-ttu-id="9fa16-644">Creación de la pantalla</span><span class="sxs-lookup"><span data-stu-id="9fa16-644">Display Creation</span></span> 

<span data-ttu-id="9fa16-645">El objeto de pantalla se puede crear durante la inicialización o en cualquier momento durante la ejecución de los subprocesos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-645">A display object can be created during initialization or anytime during the execution of application threads.</span></span> <span data-ttu-id="9fa16-646">Normalmente, una aplicación crea un objeto de pantalla para administrar cada pantalla física.</span><span class="sxs-lookup"><span data-stu-id="9fa16-646">Typically an application creates one display object to manage each physical screen.</span></span> <span data-ttu-id="9fa16-647">Si ha usado GUIX Studio para definir la aplicación y las pantallas físicas disponibles, usará la función API gx_studio_display_configure para crear e inicializar cada una de las pantallas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-647">If you have used GUIX Studio to define your application and the physical displays available, you will use the gx_studio_display_configure API function to create and initialize each of your displays.</span></span>

### <a name="display-control-block"></a><span data-ttu-id="9fa16-648">Bloque de control de la pantalla</span><span class="sxs-lookup"><span data-stu-id="9fa16-648">Display Control Block</span></span> 

<span data-ttu-id="9fa16-649">Las características de cada objeto de pantalla se encuentran en su bloque de control ***GX_DISPLAY** _ y se definen en _*_gx_api.h_\*\*.</span><span class="sxs-lookup"><span data-stu-id="9fa16-649">The characteristics of each display object are found in its control block ***GX_DISPLAY** _ and are defined in _*_gx_api.h_\*\*.</span></span> <span data-ttu-id="9fa16-650">La aplicación proporciona la memoria necesaria para un objeto de pantalla, que se puede ubicar en cualquier parte de la memoria.</span><span class="sxs-lookup"><span data-stu-id="9fa16-650">The memory required for a display object is provided by the application and can be located anywhere in memory.</span></span> <span data-ttu-id="9fa16-651">Sin embargo, es más habitual que el bloque de control de la pantalla forme una estructura global mediante su definición fuera del ámbito de cualquier función.</span><span class="sxs-lookup"><span data-stu-id="9fa16-651">However, it is most common to make the display control block a global structure by defining it outside the scope of any function.</span></span>

### <a name="resource-management"></a><span data-ttu-id="9fa16-652">Administración de recursos</span><span class="sxs-lookup"><span data-stu-id="9fa16-652">Resource Management</span></span> 

<span data-ttu-id="9fa16-653">Los recursos son componentes de interfaz de usuario que la aplicación necesita, pero no son código de aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-653">Resources are UI components that are needed by the application, but they are not application code.</span></span> <span data-ttu-id="9fa16-654">Los recursos son datos de la aplicación y normalmente se definen de forma estática.</span><span class="sxs-lookup"><span data-stu-id="9fa16-654">Resources are application data and are usually statically defined.</span></span> <span data-ttu-id="9fa16-655">Entre los tipos de recursos se incluyen mapas de píxeles, fuentes, colores y cadenas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-655">Resource types include pixelmaps, fonts, colors, and strings.</span></span> <span data-ttu-id="9fa16-656">Estos recursos se pueden cambiar en cualquier momento, normalmente sin cambiar el software de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-656">These resources can be changed at any time, usually without changing any application software.</span></span> <span data-ttu-id="9fa16-657">Es importante mantener el almacenamiento de los recursos y las referencias a ellos separados del software de la aplicación para permitir el cambio de la apariencia de la interfaz de usuario sin necesidad de cambiar el código de la aplicación, ya que los cambios en el software de la aplicación suelen requerir los procedimientos de prueba y comprobación asociados.</span><span class="sxs-lookup"><span data-stu-id="9fa16-657">It is important to keep the storage of and references to resources separated from the application software to allow changing UI appearance without changing application code since changes to the application software usually require the associated re-testing and verification of that software.</span></span>

<span data-ttu-id="9fa16-658">El módulo de ***pantalla*** de GUIX proporciona funciones de administración para todos los recursos que dependen de la profundidad de color y el formato de la pantalla.</span><span class="sxs-lookup"><span data-stu-id="9fa16-658">The GUIX ***display*** module provides resource management facilities for all resources that are dependent on the color depth and format of the display.</span></span> <span data-ttu-id="9fa16-659">Estas funciones incluyen el mantenimiento de las tablas activas de mapas de píxeles, fuentes y colores.</span><span class="sxs-lookup"><span data-stu-id="9fa16-659">These facilities include maintaining the active pixelmap table, active font table, and active color table.</span></span> <span data-ttu-id="9fa16-660">El recurso de la tabla de cadenas se mantiene en el módulo del sistema de GUIX, ya que normalmente no es necesario cambiar los recursos de cadena en función del formato y la profundidad de color.</span><span class="sxs-lookup"><span data-stu-id="9fa16-660">The string table resource is maintained by the GUIX system module, since string resources do not normally need to be changed based on color depth and format.</span></span>

<span data-ttu-id="9fa16-661">El software de la aplicación hace referencia a los recursos por su identificador, que es un índice en la tabla de recursos correspondiente.</span><span class="sxs-lookup"><span data-stu-id="9fa16-661">The application software references resources by their resource Id, which is an index into the corresponding resource table.</span></span> <span data-ttu-id="9fa16-662">Esto permite cambiar la tabla; por ejemplo, podría cambiarse la tabla de colores cuando un producto cambia de "modo diurno" a "modo nocturno" y los valores del identificador de color seguirían siendo los mismos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-662">This allows the table to be changed, for example the color table might be changed when a product changes from “day mode” to “night mode”, but the color ID values to remain the same.</span></span>

<span data-ttu-id="9fa16-663">Los recursos de la aplicación se escriben en un archivo de recursos (o un conjunto de archivos de recursos) mediante la aplicación GUIX Studio.</span><span class="sxs-lookup"><span data-stu-id="9fa16-663">Your application resources are written to a resource file (or set of resource files) by the GUIX Studio application.</span></span> <span data-ttu-id="9fa16-664">Las fuentes, los mapas de píxeles y los colores predeterminados se proporcionan automáticamente cuando se crea un nuevo proyecto de GUIX Studio, pero estos valores predeterminados se reemplazan fácilmente a medida que se define la apariencia de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-664">Default colors, pixelmaps, and fonts are provided automatically when you create a new GUIX Studio project, but these defaults are easily replaced as you define the look and feel of your application.</span></span>

<span data-ttu-id="9fa16-665">Es importante tener en cuenta que los identificadores de recursos de los colores, fuentes y mapas de píxeles no se pueden resolver en sus valores de color, fuente o mapa de píxeles reales hasta que se conozca el componente de pantalla activo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-665">It is important to note that Resource IDs for colors, fonts, and pixelmaps cannot be resolved to their actual color, font, or pixelmap values until the active Display component is known.</span></span> <span data-ttu-id="9fa16-666">Dado que la arquitectura de GUIX admite varias pantallas activas, los identificadores de recursos solo se pueden resolver en sus valores de recurso cuando un widget y su identificador de recurso asociado se pueden resolver en una pantalla específica.</span><span class="sxs-lookup"><span data-stu-id="9fa16-666">Since the GUIX architecture supports multiple active displays, Resource IDs can only be resolved to resource values when a widget and its associated Resource ID can be resolved to a specific display.</span></span> <span data-ttu-id="9fa16-667">Esta propiedad se conoce como enlace dinámico.</span><span class="sxs-lookup"><span data-stu-id="9fa16-667">This property is known as dynamic binding.</span></span> <span data-ttu-id="9fa16-668">El identificador de recurso de una propiedad como el color de texto (por ejemplo, el identificador de recurso de **GX_COLOR_ID_TEXT**) podría resolverse en un valor R:G:B de 16 bits para blanco cuando se usa en una pantalla, pero resolverse en un valor de color negro monocromo cuando se usa en otra pantalla.</span><span class="sxs-lookup"><span data-stu-id="9fa16-668">The Resource ID for a property such as a text color, for example the resource ID **GX_COLOR_ID_TEXT,** might resolve to a 16-bit R:G:B value for white when used on one display, but the same color ID might resolve to a monochrome black color value when used on another display.</span></span>

<span data-ttu-id="9fa16-669">En la práctica, este enlace dinámico de los identificadores de recursos con sus valores significa que los componentes internos de GUIX y del software de la aplicación solo deberían resolver los identificadores de recursos en los valores de recurso dentro de un contexto de dibujo activo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-669">In practice this dynamic binding of Resources IDs to resource values means that application software and GUIX internal components should most often only resolve Resource IDs to resource values within an active drawing context.</span></span> <span data-ttu-id="9fa16-670">El contexto de dibujo activo especifica la pantalla activa actualmente, lo que permite a GUIX resolver cada identificador de recurso en un valor de recurso específico.</span><span class="sxs-lookup"><span data-stu-id="9fa16-670">An active drawing context specifies the currently active display, which allows GUIX to resolve each Resource ID to a specific resource value.</span></span> <span data-ttu-id="9fa16-671">Si se precisa el software de la aplicación para encontrar un valor de recurso específico fuera de un contexto de dibujo, lo mismo puede suceder con los widgets visibles.</span><span class="sxs-lookup"><span data-stu-id="9fa16-671">If the application software is required to find a specific resource value outside of a drawing context, this can also be done for visible widgets.</span></span> <span data-ttu-id="9fa16-672">Los widgets visibles se vinculan a una ventana raíz que también se puede usar para resolver el lienzo activo y la pantalla para ese widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-672">Visible widgets are linked to a root window which can also be used to resolve the active canvas and display for that widget.</span></span>

<span data-ttu-id="9fa16-673">Si se ha creado un widget pero aún no se ha mostrado (es decir, no se ha vinculado a ninguna ventana raíz u otro elemento principal visible), los identificadores de recurso asociados a ese widget solo se pueden resolver en un valor de recurso específico mediante la indexación directa en la tabla de recursos asignada a una pantalla específica.</span><span class="sxs-lookup"><span data-stu-id="9fa16-673">If a widget has been created but not yet displayed (i.e., has not been linked to any root window or other visible parent), any resource IDs associated with that widget cannot be resolved to a specific resource value other than by directly indexing into the resource table assigned to a specific display.</span></span> <span data-ttu-id="9fa16-674">Este acceso directo a una tabla de recursos específica puede realizarse de forma segura mediante el software de la aplicación, pero nunca se realiza en el software interno de la biblioteca de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-674">This direct access to a specific resource table can safely be done by the application software, but is never done in the internal GUIX library software.</span></span>

### <a name="widget-defaults"></a><span data-ttu-id="9fa16-675">Valores predeterminados de widget</span><span class="sxs-lookup"><span data-stu-id="9fa16-675">Widget Defaults</span></span> 

<span data-ttu-id="9fa16-676">El componente de pantalla de GUIX también proporciona definiciones predeterminadas para varios atributos de widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-676">The GUIX display component also provides default definitions for various widget attributes.</span></span> <span data-ttu-id="9fa16-677">A menos que la aplicación especifique lo contrario, los widgets y ventanas se crean con estos atributos del sistema.</span><span class="sxs-lookup"><span data-stu-id="9fa16-677">Unless otherwise specified by the application, widgets/windows are created with these system attributes.</span></span> <span data-ttu-id="9fa16-678">Se componen principalmente de fuentes, colores y mapas de bits que se mantienen en las tablas de recursos del sistema.</span><span class="sxs-lookup"><span data-stu-id="9fa16-678">These system attributes are mainly composed of fonts, colors, and bitmaps maintained in the system resource tables.</span></span> <span data-ttu-id="9fa16-679">El componente de pantalla de GUIX también mantiene atributos adicionales para la apariencia predeterminada de la barra de desplazamiento.</span><span class="sxs-lookup"><span data-stu-id="9fa16-679">Additional attributes for default scrollbar appearance are also maintained by the GUIX display component.</span></span>

<span data-ttu-id="9fa16-680">La configuración de color predeterminada se define mediante la tabla de colores asignada a cada pantalla y los identificadores de color predeterminados predefinidos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-680">The default color settings are defined by the color table assigned to each display and the pre-defined default color IDs.</span></span> <span data-ttu-id="9fa16-681">Estos identificadores de colores predeterminados incluyen los siguientes.</span><span class="sxs-lookup"><span data-stu-id="9fa16-681">These default color ids include the following.</span></span>

| <span data-ttu-id="9fa16-682">Identificador de color</span><span class="sxs-lookup"><span data-stu-id="9fa16-682">Color ID</span></span> | <span data-ttu-id="9fa16-683">Descripción</span><span class="sxs-lookup"><span data-stu-id="9fa16-683">Description</span></span> |
| ------------------ | -------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="9fa16-684">GX_COLOR_ID_CANVAS</span><span class="sxs-lookup"><span data-stu-id="9fa16-684">GX_COLOR_ID_CANVAS</span></span> | <span data-ttu-id="9fa16-685">Color predeterminado del lienzo (es decir, fondo de la pantalla)</span><span class="sxs-lookup"><span data-stu-id="9fa16-685">Default canvas (i.e. display background) color</span></span> |
| <span data-ttu-id="9fa16-686">GX_COLOR_ID_WIDGET_FILL</span><span class="sxs-lookup"><span data-stu-id="9fa16-686">GX_COLOR_ID_WIDGET_FILL</span></span> | <span data-ttu-id="9fa16-687">Color predeterminado de relleno del widget</span><span class="sxs-lookup"><span data-stu-id="9fa16-687">Default widget fill color</span></span> |
| <span data-ttu-id="9fa16-688">GX_COLOR_ID_WINDOW_FILL</span><span class="sxs-lookup"><span data-stu-id="9fa16-688">GX_COLOR_ID_WINDOW_FILL</span></span> | <span data-ttu-id="9fa16-689">Color predeterminado de relleno de la ventana</span><span class="sxs-lookup"><span data-stu-id="9fa16-689">Default window fill color</span></span> |
| <span data-ttu-id="9fa16-690">GX_COLOR_ID_DISABLED_FILL</span><span class="sxs-lookup"><span data-stu-id="9fa16-690">GX_COLOR_ID_DISABLED_FILL</span></span> | <span data-ttu-id="9fa16-691">Color predeterminado de relleno del widget deshabilitado</span><span class="sxs-lookup"><span data-stu-id="9fa16-691">Default disabled widget fill color</span></span> |
| <span data-ttu-id="9fa16-692">GX_COLOR_ID_DEFAULT_BORDER</span><span class="sxs-lookup"><span data-stu-id="9fa16-692">GX_COLOR_ID_DEFAULT_BORDER</span></span> | <span data-ttu-id="9fa16-693">Color predeterminado de borde del widget</span><span class="sxs-lookup"><span data-stu-id="9fa16-693">Default widget border color</span></span> |
| <span data-ttu-id="9fa16-694">GX_COLOR_ID_WINDOW_BORDER</span><span class="sxs-lookup"><span data-stu-id="9fa16-694">GX_COLOR_ID_WINDOW_BORDER</span></span> | <span data-ttu-id="9fa16-695">Color predeterminado de borde de la ventana</span><span class="sxs-lookup"><span data-stu-id="9fa16-695">Default window border color</span></span> |
| <span data-ttu-id="9fa16-696">GX_COLOR_ID_TEXT</span><span class="sxs-lookup"><span data-stu-id="9fa16-696">GX_COLOR_ID_TEXT</span></span> | <span data-ttu-id="9fa16-697">Color predeterminado del texto</span><span class="sxs-lookup"><span data-stu-id="9fa16-697">Default text color</span></span> |
| <span data-ttu-id="9fa16-698">GX_COLOR_ID_SELECTED_TEXT</span><span class="sxs-lookup"><span data-stu-id="9fa16-698">GX_COLOR_ID_SELECTED_TEXT</span></span> | <span data-ttu-id="9fa16-699">Color predeterminado del texto seleccionado</span><span class="sxs-lookup"><span data-stu-id="9fa16-699">Default selected text color</span></span> |
| <span data-ttu-id="9fa16-700">GX_COLOR_ID_DISABLED_TEXT</span><span class="sxs-lookup"><span data-stu-id="9fa16-700">GX_COLOR_ID_DISABLED_TEXT</span></span> | <span data-ttu-id="9fa16-701">Color predeterminado del texto deshabilitado</span><span class="sxs-lookup"><span data-stu-id="9fa16-701">Default disabled text color</span></span> |
| <span data-ttu-id="9fa16-702">GX_COLOR_ID_SELECTED_TEXT_FILL</span><span class="sxs-lookup"><span data-stu-id="9fa16-702">GX_COLOR_ID_SELECTED_TEXT_FILL</span></span> | <span data-ttu-id="9fa16-703">Color predeterminado de relleno del texto seleccionado</span><span class="sxs-lookup"><span data-stu-id="9fa16-703">Default selected text fill color</span></span> |
| <span data-ttu-id="9fa16-704">GX_COLOR_ID_READONLY_TEXT</span><span class="sxs-lookup"><span data-stu-id="9fa16-704">GX_COLOR_ID_READONLY_TEXT</span></span> | <span data-ttu-id="9fa16-705">Color predeterminado del texto de solo lectura</span><span class="sxs-lookup"><span data-stu-id="9fa16-705">Default readonly text color</span></span> |
| <span data-ttu-id="9fa16-706">GX_COLOR_ID_READONLY_FILL</span><span class="sxs-lookup"><span data-stu-id="9fa16-706">GX_COLOR_ID_READONLY_FILL</span></span> | <span data-ttu-id="9fa16-707">Color predeterminado de relleno del texto de solo lectura</span><span class="sxs-lookup"><span data-stu-id="9fa16-707">Default readonly text fill color</span></span> |
| <span data-ttu-id="9fa16-708">GX_COLOR_ID_SCROLL_FILL</span><span class="sxs-lookup"><span data-stu-id="9fa16-708">GX_COLOR_ID_SCROLL_FILL</span></span> |    <span data-ttu-id="9fa16-709">Color de relleno de la barra de desplazamiento</span><span class="sxs-lookup"><span data-stu-id="9fa16-709">Scrollbar fill color</span></span> |
| <span data-ttu-id="9fa16-710">GX_COLOR_ID_SCROLL_BUTTON</span><span class="sxs-lookup"><span data-stu-id="9fa16-710">GX_COLOR_ID_SCROLL_BUTTON</span></span> | <span data-ttu-id="9fa16-711">Color de relleno del botón de la barra de desplazamiento</span><span class="sxs-lookup"><span data-stu-id="9fa16-711">Scrollbar button fill color</span></span> |
| <span data-ttu-id="9fa16-712">GX_COLOR_ID_SHADOW</span><span class="sxs-lookup"><span data-stu-id="9fa16-712">GX_COLOR_ID_SHADOW</span></span> | <span data-ttu-id="9fa16-713">Color predeterminado de la sombra</span><span class="sxs-lookup"><span data-stu-id="9fa16-713">Default shadow color</span></span> |
| <span data-ttu-id="9fa16-714">GX_COLOR_ID_SHINE</span><span class="sxs-lookup"><span data-stu-id="9fa16-714">GX_COLOR_ID_SHINE</span></span> | <span data-ttu-id="9fa16-715">Color predeterminado del resaltado</span><span class="sxs-lookup"><span data-stu-id="9fa16-715">Default highlight color</span></span> |
| <span data-ttu-id="9fa16-716">GX_COLOR_ID_BUTTON_BORDER</span><span class="sxs-lookup"><span data-stu-id="9fa16-716">GX_COLOR_ID_BUTTON_BORDER</span></span> | <span data-ttu-id="9fa16-717">Color de borde del widget de botón</span><span class="sxs-lookup"><span data-stu-id="9fa16-717">Button widget border color</span></span> |
| <span data-ttu-id="9fa16-718">GX_COLOR_ID_BUTTON_UPPER</span><span class="sxs-lookup"><span data-stu-id="9fa16-718">GX_COLOR_ID_BUTTON_UPPER</span></span> | <span data-ttu-id="9fa16-719">Color de relleno superior del widget de botón</span><span class="sxs-lookup"><span data-stu-id="9fa16-719">Button widget upper fill color</span></span> |
| <span data-ttu-id="9fa16-720">GX_COLOR_ID_BUTTON_LOWER</span><span class="sxs-lookup"><span data-stu-id="9fa16-720">GX_COLOR_ID_BUTTON_LOWER</span></span> | <span data-ttu-id="9fa16-721">Color de relleno inferior del widget de botón</span><span class="sxs-lookup"><span data-stu-id="9fa16-721">Button widget lower fill color</span></span> |
| <span data-ttu-id="9fa16-722">GX_COLOR_ID_BUTTON_TEXT</span><span class="sxs-lookup"><span data-stu-id="9fa16-722">GX_COLOR_ID_BUTTON_TEXT</span></span> | <span data-ttu-id="9fa16-723">Color de texto del widget de botón</span><span class="sxs-lookup"><span data-stu-id="9fa16-723">Button widget text color</span></span> |
| <span data-ttu-id="9fa16-724">GX_COLOR_ID_TEXT_INPUT_TEXT</span><span class="sxs-lookup"><span data-stu-id="9fa16-724">GX_COLOR_ID_TEXT_INPUT_TEXT</span></span> | <span data-ttu-id="9fa16-725">Color de texto del widget de entrada de texto</span><span class="sxs-lookup"><span data-stu-id="9fa16-725">Text input widget text color</span></span> |
| <span data-ttu-id="9fa16-726">GX_COLOR_ID_TEXT_INPUT_FILL</span><span class="sxs-lookup"><span data-stu-id="9fa16-726">GX_COLOR_ID_TEXT_INPUT_FILL</span></span> | <span data-ttu-id="9fa16-727">Color de relleno de la entrada de texto</span><span class="sxs-lookup"><span data-stu-id="9fa16-727">Text input fill color</span></span> |
| <span data-ttu-id="9fa16-728">GX_COLOR_ID_SLIDER_TICK</span><span class="sxs-lookup"><span data-stu-id="9fa16-728">GX_COLOR_ID_SLIDER_TICK</span></span> | <span data-ttu-id="9fa16-729">Color usado para dibujar marcas de graduación del control deslizante</span><span class="sxs-lookup"><span data-stu-id="9fa16-729">Color used to draw slider tick marks.</span></span> |
| <span data-ttu-id="9fa16-730">GX_COLOR_ID_SLIDER_GROOVE_BOTTOM</span><span class="sxs-lookup"><span data-stu-id="9fa16-730">GX_COLOR_ID_SLIDER_GROOVE_BOTTOM</span></span> | <span data-ttu-id="9fa16-731">Color usado para dibujar la ranura del control deslizante</span><span class="sxs-lookup"><span data-stu-id="9fa16-731">Color used to draw slider groove</span></span> |
| <span data-ttu-id="9fa16-732">GX_COLOR_ID_SLIDER_NEEDLE_OUTLINE</span><span class="sxs-lookup"><span data-stu-id="9fa16-732">GX_COLOR_ID_SLIDER_NEEDLE_OUTLINE</span></span> | <span data-ttu-id="9fa16-733">Color usado para dibujar el contorno de la aguja</span><span class="sxs-lookup"><span data-stu-id="9fa16-733">Color used to draw needle outline</span></span> |
| <span data-ttu-id="9fa16-734">GX_COLOR_ID_SLIDER_NEEDLE_FILL</span><span class="sxs-lookup"><span data-stu-id="9fa16-734">GX_COLOR_ID_SLIDER_NEEDLE_FILL</span></span> | <span data-ttu-id="9fa16-735">Color usado para rellenar la aguja del control deslizante</span><span class="sxs-lookup"><span data-stu-id="9fa16-735">Color used to fill slider needle</span></span> |
| <span data-ttu-id="9fa16-736">GX_COLOR_ID_SLIDER_NEEDLE_LINE1</span><span class="sxs-lookup"><span data-stu-id="9fa16-736">GX_COLOR_ID_SLIDER_NEEDLE_LINE1</span></span> | <span data-ttu-id="9fa16-737">Color usado para dibujar el resaltado de la aguja</span><span class="sxs-lookup"><span data-stu-id="9fa16-737">Color used to draw needle highlight</span></span> |
| <span data-ttu-id="9fa16-738">GX_COLOR_ID_SLIDER_NEEDLE_LINE2</span><span class="sxs-lookup"><span data-stu-id="9fa16-738">GX_COLOR_ID_SLIDER_NEEDLE_LINE2</span></span> | <span data-ttu-id="9fa16-739">Color usado para dibujar la sombra de la aguja</span><span class="sxs-lookup"><span data-stu-id="9fa16-739">Color used to draw needle shadow</span></span> |

<span data-ttu-id="9fa16-740">Estos valores de identificador de color se asignan a un valor de color específico, según se define en la tabla de colores asignada a cada pantalla.</span><span class="sxs-lookup"><span data-stu-id="9fa16-740">These color ID values are mapped to a specific color value as defined by the color table assigned to each display.</span></span> <span data-ttu-id="9fa16-741">Estos valores predeterminados se pueden cambiar como un grupo para una pantalla mediante una llamada a la función de API ***gx_display_color_table_set***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-741">These defaults can be changed as a group for one display by calling the ***gx_display_color_table_set*** API function.</span></span> <span data-ttu-id="9fa16-742">Si usa GUIX Studio, la tabla de colores de la pantalla se inicializa automáticamente cuando la aplicación llama a la función ***gx_studio_display_configure***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-742">If you are using GUIX Studio, the display color table is automatically initialized when your application calls the ***gx_studio_display_configure*** function.</span></span>

<span data-ttu-id="9fa16-743">El componente de pantalla de GUIX también mantiene una tabla de fuentes predeterminadas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-743">The GUIX display component also maintains a default font table.</span></span> <span data-ttu-id="9fa16-744">En esta tabla se define la fuente que utiliza cada tipo de widget, a menos que la aplicación indique otra específicamente.</span><span class="sxs-lookup"><span data-stu-id="9fa16-744">The default font table defines the font used by each widget type unless specifically specified by the application.</span></span> <span data-ttu-id="9fa16-745">Los identificadores de la tabla de fuentes de pantalla predefinidas incluyen los siguientes valores.</span><span class="sxs-lookup"><span data-stu-id="9fa16-745">The pre-defined display font table IDs include the following values.</span></span>

| <span data-ttu-id="9fa16-746">Identificador de&nbsp;fuente</span><span class="sxs-lookup"><span data-stu-id="9fa16-746">Font&nbsp;ID</span></span> | <span data-ttu-id="9fa16-747">Descripción</span><span class="sxs-lookup"><span data-stu-id="9fa16-747">Description</span></span> |
| ------------------ | --------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="9fa16-748">GX_FONT_ID_DEFAULT</span><span class="sxs-lookup"><span data-stu-id="9fa16-748">GX_FONT_ID_DEFAULT</span></span> | <span data-ttu-id="9fa16-749">Fuente predeterminada usada cuando no se define ninguna fuente específica.</span><span class="sxs-lookup"><span data-stu-id="9fa16-749">Default font used when no specific font is defined</span></span> |
| <span data-ttu-id="9fa16-750">GX_FONT_ID_BUTTON</span><span class="sxs-lookup"><span data-stu-id="9fa16-750">GX_FONT_ID_BUTTON</span></span> | <span data-ttu-id="9fa16-751">Fuente predeterminada usada para todo el texto de los botones.</span><span class="sxs-lookup"><span data-stu-id="9fa16-751">Default font used for all text on buttons</span></span> |
| <span data-ttu-id="9fa16-752">GX_FONT_ID_TEXT_INPUT</span><span class="sxs-lookup"><span data-stu-id="9fa16-752">GX_FONT_ID_TEXT_INPUT</span></span> | <span data-ttu-id="9fa16-753">Fuente predeterminada utilizada para los campos de edición de texto.</span><span class="sxs-lookup"><span data-stu-id="9fa16-753">Default font used for text edit fields</span></span> |

<span data-ttu-id="9fa16-754">El identificador de fuente que se utiliza en cualquier widget de tipo de texto se puede volver a asignar mediante la API **gx_<tipo_de_widget>_font_set** proporcionada para cada tipo de widget relacionado con texto.</span><span class="sxs-lookup"><span data-stu-id="9fa16-754">The font ID used by any text type widget can be re-assigned by using the **gx_<widget_type>_font_set** API provided for each text-related widget type.</span></span> <span data-ttu-id="9fa16-755">La tabla de fuentes completa se puede volver a asignar mediante una llamada a la función de API **gx_display_font_table_set**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-755">The entire font table can be re-assigned by calling the **gx_display_font_table_set** API function.</span></span>

### <a name="scrollbar-appearance"></a><span data-ttu-id="9fa16-756">Apariencia de la barra de desplazamiento</span><span class="sxs-lookup"><span data-stu-id="9fa16-756">Scrollbar Appearance</span></span> 

<span data-ttu-id="9fa16-757">El componente de pantalla de GUIX también mantiene la configuración predeterminada de la apariencia de la barra de desplazamiento para esa pantalla.</span><span class="sxs-lookup"><span data-stu-id="9fa16-757">GUIX Display also maintains default scrollbar appearance settings for that display.</span></span> <span data-ttu-id="9fa16-758">Esta configuración se establece mediante la estructura **GX_SCROLLBAR_APPEARANCE** que se define a continuación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-758">These settings are defined by the **GX_SCROLLBAR_APPEARANCE** structure which is defined below.</span></span> <span data-ttu-id="9fa16-759">La pantalla de GUIX mantiene una estructura de apariencia de la barra de desplazamiento para las barras de desplazamiento verticales y otra para las horizontales.</span><span class="sxs-lookup"><span data-stu-id="9fa16-759">GUIX Display maintains one scrollbar appearance structure for vertical scrollbars and a second structure for horizontal scroll bars.</span></span> <span data-ttu-id="9fa16-760">La aplicación puede modificar la apariencia predeterminada de la barra de desplazamiento de cualquier pantalla inicializando una estructura **GX_SCROLLBAR_APPEARANCE** e invocando la función de API ***gx_display_scroll_appearance_set***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-760">The application can modify the default scrollbar appearance for any display by initializing a **GX_SCROLLBAR_APPEARANCE** structure and invoking the API function ***gx_display_scroll_appearance_set***.</span></span>

```c
typedef struct GX_SCROLLBAR_APPEARANCE_STRUCT
{
    GX_VALUE       gx_scroll_width;
    GX_VALUE       gx_scroll_thumb_width;
    GX_VALUE       gx_scroll_thumb_travel_min;
    GX_VALUE       gx_scroll_thumb_travel_max;
    GX_UBYTE       gx_scroll_thumb_border_style;
    GX_RESOURCE_ID gx_scroll_fill_pixelmap;
    GX_RESOURCE_ID gx_scroll_thumb_pixelmap;
    GX_RESOURCE_ID gx_scroll_up_pixelmap;
    GX_RESOURCE_ID gx_scroll_down_pixelmap;
    GX_RESOURCE_ID gx_scroll_thumb_color;
    GX_RESOURCE_ID gx_scroll_thumb_border_color;
    GX_RESOURCE_ID gx_scroll_button_color;
} GX_SCROLLBAR_APPEARANCE;
```
| <span data-ttu-id="9fa16-761">Miembros de la estructura GX_SCROLLBAR_APPEARANCE</span><span class="sxs-lookup"><span data-stu-id="9fa16-761">GX_SCROLLBAR_APPEARANCE Structure Member</span></span> | <span data-ttu-id="9fa16-762">Descripción</span><span class="sxs-lookup"><span data-stu-id="9fa16-762">Description</span></span> |
| --- | --- |
| <span data-ttu-id="9fa16-763">gx_scroll_width</span><span class="sxs-lookup"><span data-stu-id="9fa16-763">gx_scroll_width</span></span> | <span data-ttu-id="9fa16-764">Ancho de una barra de desplazamiento vertical o altura de una barra de desplazamiento horizontal, en píxeles.</span><span class="sxs-lookup"><span data-stu-id="9fa16-764">Width of a vertical scrollbar or height of a horizontal scrollbar, in pixels.</span></span> |
| <span data-ttu-id="9fa16-765">gx_scroll_thumb_width</span><span class="sxs-lookup"><span data-stu-id="9fa16-765">gx_scroll_thumb_width</span></span> | <span data-ttu-id="9fa16-766">Ancho de los botones de desplazamiento y final, en píxeles.</span><span class="sxs-lookup"><span data-stu-id="9fa16-766">Width of the elevator and end buttons, in pixels.</span></span> |
| <span data-ttu-id="9fa16-767">gx_scroll_thumb_travel_max</span><span class="sxs-lookup"><span data-stu-id="9fa16-767">gx_scroll_thumb_travel_max</span></span> | <span data-ttu-id="9fa16-768">Desplazamiento desde el final de la barra de desplazamiento hasta el punto máximo del recorrido del botón de desplazamiento.</span><span class="sxs-lookup"><span data-stu-id="9fa16-768">Offset from the end of scroll bar to maximum thumb button travel point.</span></span> |
| <span data-ttu-id="9fa16-769">gx_scroll_fill_pixelmap</span><span class="sxs-lookup"><span data-stu-id="9fa16-769">gx_scroll_fill_pixelmap</span></span> | <span data-ttu-id="9fa16-770">Mapa de píxeles que se usa para rellenar el fondo de la barra de desplazamiento.</span><span class="sxs-lookup"><span data-stu-id="9fa16-770">Pixelmap used to fill scroll background.</span></span> |
| <span data-ttu-id="9fa16-771">gx_scroll_thumb_pixelmap</span><span class="sxs-lookup"><span data-stu-id="9fa16-771">gx_scroll_thumb_pixelmap</span></span> | <span data-ttu-id="9fa16-772">Mapa de píxeles que se usa para dibujar el botón de control de desplazamiento.</span><span class="sxs-lookup"><span data-stu-id="9fa16-772">Pixelmap used to draw scroll thumb button.</span></span> |
| <span data-ttu-id="9fa16-773">gx_scroll_up_pixelmap</span><span class="sxs-lookup"><span data-stu-id="9fa16-773">gx_scroll_up_pixelmap</span></span> | <span data-ttu-id="9fa16-774">Mapa de píxeles que se usa para dibujar el botón de desplazamiento hacia arriba.</span><span class="sxs-lookup"><span data-stu-id="9fa16-774">Pixelmap used to draw scroll up button.</span></span> |
| <span data-ttu-id="9fa16-775">gx_scroll_down_pixelmap</span><span class="sxs-lookup"><span data-stu-id="9fa16-775">gx_scroll_down_pixelmap</span></span> | <span data-ttu-id="9fa16-776">Mapa de píxeles que se usa para dibujar el botón de desplazamiento hacia abajo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-776">Pixelmap used to draw scroll down button.</span></span> |
| <span data-ttu-id="9fa16-777">gx_scroll_fill_color</span><span class="sxs-lookup"><span data-stu-id="9fa16-777">gx_scroll_fill_color</span></span> | <span data-ttu-id="9fa16-778">Identificador del color que se usa para rellenar el fondo de la barra de desplazamiento.</span><span class="sxs-lookup"><span data-stu-id="9fa16-778">Color ID of color used to fill scrollbar background.</span></span> |
| <span data-ttu-id="9fa16-779">gx_scroll_button_color</span><span class="sxs-lookup"><span data-stu-id="9fa16-779">gx_scroll_button_color</span></span> | <span data-ttu-id="9fa16-780">Identificador del color que se usa para rellenar el botón de control de desplazamiento de la barra.</span><span class="sxs-lookup"><span data-stu-id="9fa16-780">Color ID of color used to fill scrollbar thumb button.</span></span> |

<span data-ttu-id="9fa16-781">Además de estos valores predeterminados para fuentes, colores y estilos, la aplicación puede establecer cualquiera de estos parámetros de forma específica para cada caso según sea necesario mediante la API proporcionada por cada tipo de widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-781">In addition to these default settings for fonts, color, and styles, the application may specify any of the parameters on a case by case basis as desired using API provided by each widget type.</span></span>

### <a name="skinning-and-themes"></a><span data-ttu-id="9fa16-782">Cambio del aspecto visual y temas</span><span class="sxs-lookup"><span data-stu-id="9fa16-782">Skinning and Themes</span></span>

<span data-ttu-id="9fa16-783">El cambio del aspecto visual permite que los widgets y las ventanas de GUIX cambien fácilmente su apariencia base; es decir, al cambiar la "máscara" en un lugar, se cambiará la apariencia base de todos los widgets y ventanas asociados.</span><span class="sxs-lookup"><span data-stu-id="9fa16-783">Skinning allows GUIX widgets and windows to easily change their base appearance, i.e., changing the “skin” in one place will change the base appearance of all associated widgets and windows.</span></span>

<span data-ttu-id="9fa16-784">Para volver a cambiar el aspecto visual de la aplicación GUIX, es necesario proporcionar una nueva tabla de colores, fuentes o mapas de píxeles a las tablas de recursos del componente de pantalla de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-784">Re-skinning your GUIX application requires that you supply a new color, font and or pixelmap table to the GUIX Display resource tables.</span></span> <span data-ttu-id="9fa16-785">Dado que todos los widgets de GUIX hacen referencia a su color, mapa de bits o fuente por identificador de recurso, al indicar una nueva tabla de recursos todos los widgets de GUIX empiezan a usar los nuevos colores y mapas de píxeles cuando se dibujan en la pantalla deseada.</span><span class="sxs-lookup"><span data-stu-id="9fa16-785">Since all GUIX widgets refer to their color, bitmap, or font by resource ID, providing a new resource table automatically causes all GUIX widgets to begin using your new colors and pixelmaps when they draw themselves to the desired display.</span></span>

<span data-ttu-id="9fa16-786">Un conjunto de fuentes, colores y mapas de píxeles diseñado para funcionar de forma combinada con el fin de proporcionar una apariencia atractiva se denomina *tema*.</span><span class="sxs-lookup"><span data-stu-id="9fa16-786">A new set of fonts, colors, and pixelmaps that are designed to work together to provide an attractive appearance is called a *theme*.</span></span> <span data-ttu-id="9fa16-787">Un tema define un conjunto de tablas de recursos y el tamaño de cada una de estas tablas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-787">A theme defines a set of resource tables and the size of each resource table.</span></span> <span data-ttu-id="9fa16-788">La aplicación GUIX Studio permite definir cualquier número de temas para cualquier pantalla.</span><span class="sxs-lookup"><span data-stu-id="9fa16-788">Any number of themes can be defined for any display using the GUIX Studio application.</span></span> <span data-ttu-id="9fa16-789">Es necesario pasar el índice de tema inicial a la función generada por GUIX Studio ***gx_studio_display_configure***, que instala el tema inicial en la pantalla creada.</span><span class="sxs-lookup"><span data-stu-id="9fa16-789">You must pass the starting theme index to the GUIX Studio generated function ***gx_studio_display_configure***, which installs the initial theme into the created display.</span></span> <span data-ttu-id="9fa16-790">El tema activo de una pantalla se puede cambiar en cualquier momento llamando a la función ***gx_display_theme_install***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-790">The active theme for any display can be changed at any time by calling the function ***gx_display_theme_install***.</span></span>

### <a name="root-window"></a><span data-ttu-id="9fa16-791">Ventana raíz</span><span class="sxs-lookup"><span data-stu-id="9fa16-791">Root Window</span></span>

<span data-ttu-id="9fa16-792">Cuando una aplicación crea un lienzo visible, también debe crear una ventana raíz para ese lienzo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-792">For each visible canvas created by an application, the application must also create one Root Window for that canvas.</span></span> <span data-ttu-id="9fa16-793">Esta ventana especial actúa básicamente como un contenedor de todos los widgets y ventanas de la aplicación de nivel superior.</span><span class="sxs-lookup"><span data-stu-id="9fa16-793">This special window basically acts as a container for all the top-level application windows and widgets.</span></span> <span data-ttu-id="9fa16-794">La ventana raíz dibuja el fondo del lienzo y, dado que se deriva de la clase **GX_WINDOW**, también puede tener papel tapiz.</span><span class="sxs-lookup"><span data-stu-id="9fa16-794">The root window draws the canvas background, and since the root window is derived from the **GX_WINDOW** class the root window can also have wallpaper.</span></span> <span data-ttu-id="9fa16-795">Para cambiar el color de fondo de la pantalla o el lienzo, solo tiene que cambiar el color de relleno de la ventana raíz asociada a ese lienzo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-795">To change the background color of your display or canvas, you simply change the fill color of the root window attached to that canvas.</span></span>

<span data-ttu-id="9fa16-796">Si usa la función generada por GUIX Studio denominada ***gx_studio_display_configure*** para configurar las pantallas, el lienzo y la ventana raíz de cada pantalla se crean automáticamente como parte de esta función de inicialización.</span><span class="sxs-lookup"><span data-stu-id="9fa16-796">If you use the GUIX Studio generated function named ***gx_studio_display_configure*** to configure your displays, then the canvas and root window for each display are created for you as part of this initialization function.</span></span>

### <a name="anti-aliasing"></a><span data-ttu-id="9fa16-797">Suavizado de contorno</span><span class="sxs-lookup"><span data-stu-id="9fa16-797">Anti-Aliasing</span></span> 

<span data-ttu-id="9fa16-798">El suavizado de contorno es una característica opcional de GUIX que se usa para suavizar líneas, curvas y fuentes.</span><span class="sxs-lookup"><span data-stu-id="9fa16-798">Anti-Aliasing is an optional feature in GUIX that is used to smooth lines, curves, and fonts.</span></span> <span data-ttu-id="9fa16-799">El suavizado de contorno solo se admite cuando se ejecuta con un controlador de pantalla que utiliza una profundidad de color de 16 bpp o superior.</span><span class="sxs-lookup"><span data-stu-id="9fa16-799">Anti-aliasing is only supported when running with a display driver utilizing 16-bpp or higher color depth.</span></span>

<span data-ttu-id="9fa16-800">El dibujo de líneas con suavizado de contorno se habilita estableciendo la función **GX_BRUSH_ALIAS** en el pincel activo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-800">Anti-aliased line drawing is enabled by setting the **GX_BRUSH_ALIAS** flash in the active brush.</span></span> <span data-ttu-id="9fa16-801">Esto se aplica a las líneas dibujadas directamente y a líneas como el borde de un polígono o un círculo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-801">This applies to lines drawn directly as well as to lines drawn as the border of a polygon or circle.</span></span>

<span data-ttu-id="9fa16-802">El dibujo de texto con suavizado de contorno se habilita mediante el uso de una fuente suavizada generada por la aplicación GUIX Studio.</span><span class="sxs-lookup"><span data-stu-id="9fa16-802">Anti-aliased text drawing is enabled by using an anti-aliased font which is produced by the GUIX studio application.</span></span> <span data-ttu-id="9fa16-803">Al crear la fuente, se especifica si se debe generar con suavizado de contorno o como binaria.</span><span class="sxs-lookup"><span data-stu-id="9fa16-803">You specify whether a font should be generated as antialiased or binary when you create the font.</span></span>
<span data-ttu-id="9fa16-804">Las fuentes con suavizado de contorno de GUIX usan 16 niveles de transparencia para cada píxel.</span><span class="sxs-lookup"><span data-stu-id="9fa16-804">Anti-aliased fonts in GUIX utilize 16 levels of transparency for each pixel.</span></span>

### <a name="clipping"></a><span data-ttu-id="9fa16-805">Recorte</span><span class="sxs-lookup"><span data-stu-id="9fa16-805">Clipping</span></span> 

<span data-ttu-id="9fa16-806">El componente de pantalla de GUIX admite el recorte internamente. También se admite en los niveles de ventana y widget de la arquitectura de elementos principales y secundarios mantenida por los widgets de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-806">Clipping is supported internally by the GUIX display component, and at the window and widget layers by the parent-child architecture maintained by GUIX widgets.</span></span> <span data-ttu-id="9fa16-807">No se puede dibujar ninguna ventana o ningún widget fuera del área del widget y tampoco se permite dibujar un widget fuera del área de su elemento principal.</span><span class="sxs-lookup"><span data-stu-id="9fa16-807">No window or widget is ever allowed to draw outside of that widget’s area, and a widget is never allowed to draw outside of the area of that widget’s parent.</span></span>

<span data-ttu-id="9fa16-808">Esto también impide que los widgets se dibujen en coordenadas de píxeles que se encuentran fuera de la memoria del lienzo, lo que podría provocar daños en la memoria o un error del sistema.</span><span class="sxs-lookup"><span data-stu-id="9fa16-808">This also prevents widgets from drawing at pixel coordinates that lay outside of the canvas memory which likely lead to memory corruption or a system failure.</span></span> <span data-ttu-id="9fa16-809">No se pueden dibujar widgets fuera del área del widget, del área de su elemento principal ni más allá de la extensión del lienzo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-809">Widgets are not allowed to draw outside of the widget’s area, the widget’s parent area, or beyond the canvas extent.</span></span>

<span data-ttu-id="9fa16-810">Además, los widgets solo pueden dibujar en áreas que se han marcado previamente como modificadas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-810">In addition, widgets can only draw to areas that have previously been marked as dirty.</span></span> <span data-ttu-id="9fa16-811">Esto evita que se dibuje una ventana completa; por ejemplo, cuando solo se revela una esquina de la ventana.</span><span class="sxs-lookup"><span data-stu-id="9fa16-811">This prevents an entire window being drawn, for example, when only a corner of the window has been revealed.</span></span> <span data-ttu-id="9fa16-812">Solo se marca como modificada la parte de la ventana que realmente necesita actualizarse y, por tanto, la función de dibujo de la ventana solo actualiza realmente los píxeles del área modificada.</span><span class="sxs-lookup"><span data-stu-id="9fa16-812">Only the portion of the window that actually needs to be refreshed is marked as dirty, and so the window drawing function only truly refreshes pixels in the dirty area.</span></span>

<span data-ttu-id="9fa16-813">El componente de pantalla de GUIX aplica estos algoritmos de recorte antes de invocar las funciones de dibujo en el nivel de controlador.</span><span class="sxs-lookup"><span data-stu-id="9fa16-813">The GUIX dispaly component enforces these clipping algorithms before invoking the driver level drawing functions.</span></span>

### <a name="views"></a><span data-ttu-id="9fa16-814">Vistas</span><span class="sxs-lookup"><span data-stu-id="9fa16-814">Views</span></span> 

<span data-ttu-id="9fa16-815">GUIX siempre mantiene un conjunto de vistas para cada ventana raíz y cada ventana secundaria de la ventana raíz.</span><span class="sxs-lookup"><span data-stu-id="9fa16-815">GUIX always maintains a set of views for each root window and each child window of the root window.</span></span> <span data-ttu-id="9fa16-816">Las vistas son un área de recorte dinámica que se determina en tiempo de ejecución y que cambia a medida que se modifica la posición de la ventana y el orden Z.</span><span class="sxs-lookup"><span data-stu-id="9fa16-816">Views are a dynamic, run-time determined clipping area that changes as window position and Z-order are modified.</span></span>
<span data-ttu-id="9fa16-817">GUIX usa vistas para evitar que una ventana o un widget en segundo plano se dibujen sobre una ventana o widget en primer plano.</span><span class="sxs-lookup"><span data-stu-id="9fa16-817">GUIX uses views to prevent a window or widget in the background from drawing on top of a window or widget in the foreground.</span></span> <span data-ttu-id="9fa16-818">Las vistas imponen la disciplina del orden Z.</span><span class="sxs-lookup"><span data-stu-id="9fa16-818">Views enforce Z-order discipline.</span></span> <span data-ttu-id="9fa16-819">Además, son importantes por motivos de eficacia, ya que impiden que una ventana en segundo plano dibuje en cualquier área del lienzo que no se pueda ver.</span><span class="sxs-lookup"><span data-stu-id="9fa16-819">In addition, views are important for efficiency in that they prevent a window in the background from drawing to any area of the canvas that cannot be seen.</span></span> <span data-ttu-id="9fa16-820">Si una ventana está completamente cubierta por otra ventana, no se permitirá que la ventana cubierta dibuje en el lienzo, incluso si intenta hacerlo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-820">If a window is completely covered by another window, the covered window will not be allowed to draw to the canvas at all, even if it is attempting to do so.</span></span>

### <a name="display-driver-interface"></a><span data-ttu-id="9fa16-821">Interfaz del controlador de pantalla</span><span class="sxs-lookup"><span data-stu-id="9fa16-821">Display Driver Interface</span></span> 

<span data-ttu-id="9fa16-822">Los controladores de pantalla de GUIX son responsables de todas las interacciones con la pantalla física subyacente.</span><span class="sxs-lookup"><span data-stu-id="9fa16-822">GUIX display drivers are responsible for all interaction with the underlying physical screen.</span></span> <span data-ttu-id="9fa16-823">Estos controladores tienen tres funciones básicas: inicialización, dibujo y visualización del búfer de cuadros.</span><span class="sxs-lookup"><span data-stu-id="9fa16-823">The display drivers have three basic functions: initialization, drawing, and frame buffer display.</span></span>
<span data-ttu-id="9fa16-824">La inicialización es responsable de preparar el hardware de la pantalla física, informando a GUIX de sus propiedades y de qué funciones de dibujo específicas deben usarse.</span><span class="sxs-lookup"><span data-stu-id="9fa16-824">Initialization is responsible for preparing the physical display hardware, informing GUIX of the properties of the physical display hardware, and for informing GUIX which specific drawing functions should be used.</span></span> <span data-ttu-id="9fa16-825">La inicialización del controlador de pantalla principal se llama desde la función ***gx_display_create*** de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-825">The main display driver initialization is called from the GUIX ***gx_display_create*** function.</span></span> <span data-ttu-id="9fa16-826">Además, el subproceso de GUIX también llamará a una inicialización del controlador de pantalla secundario desde el contexto del subproceso.</span><span class="sxs-lookup"><span data-stu-id="9fa16-826">In addition, the GUIX thread will also call a secondary display driver initialization from the thread context.</span></span> <span data-ttu-id="9fa16-827">Este controlador de pantalla secundario solo es necesario si el controlador requiere servicios de RTOS durante su inicialización; por ejemplo, interrupciones de dispositivo o solicitudes ***tx_thread_sleep*** para el retraso entre los pasos del proceso de inicialización.</span><span class="sxs-lookup"><span data-stu-id="9fa16-827">This secondary display driver is only needed if the driver requires RTOS services during its initialization, e.g., device interrupts or ***tx_thread_sleep*** requests for delay between steps in the initialization process.</span></span>

<span data-ttu-id="9fa16-828">Una vez completada la inicialización, el controlador de pantalla es responsable de cualquier dibujo directo que pueda realizarse en el hardware de la pantalla física.</span><span class="sxs-lookup"><span data-stu-id="9fa16-828">Once initialization is complete, the display driver is responsible for any direct drawing that can be done in the physical display hardware.</span></span>
<span data-ttu-id="9fa16-829">Por último, el controlador de pantalla es responsable de mostrar el búfer de cuadros.</span><span class="sxs-lookup"><span data-stu-id="9fa16-829">Finally, the display driver is responsible for displaying the frame buffer.</span></span>

## <a name="guix-widget-component"></a><span data-ttu-id="9fa16-830">Componente de widget de GUIX</span><span class="sxs-lookup"><span data-stu-id="9fa16-830">GUIX Widget Component</span></span>

<span data-ttu-id="9fa16-831">Un widget de GUIX es un elemento gráfico visible.</span><span class="sxs-lookup"><span data-stu-id="9fa16-831">A GUIX widget is a visible graphical element.</span></span> <span data-ttu-id="9fa16-832">Hay componentes de GUIX que no son visibles, como los temporizadores y las funciones de utilidad matemáticas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-832">There are GUIX components which are not visible, such as timers and math utility functions.</span></span>
<span data-ttu-id="9fa16-833">Sin embargo, todos los componentes visibles se derivan del componente de widget de GUIX básico.</span><span class="sxs-lookup"><span data-stu-id="9fa16-833">However all visible components are derived from the basic GUIX widget component.</span></span> <span data-ttu-id="9fa16-834">Un widget de GUIX es el bloque de creación principal de la pantalla de GUIX; todos los demás elementos gráficos se derivan de la funcionalidad del widget base.</span><span class="sxs-lookup"><span data-stu-id="9fa16-834">A GUIX widget is the primary building block of the GUIX display – all other graphic elements are derived from the base widget functionality.</span></span>

<span data-ttu-id="9fa16-835">Los widgets de GUIX utilizan una implementación orientada a objetos con compatibilidad total de herencia.</span><span class="sxs-lookup"><span data-stu-id="9fa16-835">GUIX widgets are implemented in an object oriented manner with full support of inheritance.</span></span> <span data-ttu-id="9fa16-836">Esto se logra mediante ANSI C, lo que da como resultado unos requisitos de memoria y procesamiento lo más pequeños posible.</span><span class="sxs-lookup"><span data-stu-id="9fa16-836">This is accomplished using ANSI C, which results in the smallest possible memory and processing requirements.</span></span> <span data-ttu-id="9fa16-837">Cuando indicamos que un widget determinado, como **GX_BUTTON**, se *deriva de* otro widget, como el widget base **GX_WIDGET**, nos referimos a que la estructura de control de **GX_BUTTON** contiene todas las variables de miembro y punteros de función de **GX_WIDGET**, con algunas variables adicionales específicas de **GX_BUTTON**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-837">When we speak of one particular widget, such as **GX_BUTTON**, being *derived from* another widget, such as the base **GX_WIDGET**, what we mean is that the **GX_BUTTON** control structure contains all of the member variables and function pointers of **GX_WIDGET**, with some additional variables that are specific to **GX_BUTTON**.</span></span> <span data-ttu-id="9fa16-838">GUIX crea capas de widgets de este modo, de modo que los widgets más complejos se basan siempre en un widget más sencillo anterior.</span><span class="sxs-lookup"><span data-stu-id="9fa16-838">GUIX builds up layers of widgets in this fashion, so that more complex widgets are always based on a simpler widget before them.</span></span> <span data-ttu-id="9fa16-839">Este modelo jerárquico de derivación facilita el aprendizaje de las API que se usan para modificar los parámetros del widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-839">This hierarchical model of derivation makes it easier to learn the APIs used to modify widget parameters.</span></span> <span data-ttu-id="9fa16-840">Si desea modificar el color de un botón, por ejemplo, usará la misma API que usa para modificar el color de un widget; es decir, ***gx_widget_fill_color_set***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-840">If you want to modify the color of a button, you use the same API you use to modify the color of a widget, namely ***gx_widget_fill_color_set***.</span></span>

<span data-ttu-id="9fa16-841">La organización de los widgets visibles se mantiene en forma de elementos principales y secundarios mediante listas estructuradas de árbol que vinculan los widgets secundarios a sus elementos principales.</span><span class="sxs-lookup"><span data-stu-id="9fa16-841">The organization of visible widgets is maintained in a parent-child manner using tree structured lists linking child widgets to their parents.</span></span> <span data-ttu-id="9fa16-842">Los elementos secundarios heredan características de sus elementos principales, como las vistas en las que pueden dibujar y el lienzo en el que dibujan.</span><span class="sxs-lookup"><span data-stu-id="9fa16-842">The children inherit characteristics from their parents such as the views into which they can draw and the canvas on which they draw.</span></span>
<span data-ttu-id="9fa16-843">Los widgets secundarios pueden tener sus propios widgets secundarios, que heredan a su vez varias características del elemento principal.</span><span class="sxs-lookup"><span data-stu-id="9fa16-843">Child widgets may have their own child widgets, again inheriting various characteristics from the parent.</span></span> <span data-ttu-id="9fa16-844">Las características de cualquier widget se pueden redefinir explícitamente por medio de varias llamadas API de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-844">The characteristics of any widget may be explicitly redefined via various GUIX API calls.</span></span>

### <a name="widget-creation"></a><span data-ttu-id="9fa16-845">Creación de widgets</span><span class="sxs-lookup"><span data-stu-id="9fa16-845">Widget Creation</span></span> 

<span data-ttu-id="9fa16-846">Un objeto de widget se puede crear durante la inicialización o en cualquier momento durante la ejecución de los subprocesos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-846">A widget object can be created during initialization or anytime during the execution of application threads.</span></span> <span data-ttu-id="9fa16-847">No hay ningún límite en el número de objetos de widget que puede crear una aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-847">There is no limit on the number of widget objects that can be created by an application.</span></span> <span data-ttu-id="9fa16-848">Tampoco hay ningún límite en el número de elementos secundarios que puede tener cualquier widget, dentro de los límites de memoria del hardware de destino.</span><span class="sxs-lookup"><span data-stu-id="9fa16-848">There is also no limit on the number of children any widget may have, within the memory limits of your target hardware.</span></span>

<span data-ttu-id="9fa16-849">Cada tipo de widget tiene su propia función de creación, como ***gx_button_create** _ o _*_gx_prompt_create_\*\*.</span><span class="sxs-lookup"><span data-stu-id="9fa16-849">Each widget type has its own create function, such as ***gx_button_create** _ or _*_gx_prompt_create_\*\*.</span></span> <span data-ttu-id="9fa16-850">Los tres primeros parámetros de estas funciones son siempre los mismos: un puntero a la estructura de control del widget, un puntero de cadena al nombre del widget y un puntero al elemento principal del widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-850">The first three parameters to these functions are always the same, namely a pointer to the widget control structure, a string pointer to the widget name, and a pointer to the widget’s parent.</span></span> <span data-ttu-id="9fa16-851">Cada función de creación puede tener cualquier número de parámetros adicionales en función de los requisitos de ese tipo de widget concreto.</span><span class="sxs-lookup"><span data-stu-id="9fa16-851">Each create function may have any number of additional parameters depending on the requirements of that particular widget type.</span></span>

### <a name="widget-control-block"></a><span data-ttu-id="9fa16-852">Bloque de control del widget</span><span class="sxs-lookup"><span data-stu-id="9fa16-852">Widget Control Block</span></span> 

<span data-ttu-id="9fa16-853">Las características de cada objeto de widget se encuentran en su bloque de control \***GX_WIDGET** _ y se definen en **_gx_api.h_**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-853">The characteristics of each widget object are found in its control block **GX_WIDGET** and are defined in **_gx_api.h_**.</span></span> <span data-ttu-id="9fa16-854">La aplicación proporciona la memoria necesaria para un objeto de widget, que se puede ubicar en cualquier parte de la memoria.</span><span class="sxs-lookup"><span data-stu-id="9fa16-854">The memory required for a widget object is provided by the application and can be located anywhere in memory.</span></span> <span data-ttu-id="9fa16-855">Sin embargo, es más habitual que el bloque de control del objeto de widget forme una estructura global mediante su definición fuera del ámbito de cualquier función.</span><span class="sxs-lookup"><span data-stu-id="9fa16-855">However, it is most common to make the widget object control block a global structure by defining it outside the scope of any function.</span></span> <span data-ttu-id="9fa16-856">Si usa GUIX Studio, los bloques de control de widget se pueden asignar estáticamente en el archivo de especificaciones generadas por Studio, o bien los puede asignar la aplicación dinámicamente.</span><span class="sxs-lookup"><span data-stu-id="9fa16-856">If you are using GUIX Studio, your widget control blocks can be statically allocated within your Studio generated specifications file, or they can be dynamically allocated by your application.</span></span>

### <a name="dynamic-widget-control-block-allocation-and-de-allocation"></a><span data-ttu-id="9fa16-857">Asignación y desasignación dinámica de bloques de control de widget</span><span class="sxs-lookup"><span data-stu-id="9fa16-857">Dynamic Widget Control Block Allocation and De-allocation</span></span> 

<span data-ttu-id="9fa16-858">Si usa la asignación dinámica de bloques de control, deberá definir dos funciones que GUIX usará para asignar y liberar la memoria necesaria para los bloques de control de widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-858">If you are using dynamic control block allocation, you will need to define two functions that GUIX will use to allocate and free the memory required for your widget control blocks.</span></span> <span data-ttu-id="9fa16-859">Las funciones de administración de memoria se pasan al componente de sistema de GUIX por medio de la función de API ***gx_system_memory_allocator_set***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-859">Your functions for memory management are passed to the GUIX system component via the ***gx_system_memory_allocator_set*** API function.</span></span> <span data-ttu-id="9fa16-860">Esta función permite pasar dos punteros de función a GUIX: el primero es un puntero a una función de asignación de memoria y el segundo un puntero a una función de liberación de memoria.</span><span class="sxs-lookup"><span data-stu-id="9fa16-860">This function allows you to pass two function pointers into GUIX: the first is a pointer to a memory allocation function, and the second is a pointer to a memory free function.</span></span> <span data-ttu-id="9fa16-861">Lo más frecuente es que implemente estas funciones mediante grupos de bytes de ThreadX, pero el diseño de GUIX le permite implementar la administración dinámica de la memoria de la manera que prefiera.</span><span class="sxs-lookup"><span data-stu-id="9fa16-861">Most often, you will implement these functions using ThreadX byte pools, but the design of GUIX allows you to implement dynamic memory management in whatever way you prefer.</span></span>

<span data-ttu-id="9fa16-862">La asignación dinámica de widgets se suele emplear dentro del archivo de especificaciones de aplicación generado por Studio, cuando se selecciona la opción de asignación dinámica en el campo de propiedades del widget de Studio.</span><span class="sxs-lookup"><span data-stu-id="9fa16-862">Dynamic widget allocation is most often employed within your Studio generated application specifications file, when you select the “dynamically allocated” option in the Studio widget properties field.</span></span> <span data-ttu-id="9fa16-863">Sin embargo, también puede usar la asignación dinámica de bloques de control dentro de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-863">However, you can also use dynamic control block allocation within your application.</span></span> <span data-ttu-id="9fa16-864">En este caso, debe invocar la función de API \***gx_widget_allocate** _ para asignar el bloque de control del widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-864">If you use dynamic control block allocation within your application, you should invoke the \***gx_widget_allocate** _ API function to allocate the widget control block.</span></span> <span data-ttu-id="9fa16-865">A continuación, cuando cree el widget, asegúrese de pasar la marca de estilo _ *GX_WIDGET_STYLE_DYNAMICALLY_ALLOCATED*\* (junto con cualquier otra marca de estilo necesaria) a la función de creación del widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-865">Next, when you create the widget, make certain you pass the _ *GX_WIDGET_STYLE_DYNAMICALLY_ALLOCATED*\* style flag (along with any other needed style flags) to the widget create function.</span></span> <span data-ttu-id="9fa16-866">Esta marca se usa para marcar el widget como asignado dinámicamente en el campo de estado del widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-866">This flag is used to mark the widget as being dynamically allocated in the widget status field.</span></span> <span data-ttu-id="9fa16-867">Si el widget se elimina posteriormente mediante **_gx_widget_delete_**, GUIX comprobará este campo de estado y llamará automáticamente a la función de desasignación de memoria para asegurarse de que no haya fugas de memoria.</span><span class="sxs-lookup"><span data-stu-id="9fa16-867">When and if the widget is later deleted using **_gx_widget_delete_**, GUIX will check this status field and automatically call your memory de-allocator function to insure there are no memory leaks.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9fa16-868">Un widget creado mediante un bloque de control asignado dinámicamente se debe crear con la marca de estilo **GX_WIDGET_STYLE_DYNAMICALLY_ALLOCATED** para evitar la pérdida de memoria.</span><span class="sxs-lookup"><span data-stu-id="9fa16-868">A widget created using a dynamically allocated control block must be created with the **GX_WIDGET_STYLE_DYNAMICALLY_ALLOCATED** style flag to prevent memory loss.</span></span>

### <a name="types"></a><span data-ttu-id="9fa16-869">Tipos</span><span class="sxs-lookup"><span data-stu-id="9fa16-869">Types</span></span>

<span data-ttu-id="9fa16-870">GUIX proporciona un completo conjunto totalmente funcional de widgets integrados.</span><span class="sxs-lookup"><span data-stu-id="9fa16-870">GUIX provides a rich, fully functional set of built-in widgets.</span></span> <span data-ttu-id="9fa16-871">Como se mencionó anteriormente, todos los widgets especializados se derivan del widget base.</span><span class="sxs-lookup"><span data-stu-id="9fa16-871">As mentioned previously, all specialized widgets are derived from the base widget.</span></span> <span data-ttu-id="9fa16-872">A continuación se incluye una lista de los widgets integrados en GUIX:</span><span class="sxs-lookup"><span data-stu-id="9fa16-872">Following is a list of the built-in widgets in GUIX:</span></span>

<span data-ttu-id="9fa16-873">**GX_TYPE_WIDGET**</span><span class="sxs-lookup"><span data-stu-id="9fa16-873">**GX_TYPE_WIDGET**</span></span>

<span data-ttu-id="9fa16-874">**GX_TYPE_BUTTON**</span><span class="sxs-lookup"><span data-stu-id="9fa16-874">**GX_TYPE_BUTTON**</span></span>

<span data-ttu-id="9fa16-875">**GX_TYPE_TEXT_BUTTON**</span><span class="sxs-lookup"><span data-stu-id="9fa16-875">**GX_TYPE_TEXT_BUTTON**</span></span>

<span data-ttu-id="9fa16-876">**GX_TYPE_MULTI_LINE_TEXT_BUTTON**</span><span class="sxs-lookup"><span data-stu-id="9fa16-876">**GX_TYPE_MULTI_LINE_TEXT_BUTTON**</span></span>

<span data-ttu-id="9fa16-877">**GX_TYPE_RADIO_BUTTON**</span><span class="sxs-lookup"><span data-stu-id="9fa16-877">**GX_TYPE_RADIO_BUTTON**</span></span>

<span data-ttu-id="9fa16-878">**GX_TYPE_CHECKBOX**</span><span class="sxs-lookup"><span data-stu-id="9fa16-878">**GX_TYPE_CHECKBOX**</span></span>

<span data-ttu-id="9fa16-879">**GX_TYPE_PIXELMAP_BUTTON**</span><span class="sxs-lookup"><span data-stu-id="9fa16-879">**GX_TYPE_PIXELMAP_BUTTON**</span></span>

<span data-ttu-id="9fa16-880">**GX_TYPE_ICON_BUTTON**</span><span class="sxs-lookup"><span data-stu-id="9fa16-880">**GX_TYPE_ICON_BUTTON**</span></span>

<span data-ttu-id="9fa16-881">**GX_TYPE_ICON**</span><span class="sxs-lookup"><span data-stu-id="9fa16-881">**GX_TYPE_ICON**</span></span>

<span data-ttu-id="9fa16-882">**GX_TYPE_SPRITE**</span><span class="sxs-lookup"><span data-stu-id="9fa16-882">**GX_TYPE_SPRITE**</span></span>

<span data-ttu-id="9fa16-883">**GX_TYPE_SLIDER**</span><span class="sxs-lookup"><span data-stu-id="9fa16-883">**GX_TYPE_SLIDER**</span></span>

<span data-ttu-id="9fa16-884">**GX_TYPE_PIXELMAP_SLIDER**</span><span class="sxs-lookup"><span data-stu-id="9fa16-884">**GX_TYPE_PIXELMAP_SLIDER**</span></span>

<span data-ttu-id="9fa16-885">**GX_TYPE_VERTICAL_SCROLL**</span><span class="sxs-lookup"><span data-stu-id="9fa16-885">**GX_TYPE_VERTICAL_SCROLL**</span></span>

<span data-ttu-id="9fa16-886">**GX_TYPE_HORIZONTAL_SCROLL**</span><span class="sxs-lookup"><span data-stu-id="9fa16-886">**GX_TYPE_HORIZONTAL_SCROLL**</span></span>

<span data-ttu-id="9fa16-887">**GX_TYPE_PROGRESS_BAR**</span><span class="sxs-lookup"><span data-stu-id="9fa16-887">**GX_TYPE_PROGRESS_BAR**</span></span>

<span data-ttu-id="9fa16-888">**GX_TYPE_PROMPT**</span><span class="sxs-lookup"><span data-stu-id="9fa16-888">**GX_TYPE_PROMPT**</span></span>

<span data-ttu-id="9fa16-889">**GX_TYPE_NUMERIC_PROMPT**</span><span class="sxs-lookup"><span data-stu-id="9fa16-889">**GX_TYPE_NUMERIC_PROMPT**</span></span>

<span data-ttu-id="9fa16-890">**GX_TYPE_PIXELMAP_PROMPT**</span><span class="sxs-lookup"><span data-stu-id="9fa16-890">**GX_TYPE_PIXELMAP_PROMPT**</span></span>

<span data-ttu-id="9fa16-891">**GX_TYPE_NUMERIC_PIXELMAP_PROMPT**</span><span class="sxs-lookup"><span data-stu-id="9fa16-891">**GX_TYPE_NUMERIC_PIXELMAP_PROMPT**</span></span>

<span data-ttu-id="9fa16-892">**GX_TYPE_SINGLE_LINE_TEXT_INPUT**</span><span class="sxs-lookup"><span data-stu-id="9fa16-892">**GX_TYPE_SINGLE_LINE_TEXT_INPUT**</span></span>

<span data-ttu-id="9fa16-893">**GX_TYPE_MULTI_LINE_TEXT_VIEW**</span><span class="sxs-lookup"><span data-stu-id="9fa16-893">**GX_TYPE_MULTI_LINE_TEXT_VIEW**</span></span>

<span data-ttu-id="9fa16-894">**GX_TYPE_MULTI_LINE_TEXT_INPUT**</span><span class="sxs-lookup"><span data-stu-id="9fa16-894">**GX_TYPE_MULTI_LINE_TEXT_INPUT**</span></span>

<span data-ttu-id="9fa16-895">**GX_TYPE_WINDOW**</span><span class="sxs-lookup"><span data-stu-id="9fa16-895">**GX_TYPE_WINDOW**</span></span>

<span data-ttu-id="9fa16-896">**GX_TYPE_ROOT_WINDOW**</span><span class="sxs-lookup"><span data-stu-id="9fa16-896">**GX_TYPE_ROOT_WINDOW**</span></span>

<span data-ttu-id="9fa16-897">**GX_TYPE_VERTICAL_LIST**</span><span class="sxs-lookup"><span data-stu-id="9fa16-897">**GX_TYPE_VERTICAL_LIST**</span></span>

<span data-ttu-id="9fa16-898">**GX_TYPE_HORIZONTAL_LIST**</span><span class="sxs-lookup"><span data-stu-id="9fa16-898">**GX_TYPE_HORIZONTAL_LIST**</span></span>

<span data-ttu-id="9fa16-899">**GX_TYPE_POPUP_LIST**</span><span class="sxs-lookup"><span data-stu-id="9fa16-899">**GX_TYPE_POPUP_LIST**</span></span>

<span data-ttu-id="9fa16-900">**GX_TYPE_DROP_LIST**</span><span class="sxs-lookup"><span data-stu-id="9fa16-900">**GX_TYPE_DROP_LIST**</span></span>

<span data-ttu-id="9fa16-901">**GX_TYPE_LINE_CHART**</span><span class="sxs-lookup"><span data-stu-id="9fa16-901">**GX_TYPE_LINE_CHART**</span></span>

<span data-ttu-id="9fa16-902">**GX_TYPE_DIALOG**</span><span class="sxs-lookup"><span data-stu-id="9fa16-902">**GX_TYPE_DIALOG**</span></span>

<span data-ttu-id="9fa16-903">**GX_TYPE_KEYBOARD**</span><span class="sxs-lookup"><span data-stu-id="9fa16-903">**GX_TYPE_KEYBOARD**</span></span>

<span data-ttu-id="9fa16-904">**GX_TYPE_SCROLL_WHEEL**</span><span class="sxs-lookup"><span data-stu-id="9fa16-904">**GX_TYPE_SCROLL_WHEEL**</span></span>

<span data-ttu-id="9fa16-905">**GX_TYPE_TEXT_SCROLL_WHEEL**</span><span class="sxs-lookup"><span data-stu-id="9fa16-905">**GX_TYPE_TEXT_SCROLL_WHEEL**</span></span>

<span data-ttu-id="9fa16-906">**GX_TYPE_STRING_SCROLL_WHEEL**</span><span class="sxs-lookup"><span data-stu-id="9fa16-906">**GX_TYPE_STRING_SCROLL_WHEEL**</span></span>

<span data-ttu-id="9fa16-907">**GX_TYPE_NUMERIC_SCROLL_WHEEL**</span><span class="sxs-lookup"><span data-stu-id="9fa16-907">**GX_TYPE_NUMERIC_SCROLL_WHEEL**</span></span>

<span data-ttu-id="9fa16-908">**GX_TYPE_CIRCULAR_GAUGE**</span><span class="sxs-lookup"><span data-stu-id="9fa16-908">**GX_TYPE_CIRCULAR_GAUGE**</span></span>

<span data-ttu-id="9fa16-909">**GX_TYPE_RADIAL_PROGRESS_BAR**</span><span class="sxs-lookup"><span data-stu-id="9fa16-909">**GX_TYPE_RADIAL_PROGRESS_BAR**</span></span>

<span data-ttu-id="9fa16-910">**GX_TYPE_RADIAL_SLIDER**</span><span class="sxs-lookup"><span data-stu-id="9fa16-910">**GX_TYPE_RADIAL_SLIDER**</span></span>

<span data-ttu-id="9fa16-911">**GX_TYPE_MENU_LIST**</span><span class="sxs-lookup"><span data-stu-id="9fa16-911">**GX_TYPE_MENU_LIST**</span></span>

<span data-ttu-id="9fa16-912">**GX_TYPE_MENU**</span><span class="sxs-lookup"><span data-stu-id="9fa16-912">**GX_TYPE_MENU**</span></span>

<span data-ttu-id="9fa16-913">**GX_TYPE_ACCORDION_MENU**</span><span class="sxs-lookup"><span data-stu-id="9fa16-913">**GX_TYPE_ACCORDION_MENU**</span></span>

<span data-ttu-id="9fa16-914">**GX_TYPE_TREE_VIEW**</span><span class="sxs-lookup"><span data-stu-id="9fa16-914">**GX_TYPE_TREE_VIEW**</span></span>


### <a name="styles"></a><span data-ttu-id="9fa16-915">Estilos</span><span class="sxs-lookup"><span data-stu-id="9fa16-915">Styles</span></span>

<span data-ttu-id="9fa16-916">Los estilos de los widgets se componen de elementos como las propiedades de borde (sin borde o borde elevado, hundido, fino o grueso), así como las propiedades de determinados tipos de widget, como se indicó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="9fa16-916">Widget styles consist of things like border properties (raised, recessed, thin, thick, or no boarder at all) as well as properties for specific widget types, as listed previously.</span></span> <span data-ttu-id="9fa16-917">Las marcas de estilo del widget suponen el método más sencillo para modificar la apariencia de cualquier widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-917">The widget style flags offer the simplest method for modifying the appearance of any widget.</span></span>
<span data-ttu-id="9fa16-918">El estilo inicial del widget es siempre un parámetro que se pasa a la función de creación específica del tipo de widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-918">The initial widget style is always a parameter passed to the widget type specific create function.</span></span>

### <a name="colors"></a><span data-ttu-id="9fa16-919">Colores</span><span class="sxs-lookup"><span data-stu-id="9fa16-919">Colors</span></span> 

<span data-ttu-id="9fa16-920">Los widgets se dibujan a sí mismos con los colores definidos en la tabla de colores del sistema.</span><span class="sxs-lookup"><span data-stu-id="9fa16-920">Widgets draw themselves using colors defined in the system color table.</span></span>
<span data-ttu-id="9fa16-921">Se definen identificadores de color para el fondo del lienzo, el color predeterminado de relleno del widget, el color de relleno del botón, el color de relleno de los widgets de texto, el color de relleno de la ventana y otros valores predeterminados de color.</span><span class="sxs-lookup"><span data-stu-id="9fa16-921">Color IDs are defined for canvas background, default widget fill color, button fill color, text widget fill color, window fill color, and several other default color values.</span></span> <span data-ttu-id="9fa16-922">Además, en los objetos **GX_WINDOW** se puede mostrar un mapa de bits o un papel tapiz mientras se rellena el cliente de la ventana.</span><span class="sxs-lookup"><span data-stu-id="9fa16-922">In addition, **GX_WINDOW** objects support displaying a bitmap or wallpaper as the window client is filled.</span></span>

<span data-ttu-id="9fa16-923">El método más sencillo para cambiar la combinación predeterminada de colores es usar GUIX Studio y crear o definir una combinación de colores que cumpla sus requisitos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-923">The simplest method of changing the default color scheme is to use GUIX Studio and create or define a color scheme that meets your requirements.</span></span>
<span data-ttu-id="9fa16-924">También puede definir la combinación de colores manualmente creando una matriz de valores de GX_COLOR e invocando la función de API gx_system_color_table_set.</span><span class="sxs-lookup"><span data-stu-id="9fa16-924">You can also define your color scheme manually by creating an array of GX_COLOR values and invoking the gx_system_color_table_set API function.</span></span>

### <a name="event-notification"></a><span data-ttu-id="9fa16-925">Notificación de evento</span><span class="sxs-lookup"><span data-stu-id="9fa16-925">Event Notification</span></span> 

<span data-ttu-id="9fa16-926">Los eventos de GUIX son solicitudes realizadas a uno o varios widgets para hacer una acción concreta y notificaciones para advertir a los widgets sobre las entradas de usuario y los cambios de estado internos del sistema.</span><span class="sxs-lookup"><span data-stu-id="9fa16-926">GUIX events are requests made to one or more widgets to perform a particular action and notifications to notify widgets of user input and internal system status changes.</span></span> <span data-ttu-id="9fa16-927">Por ejemplo, cuando un widget obtiene el foco, se envía el evento **GX_EVENT_FOCUS_GAINED** al widget por medio del servicio de API ***gx_system_event_send***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-927">For example, when a widget gains focus, the **GX_EVENT_FOCUS_GAINED** is sent to the widget via the ***gx_system_event_send*** API service.</span></span>

<span data-ttu-id="9fa16-928">Los eventos se pasan a través de la cola de eventos de GUIX; cada evento es una instancia de la estructura de datos **GX_EVENT**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-928">Events are passed through the GUIX event queue, and each event is an instance of the **GX_EVENT** data structure.</span></span> <span data-ttu-id="9fa16-929">Esta estructura de datos **GX_EVENT** se define en ***gx_api. h***; sin embargo, los campos más importantes de la estructura son **gx_event_type**, **gx_event_sender**, **gx_event_target** y **gx_event_payload**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-929">The **GX_EVENT** data structure is defined in ***gx_api.h***, however the most important fields of the structure are the **gx_event_type**, **gx_event_sender**, **gx_event_target**, and **gx_event_payload**.</span></span>

<span data-ttu-id="9fa16-930">El campo **gx_event_type** se utiliza para identificar la clase de evento concreta.</span><span class="sxs-lookup"><span data-stu-id="9fa16-930">The **gx_event_type** field is used to identify the particular event class.</span></span> <span data-ttu-id="9fa16-931">El tipo de evento indica si es, por ejemplo, un evento **GX_EVENT_PEN_DOWN** o un evento **GX_EVENT_TIMER**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-931">The event type indicates if this is, for example, a **GX_EVENT_PEN_DOWN** event or a **GX_EVENT_TIMER** event.</span></span> <span data-ttu-id="9fa16-932">**gx_event_payload** es una unión de varios campos de datos, de los que no todos son válidos para cada tipo de evento.</span><span class="sxs-lookup"><span data-stu-id="9fa16-932">The **gx_event_payload** is a union of various data fields, and they are not all valid for every event type.</span></span>
<span data-ttu-id="9fa16-933">Primero se usa el campo de tipo de evento, antes de examinar los demás campos de datos del evento.</span><span class="sxs-lookup"><span data-stu-id="9fa16-933">You use the event type field first, before examining the other event data fields.</span></span>

<span data-ttu-id="9fa16-934">El campo **gx_event_sender** contiene el identificador del widget que generó el evento, si este es una notificación de widget secundario.</span><span class="sxs-lookup"><span data-stu-id="9fa16-934">The **gx_event_sender** field contains the ID of the widget that generated the event if the event is a child-widget notification.</span></span>

<span data-ttu-id="9fa16-935">El campo **gx_event_target** se puede usar para enrutar eventos definidos por el usuario a una ventana o un widget determinado.</span><span class="sxs-lookup"><span data-stu-id="9fa16-935">The **gx_event_target** field can be used to route user-defined events to a particular window or widget.</span></span> <span data-ttu-id="9fa16-936">Si desea enviar un evento a una ventana determinada, debe dar a la ventana un valor de identificador único (para que se pueda identificar de forma positiva) y, al compilar el evento, colocar el valor del identificador de ventana en el campo **gx_event_target**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-936">If you want to send an event to a particular window, you should give the window a unique Id value (so that it can be positively identified), and when building the event place the window Id value in the **gx_event_target** field.</span></span> <span data-ttu-id="9fa16-937">Si no conoce el identificador de destino o si desea que el evento se enrute al widget que tiene el foco de entrada, asegúrese de establecer el campo **gx_event_target** en 0.</span><span class="sxs-lookup"><span data-stu-id="9fa16-937">If you don’t know the target Id or if you just want the event to be routed to the widget that has input focus, make sure to set the **gx_event_target** field to 0.</span></span>

<span data-ttu-id="9fa16-938">Por último, el campo **gx_event_payload** es una unión de varios tipos de datos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-938">Finally, the **gx_event_payload** field is a union of various data types.</span></span> <span data-ttu-id="9fa16-939">En el caso de los eventos **GX_EVENT_PEN_DOWN** y **GX_EVENT_PEN_UP**, el campo **gx_event_pointdata** indica la posición del lápiz mediante las coordenadas de píxeles x,y.</span><span class="sxs-lookup"><span data-stu-id="9fa16-939">For **GX_EVENT_PEN_DOWN** and **GX_EVENT_PEN_UP** events, the **gx_event_pointdata** field contains the x,y pixel coordinate the pen position.</span></span> <span data-ttu-id="9fa16-940">En el caso de los eventos de temporizador, el campo **gx_event_timer_id** contiene el identificador del temporizador expirado.</span><span class="sxs-lookup"><span data-stu-id="9fa16-940">For timer events, the **gx_event_timer_id** field contains the ID of the expired timer.</span></span> <span data-ttu-id="9fa16-941">En otros tipos de eventos se usan otros campos de datos de carga.</span><span class="sxs-lookup"><span data-stu-id="9fa16-941">Other payload data fields are utilized for other event types.</span></span> <span data-ttu-id="9fa16-942">La lista completa de los tipos de eventos predefinidos y sus campos de carga se define en el [Apéndice E Descripciones de eventos de GUIX](appendix-e.md).</span><span class="sxs-lookup"><span data-stu-id="9fa16-942">The complete list of pre-defined event types and their payload fields is defined in [Appendix E - GUIX Event Descriptions](appendix-e.md).</span></span>

<span data-ttu-id="9fa16-943">La aplicación también puede agregar sus propios eventos personalizados, empezando numéricamente después de la constante **GX_FIRST_APP_EVENT**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-943">The application can also add its own custom events, starting numerically after the constant **GX_FIRST_APP_EVENT**.</span></span> <span data-ttu-id="9fa16-944">Todos los números de evento después de esta constante están reservados para el uso de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-944">All event numbers after this constant are reserved for the application’s use.</span></span> <span data-ttu-id="9fa16-945">Por supuesto, el controlador de eventos de widget de la aplicación debe incluir procesamiento para estos eventos de aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-945">Of course, the application’s widget event handler must have processing for such application events.</span></span>

### <a name="event-processing"></a><span data-ttu-id="9fa16-946">Procesamiento de eventos</span><span class="sxs-lookup"><span data-stu-id="9fa16-946">Event Processing</span></span> 

<span data-ttu-id="9fa16-947">Hay una función de procesamiento de eventos de widget predeterminada para cada widget, ***gx_<tipo_de_widget>_event_process***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-947">There is a default widget event processing function for each and every widget, named ***gx_<widget-type>_event_process***.</span></span> <span data-ttu-id="9fa16-948">En la mayoría de los casos, la aplicación no tendrá que preocuparse por el control de eventos de ningún widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-948">In most cases, the application won’t need to worry about the event handling of any given widget.</span></span> <span data-ttu-id="9fa16-949">Sin embargo, en situaciones en las que la aplicación requiere procesamiento de eventos personalizado o complementario, puede invalidar la función de procesamiento predeterminada por su cuenta mediante la API de GUIX ***gx_widget_event_process_set***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-949">However, in situations where the application requires custom or supplemental event processing, the application may override the default processing function with its own via the GUIX API ***gx_widget_event_process_set***.</span></span> <span data-ttu-id="9fa16-950">Esta función invalida la función de procesamiento de eventos predeterminada con la función de procesamiento de eventos especificada en la API.</span><span class="sxs-lookup"><span data-stu-id="9fa16-950">This function overrides the default event processing function with the event function processing function specified in the API.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9fa16-951">Las funciones de procesamiento de eventos de la aplicación pueden aprovechar las ventajas del procesamiento predeterminado (es decir, evitar duplicarlo); basta con llamar directamente al procesamiento de ***gx_widget_event_process*** predeterminado.</span><span class="sxs-lookup"><span data-stu-id="9fa16-951">Application event processing functions can take advantage (i.e., not duplicate the processing) of the default processing by simply calling the default ***gx_widget_event_process*** processing directly.</span></span>

<span data-ttu-id="9fa16-952">La llamada al procesamiento de eventos se realiza exclusivamente desde el contexto del subproceso interno del sistema de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-952">Event processing is called exclusively from the context of the internal GUIX system thread.</span></span> <span data-ttu-id="9fa16-953">De esta manera, los requisitos de la pila para procesar el control de eventos solo se aplican al subproceso de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-953">In this way, the stack requirements to process the event handling only applies to the GUIX thread.</span></span>

### <a name="implementing-custom-event-processing-example"></a><span data-ttu-id="9fa16-954">Implementación del procesamiento personalizado de eventos (ejemplo)</span><span class="sxs-lookup"><span data-stu-id="9fa16-954">Implementing Custom Event Processing (example)</span></span> 

<span data-ttu-id="9fa16-955">Puede proporcionar su propia función de procesamiento de eventos para cualquier widget o ventana en el sistema de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-955">You can provide your own event processing function for any widget or window in the GUIX system.</span></span> <span data-ttu-id="9fa16-956">Si crea su propio tipo de widget personalizado, por lo general instalará el controlador de eventos personalizado en la función de creación del widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-956">If you are creating your own custom widget type, you will normally install your custom event handler in the widget creation function.</span></span> <span data-ttu-id="9fa16-957">Si solo va a ampliar o modificar la operación de una ventana o widget existente, puede llamar a la función de API gx_widget_event_process_set tras haber creado el widget o la ventana.</span><span class="sxs-lookup"><span data-stu-id="9fa16-957">If you are just extending or modifying the operation of an existing widget or window, you can call the gx_widget_event_process_set API function after the widget or window has been created.</span></span> <span data-ttu-id="9fa16-958">Casi siempre proporcionará su propio control de eventos para las ventanas de nivel superior (también denominadas pantallas) con el fin de procesar eventos generados por los controles secundarios.</span><span class="sxs-lookup"><span data-stu-id="9fa16-958">You will almost always provide your own event handling for your top-level windows (also called Screens) in order to process events generated by your child controls.</span></span> <span data-ttu-id="9fa16-959">El procesamiento de eventos generados por los controles secundarios de una pantalla es la forma principal de agregar funcionalidad a la aplicación GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-959">Processing event generated by the child controls of a screen is the main way you add functionality to your GUIX application.</span></span>

<span data-ttu-id="9fa16-960">Por ejemplo, supongamos que define una pantalla de nivel superior denominada "main_menu".</span><span class="sxs-lookup"><span data-stu-id="9fa16-960">As an example, suppose you define a top-level screen named “main_menu”.</span></span>
<span data-ttu-id="9fa16-961">Esta pantalla podría definirse mediante GUIX Studio o bien podría crear esta pantalla en el código de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-961">This screen might be defined using GUIX Studio, or you might create this screen in your application code.</span></span> <span data-ttu-id="9fa16-962">Si define la pantalla en GUIX Studio, simplemente escriba el nombre del controlador de eventos en el campo de propiedades de Studio para esa pantalla; el código de especificaciones generado por Studio instalará automáticamente el controlador de eventos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-962">If you define the screen within GUIX Studio, you simply type the name of your event handler in the Studio properties field for that screen, and the Studio generated specifications code will automatically install your event handler.</span></span> <span data-ttu-id="9fa16-963">En este caso, se llamará al controlador de eventos personalizado ***main_menu_event_handler***, que se debe codificar de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="9fa16-963">In this case, we will call the custom event handler ***main_menu_event_handler*** and it should be coded like this:</span></span>

```C
int main_menu_item; /* example: variable to keep track of selected item */

UINT main_menu_event_handler(GX_WINDOW *main_screen, GX_EVENT *event_ptr)
{
    UINT status = GX_SUCCESS;

    switch(event_ptr->gx_event_type)
    {
    /* this is an example for catching events from a child button */
    case GX_SIGNAL(IDB_CHILD_BUTTON, GX_EVENT_CLICKED):
        /* insert your button handler code here */
        break;

    case GX_EVENT_SHOW:
        /* add functionality to the show event handler */
        /* first, do default processing */
        status = gx_window_event_process(main_screen, event_ptr); /* note 1 */

        /* now add my own processing */
        main_menu_item = 0;
        break;

    default:
        /* pass all other events to base processing function */
        status = gx_window_event_process(main_screen, event_ptr); /* note 1 */
        break;
    }
    return status;
}
```

<span data-ttu-id="9fa16-964">En el ejemplo anterior, es importante tener en cuenta que, en el caso de los eventos del sistema como **GX_EVENT_SHOW** (eventos generados internamente para advertir a un widget de un cambio de estado), la aplicación debe pasar esos eventos a la función de procesamiento de eventos del widget base para asegurarse de que se produce el procesamiento normal.</span><span class="sxs-lookup"><span data-stu-id="9fa16-964">In the example above, it is important to notice that for system events like **GX_EVENT_SHOW** (events generated internally to notify a widget of a status change), the application must pass those events to the base widget event processing function to insure that the normal processing occurs.</span></span> <span data-ttu-id="9fa16-965">A continuación, la aplicación puede agregar lógica adicional según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="9fa16-965">The application can then add additional logic as desired.</span></span> <span data-ttu-id="9fa16-966">Todos los eventos que no se controlan desde la aplicación (el caso predeterminado anterior) también se deben pasar a la función de procesamiento de eventos base.</span><span class="sxs-lookup"><span data-stu-id="9fa16-966">All events that are not handled by the application (the default case above) should also be passed to the base event processing function.</span></span> <span data-ttu-id="9fa16-967">Puesto que este ejemplo correspondía a una pantalla de nivel superior basada en **GX_WINDOW**, la función de procesamiento de eventos predeterminada es gx_window_event_process.</span><span class="sxs-lookup"><span data-stu-id="9fa16-967">Since this example was for a top-level screen based on **GX_WINDOW**, the default event processing function is gx_window_event_process.</span></span>

### <a name="drawing-function"></a><span data-ttu-id="9fa16-968">Función de dibujo</span><span class="sxs-lookup"><span data-stu-id="9fa16-968">Drawing Function</span></span> 

<span data-ttu-id="9fa16-969">Todo el dibujo del widget se realiza de forma independiente del control de eventos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-969">All widget drawing is performed separately from the event handling.</span></span> <span data-ttu-id="9fa16-970">Esto es más eficaz porque el dibujo suele ser costoso en cuanto a ciclos de la CPU.</span><span class="sxs-lookup"><span data-stu-id="9fa16-970">This is more efficient because drawing is usually expensive in terms of CPU cycles.</span></span> <span data-ttu-id="9fa16-971">Mediante la implementación de un algoritmo de dibujo diferido, todos los eventos pendientes y los cambios de visualización asociados se pueden completar antes de que se realice cualquier dibujo, lo que evita el dibujo innecesario.</span><span class="sxs-lookup"><span data-stu-id="9fa16-971">By implementing a deferred drawing algorithm, all of the outstanding events and associated display changes can be completed before any drawing is done, thus eliminating wasted drawing.</span></span> <span data-ttu-id="9fa16-972">De forma similar al procesamiento de eventos, hay una función de dibujo de widget predeterminada para la mayoría de los widgets, con el nombre ***gx_<xxx>_draw***, donde xxx es el tipo de widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-972">Similar to event processing, there is a default widget drawing function for most widgets, named ***gx_<widget-type>_draw***, where xxx is the widget type.</span></span> <span data-ttu-id="9fa16-973">En la mayoría de los casos, la aplicación no tendrá que preocuparse por la función de dibujo de ningún widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-973">In most cases, the application won’t need to worry about the drawing function of any given widget.</span></span> <span data-ttu-id="9fa16-974">Sin embargo, en situaciones en las que la aplicación requiere procesamiento de eventos personalizado o complementario, puede invalidar la función de dibujo predeterminada por su cuenta mediante la API de GUIX ***gx_widget_draw_set***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-974">However, in situations where the application requires custom or supplemental drawing, the application may override the default drawing function with its own via the GUIX API ***gx_widget_draw_set***.</span></span> <span data-ttu-id="9fa16-975">Esta función permite que la aplicación proporcione su propia función de dibujo personalizada para cualquier widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-975">This function allows the application to provide its own customized drawing function for any widget.</span></span> <span data-ttu-id="9fa16-976">A su vez, esto permite que la aplicación defina tipos de widgets completos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-976">This further allows the application to define entire new widget types.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9fa16-977">Las funciones de dibujo de la aplicación pueden aprovechar las ventajas del dibujo predeterminado (es decir, no duplicar la codificación); basta con llamarlo directamente desde la función de dibujo invalidada.</span><span class="sxs-lookup"><span data-stu-id="9fa16-977">Application drawing functions can take advantage (i.e., not duplicate the coding) of the default drawing by simply calling it directly from the overridden drawing function.</span></span>

<span data-ttu-id="9fa16-978">La llamada al dibujo del widget se realiza exclusivamente desde el contexto del subproceso interno del sistema de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-978">Widget drawing is called exclusively from the context of the internal GUIX system thread.</span></span> <span data-ttu-id="9fa16-979">De esta manera, los requisitos de tiempo y de pila para realizar el dibujo solo se aplican al subproceso de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-979">In this way, the timing and stack requirements to perform the drawing only apply to the GUIX thread.</span></span>

### <a name="implementing-custom-drawing-example"></a><span data-ttu-id="9fa16-980">Implementación de dibujo personalizado (ejemplo)</span><span class="sxs-lookup"><span data-stu-id="9fa16-980">Implementing Custom Drawing (example)</span></span> 

<span data-ttu-id="9fa16-981">La referencia a la función de dibujo de cualquier widget se realiza por medio de un puntero de función indirecto que es miembro del bloque de control de GX_WIDGET.</span><span class="sxs-lookup"><span data-stu-id="9fa16-981">The drawing function for any widget is referenced through an indirect function pointer which is a member of the GX_WIDGET control block.</span></span> <span data-ttu-id="9fa16-982">Si usa GUIX Studio para definir el widget, puede instalar su propio puntero de función escribiendo el nombre de la función en el parámetro de función de dibujo de las propiedades del widget; Studio instalará el puntero de función cuando se cree el widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-982">If you use GUIX Studio to define your widget, you can install your own function pointer simply by typing the name of your function in the “Drawing Function” parameter of the widget properties, and Studio will install your function pointer for you when the widget is created.</span></span> <span data-ttu-id="9fa16-983">Si crea el widget en el código de la aplicación, debe usar la función de API ***gx_widget_draw_set*** para instalar la función de dibujo personalizada una vez creado el widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-983">If you create the widget in your application code, you must use the ***gx_widget_draw_set*** API function to install your custom drawing function after the widget has been created.</span></span>

<span data-ttu-id="9fa16-984">En este ejemplo, supongamos que desea personalizar la apariencia de un botón.</span><span class="sxs-lookup"><span data-stu-id="9fa16-984">For this example, let’s assume that you want to customize the appearance of a button.</span></span> <span data-ttu-id="9fa16-985">El botón tendrá un aspecto muy similar al de un botón creado con **GX_TEXT_BUTTON**, pero se agregará un pequeño mapa de bits verde "LED_ON" en la parte central derecha del botón cuando esté presionado y un pequeño mapa de bits rojo "LED_OFF" cuando no lo esté.</span><span class="sxs-lookup"><span data-stu-id="9fa16-985">The button will look very much like a **GX_TEXT_BUTTON**, but we will add drawing a small green “LED_ON” bitmap in the middle-right portion of the button when the button is pressed, and small “LED_OFF” bitmap when the button is not pressed.</span></span> <span data-ttu-id="9fa16-986">Queremos crear un botón que se parezca a las ilustraciones siguientes.</span><span class="sxs-lookup"><span data-stu-id="9fa16-986">We want to create a button that looks like the illustrations below.</span></span>

![Captura de pantalla del botón verde cuando está activado.](./media/guix/image4.jpg) <span data-ttu-id="9fa16-988">botón personalizado "activado"</span><span class="sxs-lookup"><span data-stu-id="9fa16-988">custom button “on”</span></span>

![Captura de pantalla del botón rojo cuando está desactivado.](./media/guix/image5.jpg) <span data-ttu-id="9fa16-990">botón personalizado "desactivado"</span><span class="sxs-lookup"><span data-stu-id="9fa16-990">custom button “off”</span></span>

<span data-ttu-id="9fa16-991">En este caso, escribiría una función de dibujo de botón similar a la siguiente.</span><span class="sxs-lookup"><span data-stu-id="9fa16-991">In this case, we would write a button drawing function that looks something like the following.</span></span>

```C
UINT my_button_draw(GX_TEXT_BUTTON *button)
{
    GX_PIXELMAP *map;
    ULONG button_style;
    INT xpos;
    INT ypos;

    /* first, do the normal text button drawing */
    gx_text_button_draw(button);

    /* now add our extra pixelmap */

    gx_widget_style_get(button, &button_style);

    if (button_style & GX_STYLE_BUTTON_PUSHED)
    {
        /* use the ON pixelmap */
        gx_context_pixelmap_get(GX_PIXELMAP_ID_LED_ON, &map);
    }
    else
    {
        /* use the OFF pixelmap */
        gx_context_pixelmap_get(GX_PIXELMAP_ID_LED_OFF, &map);
    }
    if (map)
    {
        /* draw it 20 pixels in from right edge */
        xpos = button->gx_widget_size.gx_rectangle_right;
        xpos -= map->gx_pixelmap_width + 20;

        /* and draw 10 pixels from the top edge */
        ypos = button->gx_widget_size.gx_rectangle_top + 10;

        /* draw the extra pixelmap on top of the button */
        gx_canvas_pixelmap_draw(xpos, ypos, map);
    }
}
```

## <a name="guix-drawing-context-component"></a><span data-ttu-id="9fa16-992">Componente de contexto de dibujo de GUIX</span><span class="sxs-lookup"><span data-stu-id="9fa16-992">GUIX Drawing Context Component</span></span> 

<span data-ttu-id="9fa16-993">El contexto de dibujo se crea dinámicamente, en tiempo de ejecución, a medida que GUIX realiza cada operación de actualización del lienzo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-993">The drawing context is created dynamically, at runtime, as GUIX performs each canvas refresh operation.</span></span> <span data-ttu-id="9fa16-994">Este contexto une el lienzo, el controlador de pantalla y el pincel que se usan para realizar las operaciones de dibujo actuales.</span><span class="sxs-lookup"><span data-stu-id="9fa16-994">The drawing context ties together the canvas, screen driver, and brush being used to perform the current drawing operations.</span></span>

<span data-ttu-id="9fa16-995">Para definirlo, se usa la estructura **GX_DRAW_CONTEXT**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-995">The drawing context is defined by the **GX_DRAW_CONTEXT** structure.</span></span>
<span data-ttu-id="9fa16-996">Esta estructura contiene variables que definen el recorte y la vista de la operación de dibujo actual, definen el lienzo actual y definen el controlador de pantalla actual en uso.</span><span class="sxs-lookup"><span data-stu-id="9fa16-996">This structure contains variables that define the clipping and view of the current drawing operation, define the current canvas, and define the current screen driver in use.</span></span> <span data-ttu-id="9fa16-997">La estructura **GX_DRAW_CONTEXT** también contiene el pincel que se utiliza para dibujar.</span><span class="sxs-lookup"><span data-stu-id="9fa16-997">The **GX_DRAW_CONTEXT** structure also holds the brush being used for drawing.</span></span> <span data-ttu-id="9fa16-998">El pincel del contexto de dibujo es el miembro con el que trabajará directamente en las funciones de dibujo personalizadas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-998">The draw context brush is the member that you will work directly with in your custom drawing functions.</span></span> <span data-ttu-id="9fa16-999">La estructura del pincel se define como se muestra en el código siguiente.</span><span class="sxs-lookup"><span data-stu-id="9fa16-999">The brush structure is defined as shown in the code below.</span></span>

```C
typedef struct GX_BRUSH_STRUCT
{
    GX_PIXELMAP *gx_brush_pixelmap;
    GX_FONT     *gx_brush_font;
    ULONG        gx_brush_line_pattern;
    ULONG        gx_brush_pattern_mask;
    GX_COLOR     gx_brush_fill_color;  
    GX_COLOR     gx_brush_line_color;  
    UINT         gx_brush_style;
    GX_VALUE     gx_brush_width;
    UCHAR        gx_brush_alpha;  
} GX_BRUSH;
```

<span data-ttu-id="9fa16-1000">El campo **gx_brush_pixelmap** define un mapa de píxeles que se va a usar para los rellenos de rectángulos y polígonos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1000">The **gx_brush_pixelmap** field defines a pixelmap to use for rectangle and polygon fills.</span></span> <span data-ttu-id="9fa16-1001">Este miembro no se usa a menos que **gx_brush_style** incluya el estilo **GX_BRUSH_PIXELMAP**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1001">This member is not used unless the **gx_brush_style** is includes the **GX_BRUSH_PIXELMAP** style.</span></span>

<span data-ttu-id="9fa16-1002">El miembro **gx_brush_font** define la fuente utilizada para dibujar el texto.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1002">The **gx_brush_font** member defines the font used for text drawing.</span></span>
<span data-ttu-id="9fa16-1003">El miembro **gx_brush_line_pattern** define el patrón utilizado para las líneas discontinuas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1003">The **gx_brush_line_pattern** member defines the pattern used for dashed lines.</span></span>
<span data-ttu-id="9fa16-1004">El miembro **gx_brush_style** es un conjunto de marcas de estilo que se pueden combinar mediante OR para definir todos los atributos del pincel.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1004">The **gx_brush_style** member is a set of style flags that can be OR’d together to fully define the brush attributes.</span></span> <span data-ttu-id="9fa16-1005">A continuación se indican las marcas de estilo de pincel disponibles.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1005">The available brush style flags include the following.</span></span>

<span data-ttu-id="9fa16-1006">**GX_BRUSH_OUTLINE**</span><span class="sxs-lookup"><span data-stu-id="9fa16-1006">**GX_BRUSH_OUTLINE**</span></span>  
<span data-ttu-id="9fa16-1007">**GX_BRUSH_SOLID_FILL**</span><span class="sxs-lookup"><span data-stu-id="9fa16-1007">**GX_BRUSH_SOLID_FILL**</span></span>  
<span data-ttu-id="9fa16-1008">**GX_BRUSH_PIXELMAP_FILL**</span><span class="sxs-lookup"><span data-stu-id="9fa16-1008">**GX_BRUSH_PIXELMAP_FILL**</span></span>  
<span data-ttu-id="9fa16-1009">**GX_BRUSH_ALIAS**</span><span class="sxs-lookup"><span data-stu-id="9fa16-1009">**GX_BRUSH_ALIAS**</span></span>  
<span data-ttu-id="9fa16-1010">**GX_BRUSH_UNDERLINE**</span><span class="sxs-lookup"><span data-stu-id="9fa16-1010">**GX_BRUSH_UNDERLINE**</span></span>  
<span data-ttu-id="9fa16-1011">**GX_BRUSH_ROUND**</span><span class="sxs-lookup"><span data-stu-id="9fa16-1011">**GX_BRUSH_ROUND**</span></span>

<span data-ttu-id="9fa16-1012">El miembro **gx_brush_width** define el ancho de línea para el dibujo de líneas o el ancho del contorno para el dibujo de formas con contornos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1012">The **gx_brush_width** member defines the line with for line drawing, or the outline width for outlined shape drawing.</span></span>

<span data-ttu-id="9fa16-1013">El miembro **gx_brush_line_color** define el color de primer plano del dibujo de líneas y del dibujo de texto.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1013">The **gx_brush_line_color** member defines the foreground color for line drawing and for text drawing.</span></span>

<span data-ttu-id="9fa16-1014">El miembro **gx_brush_fill_color** define el color de relleno sólido que se usa para las formas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1014">The **gx_brush_fill_color** member defines the solid fill color used for shape filling.</span></span> <span data-ttu-id="9fa16-1015">El componente de contexto de GUIX proporciona un conjunto de API diseñadas para que sea muy fácil modificar el pincel actual en el contexto activo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1015">The GUIX context component provides a set of APIs designed to make it very easy to modify the current brush within the active context.</span></span> <span data-ttu-id="9fa16-1016">Estas API incluyen, entre muchas otras, **gx_context_brush_define**, **gx_context_line_color_set**, **gx_context_fill_color_set** y **gx_context_font_set**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1016">These APIs include **gx_context_brush_define**, **gx_context_line_color_set**, **gx_context_fill_color_set**, **gx_context_font_set**, and many others.</span></span>

<span data-ttu-id="9fa16-1017">Los objetos secundarios heredan el contexto de dibujo de un objeto principal.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1017">The draw context of a parent object is inherited by the objects children.</span></span> <span data-ttu-id="9fa16-1018">En realidad, los objetos secundarios heredan un clon del contexto de dibujo principal cuando se invocan sus funciones de dibujo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1018">Actually, a clone of the parent drawing context is inherited by the child objects when their drawing functions are invoked.</span></span> <span data-ttu-id="9fa16-1019">El elemento secundario puede modificar el contexto sin afectar al dibujo principal, pero también puede heredar información del elemento principal, como el color y el estilo del pincel, si se desea.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1019">The child can modify the context without affecting the parent drawing, but it can also inherit information from the parent such as brush color and style if desired.</span></span>

## <a name="guix-window-component"></a><span data-ttu-id="9fa16-1020">Componente de ventana de GUIX</span><span class="sxs-lookup"><span data-stu-id="9fa16-1020">GUIX Window Component</span></span> 

<span data-ttu-id="9fa16-1021">El componente de ventana es responsable de todo el procesamiento de ventanas en GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1021">The window component is responsible for all window processing in GUIX.</span></span> <span data-ttu-id="9fa16-1022">Una ventana de GUIX es fundamentalmente un área de visualización única que puede contener uno o más widgets secundarios.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1022">A GUIX window is fundamentally a distinct display area that may contain one or more child widgets.</span></span> <span data-ttu-id="9fa16-1023">En GUIX, la ventana es simplemente una forma especial del objeto de widget fundamental.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1023">In GUIX, the window is actually just a special form of the fundamental widget object.</span></span>

<span data-ttu-id="9fa16-1024">Las ventanas de GUIX utilizan una implementación orientada a objetos con compatibilidad total de herencia.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1024">GUIX windows are implemented in an object oriented manner with full support of inheritance.</span></span> <span data-ttu-id="9fa16-1025">Esto se logra mediante ANSI C, lo que da como resultado unos requisitos de memoria y procesamiento lo más pequeños posible.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1025">This is accomplished using ANSI C, which results in the smallest possible memory and processing requirements.</span></span>

<span data-ttu-id="9fa16-1026">Las ventanas de GUIX amplían la funcionalidad del widget de GUIX principalmente agregando compatibilidad para el desplazamiento horizontal y vertical.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1026">GUIX windows extend the functionality of the GUIX widget primarily by adding support for horizontal and vertical scrolling.</span></span> <span data-ttu-id="9fa16-1027">Los objetos de ventana de GUIX pueden crear y mostrar automáticamente barras de desplazamiento y responder a la entrada de la barra de desplazamiento.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1027">GUIX window objects can automatically create and display scroll bars and respond to scroll bar input.</span></span> <span data-ttu-id="9fa16-1028">Las ventanas que se pueden mover también disponen de control de eventos integrado para permitir que la ventana se mueva o se arrastre según los eventos de entrada del lápiz.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1028">Movable windows also have built in event handling to allow the window to be moved or dragged based on pen input events.</span></span>
<span data-ttu-id="9fa16-1029">Por último, la ventana de GUIX responde a la recepción del foco de entrada moviendo la ventana al primer puesto en el orden Z de las ventanas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1029">Finally, GUIX window responds to receiving input focus by moving the window to the front of the window Z-order.</span></span>

<span data-ttu-id="9fa16-1030">La ventana de GUIX mantiene el concepto de *área cliente*, que es la parte interna de la ventana una vez que sus bordes y los objetos que no son de cliente, como las barras de desplazamiento, se quitan del área disponible.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1030">GUIX window maintains the concept of *client area*, which is the inner portion of the window once the window borders and non-client objects such as scrollbars are removed from the available area.</span></span> <span data-ttu-id="9fa16-1031">Los widgets secundarios del área cliente se recortan al área cliente de la ventana, en tanto que los elementos secundarios que no son de cliente, como las barras de desplazamiento, se pueden dibujar fuera del área cliente, aunque se siguen recortando a las dimensiones externas de la ventana.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1031">Client area child widgets are clipped to the window client area, while non-client children such as scroll bars are allowed to draw outside of the client area, but are still clipped to the window outer dimensions.</span></span>

<span data-ttu-id="9fa16-1032">Las ventanas se mantienen con un enfoque principal-secundario, donde los elementos secundarios heredan las características de su elemento principal.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1032">Windows are maintained in a parent-child manner, where the children inherit characteristics from their parent.</span></span> <span data-ttu-id="9fa16-1033">Las ventanas secundarias pueden tener a su vez sus propias ventanas secundarias, que también heredan varias características del elemento principal.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1033">Children windows may have their own child windows, again inheriting various characteristics from the parent.</span></span> <span data-ttu-id="9fa16-1034">Las características de cualquier ventana se pueden redefinir explícitamente por medio de diversas llamadas API de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1034">The characteristics of any window may be explicitly redefined via various GUIX API calls.</span></span>

### <a name="window-creation"></a><span data-ttu-id="9fa16-1035">Creación de ventanas</span><span class="sxs-lookup"><span data-stu-id="9fa16-1035">Window Creation</span></span> 

<span data-ttu-id="9fa16-1036">Un objeto de ventana se puede crear durante la inicialización o en cualquier momento durante la ejecución de los subprocesos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1036">A window object can be created during initialization or anytime during the execution of application threads.</span></span> <span data-ttu-id="9fa16-1037">No hay ningún límite en el número de objetos de ventana que puede crear una aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1037">There is no limit on the number of window objects that can be created by an application.</span></span> <span data-ttu-id="9fa16-1038">Tampoco hay ningún límite en el número de elementos secundarios que puede tener una ventana.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1038">There is also no limit on the number of children any window may have.</span></span>

### <a name="window-control-block"></a><span data-ttu-id="9fa16-1039">Bloque de control de la ventana</span><span class="sxs-lookup"><span data-stu-id="9fa16-1039">Window Control Block</span></span> 

<span data-ttu-id="9fa16-1040">Las características de cada objeto de ventana se encuentran en su bloque de control **GX_WINDOW** y se definen en **_gx_api.h_**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1040">The characteristics of each window object are found in its control block **GX_WINDOW** and are defined in **_gx_api.h_**.</span></span> <span data-ttu-id="9fa16-1041">La aplicación proporciona la memoria necesaria para un objeto de ventana, que se puede ubicar en cualquier parte de la memoria.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1041">The memory required for a window object is provided by the application and can be located anywhere in memory.</span></span> <span data-ttu-id="9fa16-1042">Sin embargo, es más habitual que el bloque de control del objeto de ventana forme una estructura global mediante su definición fuera del ámbito de cualquier función.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1042">However, it is most common to make the window object control block a global structure by defining it outside the scope of any function.</span></span>

### <a name="root-window"></a><span data-ttu-id="9fa16-1043">Ventana raíz</span><span class="sxs-lookup"><span data-stu-id="9fa16-1043">Root Window</span></span> 

<span data-ttu-id="9fa16-1044">GUIX requiere lo que se denomina ventana raíz para cada lienzo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1044">GUIX requires what is called a root window for each canvas.</span></span> <span data-ttu-id="9fa16-1045">La ventana raíz no tiene bordes y tiene las mismas dimensiones que el lienzo al que está asociada.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1045">The root window is borderless and has the same dimensions as the canvas to which it is attached.</span></span> <span data-ttu-id="9fa16-1046">Se usa principalmente como contenedor para todos los widgets y ventanas de primer nivel.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1046">It is used primarily as a container for all first-level widgets and windows.</span></span> <span data-ttu-id="9fa16-1047">Normalmente, la aplicación crea la ventana raíz por medio de la función de API ***gx_window_root_create***, poco después de la creación de la pantalla y el lienzo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1047">The root window is typically created by the application via the API function ***gx_window_root_create***, shortly after the creation of the screen and canvas.</span></span> <span data-ttu-id="9fa16-1048">Si usa la función gx_studio_display_configure generada por Studio, se puede devolver la dirección de la ventana raíz en la ubicación que se pasa como último parámetro de esta función.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1048">If you use the Studio generated function gx_studio_display_configure, the address of the root window can be returned in the location passed as the last parameter to this function.</span></span>

<span data-ttu-id="9fa16-1049">De manera predeterminada, una ventana raíz no puede moverse y, en el caso más simple, tiene el tamaño del lienzo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1049">A root window defaults to being un-moveable, and in the simplest case the root window is the size of the canvas.</span></span> <span data-ttu-id="9fa16-1050">La ventana raíz de hecho dibuja el fondo de la pantalla, de modo que, para cambiar el color de fondo de la pantalla o para mostrar el papel tapiz de fondo, se asignaría un color o un papel tapiz a la ventana raíz.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1050">The root window in effect draws the display background, so to change the display background color or to display background wallpaper you would assign a color or wallpaper to the root window.</span></span>

<span data-ttu-id="9fa16-1051">Si se puede mover una ventana raíz, no cambia su posición en el lienzo como haría una ventana secundaria, sino que mueve el propio lienzo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1051">If a root window is moveable, it moves not by changing its position on the canvas as a child window would do, but by moving the canvas itself.</span></span>
<span data-ttu-id="9fa16-1052">Esta característica permite a la ventana raíz de GUIX aprovechar el hardware compatible con varios búferes de cuadros con registros de desplazamiento de hardware.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1052">This feature allows the GUIX root window to leverage hardware that supports multiple frame buffers with hardware offset registers.</span></span>

### <a name="background"></a><span data-ttu-id="9fa16-1053">Fondo</span><span class="sxs-lookup"><span data-stu-id="9fa16-1053">Background</span></span> 

<span data-ttu-id="9fa16-1054">Los fondos de las ventanas son colores sólidos o imágenes de mapa de bits.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1054">Window backgrounds are either solid colors or bitmap images.</span></span> <span data-ttu-id="9fa16-1055">Hay un fondo de ventana predeterminado en el nivel de sistema que proporciona el valor predeterminado para el conjunto inicial de ventanas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1055">There is a default window background at the system level which provides the default for the initial set of windows.</span></span> <span data-ttu-id="9fa16-1056">Por supuesto, cualquier fondo de ventana se puede cambiar a través de las API de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1056">Of course, any window background can be changed via the GUIX API.</span></span>

<span data-ttu-id="9fa16-1057">Para cambiar el fondo de color sólido de una ventana, use la API ***gx_widget_fill_color_set***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1057">To change the solid color background of a window, use the ***gx_widget_fill_color_set*** API.</span></span> <span data-ttu-id="9fa16-1058">Para asignar un papel tapiz de fondo a una ventana, use la API ***gx_window_wallpaper_set***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1058">To assign a background wallpaper to a window, use the ***gx_window_wallpaper_set*** API.</span></span>

### <a name="scrolling"></a><span data-ttu-id="9fa16-1059">Desplazamiento</span><span class="sxs-lookup"><span data-stu-id="9fa16-1059">Scrolling</span></span> 

<span data-ttu-id="9fa16-1060">GUIX admite el desplazamiento de ventanas estándar, ya sea horizontal o vertical, cuando el área necesaria para mostrar los elementos secundarios de la ventana supera el tamaño actual de la ventana.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1060">GUIX supports standard window scrolling when area required to display the window children exceeds the current size of the window – horizontally and/or vertically.</span></span> <span data-ttu-id="9fa16-1061">Para habilitar el desplazamiento, la aplicación debe crear las barras de desplazamiento deseadas y asociarlas a la ventana.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1061">To enable scrolling, the application must create the desired scroll bars and attach them to the window.</span></span>

<span data-ttu-id="9fa16-1062">El componente de ventana de GUIX proporciona una implementación de desplazamiento predeterminada que se basa en el tamaño del área cliente de la ventana y la extensión de todos los widgets secundarios.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1062">The GUIX window component provides a default scrolling implementation based on the size of the window client area and the extent of the all child widgets.</span></span> <span data-ttu-id="9fa16-1063">Las aplicaciones también pueden proporcionar su propia implementación e interpretación de desplazamiento invalidando la función ***gx_window_scroll_info_get*** en una ventana determinada.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1063">Applications can also provide their own scrolling implementation and interpretation by overriding the ***gx_window_scroll_info_get*** function for a particular window.</span></span>

### <a name="event-notification"></a><span data-ttu-id="9fa16-1064">Notificación de evento</span><span class="sxs-lookup"><span data-stu-id="9fa16-1064">Event Notification</span></span> 

<span data-ttu-id="9fa16-1065">La función de procesamiento de eventos de ventana predeterminada difiere del procesamiento de eventos de GX_WIDGET principalmente en el control de los eventos de desplazamiento y ajuste de tamaño.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1065">The default window event processing function differs from the GX_WIDGET event processing primarily in the handling of scrolling and sizing events.</span></span> <span data-ttu-id="9fa16-1066">GX_WINDOW proporciona controladores predeterminado para estos eventos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1066">GX_WINDOW provided defalt handlers for scrolling and sizing events.</span></span>

<span data-ttu-id="9fa16-1067">La aplicación también puede agregar sus propios eventos personalizados, empezando numéricamente después de la constante **GX_FIRST_APP_EVENT**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1067">The application can also add its own custom events, starting numerically after the constant **GX_FIRST_APP_EVENT**.</span></span> <span data-ttu-id="9fa16-1068">Todos los números de evento después de esta constante están reservados para el uso de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1068">All event numbers after this constant are reserved for the application’s use.</span></span> <span data-ttu-id="9fa16-1069">Por supuesto, el controlador de eventos de ventana de la aplicación debe incluir procesamiento para estos eventos de aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1069">Of course, the application’s window event handler must have processing for such application events.</span></span>

### <a name="event-processing"></a><span data-ttu-id="9fa16-1070">Procesamiento de eventos</span><span class="sxs-lookup"><span data-stu-id="9fa16-1070">Event Processing</span></span> 

<span data-ttu-id="9fa16-1071">Al igual que en todos los demás tipos de widgets, hay una función de procesamiento de eventos de ventana predeterminada para cada ventana, denominada ***gx_window_event_process***.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1071">Just like all other widget types, there is a default window event processing function for every window, named ***gx_window_event_process***.</span></span> <span data-ttu-id="9fa16-1072">Normalmente, invalidará esta función de control de eventos con su propio controlador de eventos en las ventanas que cree.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1072">You will usually override this event handling function with your own event handler in the windows that you create.</span></span> <span data-ttu-id="9fa16-1073">Así es como responderá a los eventos y tomará medidas en función de los eventos generados por los controles secundarios de la ventana.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1073">This is how you will respond to events and take action based on events generated by the window child controls.</span></span>

<span data-ttu-id="9fa16-1074">Es importante recordar que debe invocar la función base ***gx_window_event_process*** para los eventos del sistema de GUIX si invalida ese controlador de eventos, para permitir que se produzca el control de eventos predeterminado además de cualquier acción que agregue al controlador de eventos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1074">It is important to remember to invoke the base ***gx_window_event_process*** function for GUIX system events if you override that event handler, to allow the default event handling to occur in addition to whatever action you are adding to the event handler.</span></span> <span data-ttu-id="9fa16-1075">Por ejemplo, si proporciona un controlador personalizado para el evento **GX_EVENT_SHOW** y no pasa este evento a ***gx_window_event_process***, la ventana nunca se hará visible.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1075">For example if you provide a custom handler for the **GX_EVENT_SHOW** event, and do not pass this event to ***gx_window_event_process***, your window will never become visible.</span></span>
<span data-ttu-id="9fa16-1076">Para proporcionar un controlador de eventos personalizado para una ventana, use la función ***gx_widget_event_process_set*** para definir la dirección del controlador de eventos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1076">To provide a custom event handler for a window, use the ***gx_widget_event_process_set*** function to define the address of your event handler.</span></span> <span data-ttu-id="9fa16-1077">Esta función invalida la función de procesamiento de eventos predeterminada con la función de procesamiento de eventos especificada en la API.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1077">This function overrides the default event processing function with the event function processing function specified in the API.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9fa16-1078">Las funciones de procesamiento de eventos de aplicación pueden aprovechar las ventajas del procesamiento predeterminado (es decir, evitar duplicarlo); basta con llamar directamente al procesamiento de ***gx_window_event_process*** predeterminado.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1078">Application event processing functions can take advantage (i.e., not duplicate the processing) of the default processing by simply calling the default ***gx_window_event_process*** directly.</span></span>

<span data-ttu-id="9fa16-1079">La llamada al procesamiento de eventos se realiza exclusivamente desde el contexto del subproceso interno del sistema de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1079">Event processing is called exclusively from the context of the internal GUIX system thread.</span></span> <span data-ttu-id="9fa16-1080">De esta manera, los requisitos de la pila para procesar el control de eventos solo se aplican al subproceso de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1080">In this way, the stack requirements to process the event handling only applies to the GUIX thread.</span></span>

## <a name="guix-image-reader-component"></a><span data-ttu-id="9fa16-1081">Componente de lector de imágenes de GUIX</span><span class="sxs-lookup"><span data-stu-id="9fa16-1081">GUIX Image Reader Component</span></span> 

<span data-ttu-id="9fa16-1082">El componente de lector de imágenes proporciona utilidades y funciones de API para descomprimir imágenes comprimidas sin procesar al formato de mapa de píxeles de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1082">The image reader component provides utilities and API functions to decompress raw compressed images to GUIX pixelmap format.</span></span> <span data-ttu-id="9fa16-1083">Se admiten los datos de imagen JPEG y PNG sin procesar, con formatos adicionales reservados para futuras versiones.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1083">JPEG and PNG format raw image data are supported, with additional formats reserved for future releases.</span></span>

<span data-ttu-id="9fa16-1084">Tenga en cuenta que en la gran mayoría de las aplicaciones de GUIX no es necesario el componente de lector de imágenes de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1084">Note that for the vast majority of GUIX applications, the GUIX Image Reader component is not required.</span></span> <span data-ttu-id="9fa16-1085">La mayoría de las aplicaciones se basan en la aplicación GUIX Studio para convertir los recursos gráficos con formato JPEG y PNG en recursos **GX_PIXELMAP** compatibles con GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1085">Most applications rely on the GUIX Studio application to convert JPEG and PNG format graphics assets into GUIX compatible **GX_PIXELMAP** resources.</span></span> <span data-ttu-id="9fa16-1086">El componente de lector de imágenes de GUIX se emplea cuando los recursos gráficos sin procesar solo se conocen en tiempo de ejecución, o cuando las restricciones de almacenamiento del sistema impiden el almacenamiento de recursos en formato **GX_PIXELMAP**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1086">The GUIX image reader component is utilized when the raw graphics assets are known only at runtime, or when the system storage constraints prevent storing resources in **GX_PIXELMAP** format.</span></span> <span data-ttu-id="9fa16-1087">Los datos de imagen con formato JPEG y PNG suelen ser más compactos que el formato **GX_PIXELMAP**; sin embargo, hay una sobrecarga en tiempo de ejecución asociada a la descompresión y la conversión del espacio de colores de estos tipos de imagen de forma dinámica.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1087">JPEG and PNG format image data is generally more compact than **GX_PIXELMAP** format, however there is considerable runtime overhead associated with performing decompression and color space conversion of these image types dynamically.</span></span>

<span data-ttu-id="9fa16-1088">Si se pasan imágenes JPEG o PNG sin procesar a la función de API gx_canvas_pixelmap_draw, GUIX descomprime y dibuja dinámicamente los datos JPEG o PNG.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1088">If raw format JPEG or PNG images are passed to the gx_canvas_pixelmap_draw API function, GUIX dynamically decompresses and draws the JPEG or PNG data.</span></span> <span data-ttu-id="9fa16-1089">Tenga en cuenta que esto afectará de forma importante a la velocidad del dibujo en tiempo de ejecución. No se recomienda pasar datos de imagen sin procesar a la función gx_canvas_pixelmap_draw a menos que esté usando un destino de hardware que admita la descompresión de JPEG o PNG asistida por hardware.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1089">Note that this will have a significant negative impact on runtime drawing speed, and passing RAW format image data to the gx_canvas_pixelmap_draw function is not recommended unless you are using a hardware target that supports hardware assisted JPEG or PNG decompression.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9fa16-1090">Al pasar imágenes JPEG o PNG sin procesar a la API gx_canvas_pixelmap_draw, se produce una sobrecarga en tiempo de ejecución importante en la mayoría del hardware de destino.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1090">Passing raw JPEG or PNG formatted images to the gx_canvas_pixelmap_draw API incurs significant runtime overhead for most target hardware.</span></span>

<span data-ttu-id="9fa16-1091">Como alternativa, los datos JPEG y PNG sin procesar se pueden convertir al formato GX_PIXELMAP en tiempo de ejecución mediante el componente de lector de imágenes.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1091">As an alternative, raw JPEG and PNG data may be converted to GX_PIXELMAP format at runtime using the Image Reader component.</span></span>
<span data-ttu-id="9fa16-1092">Los mapas de píxeles generados de esta manera se pueden usar y dibujar del mismo modo que los mapas de píxeles generados por Studio e incluidos en el archivo de recursos.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1092">Pixelmaps produced in this way can be used and drawn just like pixelmaps produced by Studio and contained within your resource file.</span></span> <span data-ttu-id="9fa16-1093">Esto permite que la aplicación realice la descompresión, la interpolación y la conversión del espacio de colores de la imagen una vez (normalmente durante el inicio del programa) en lugar de realizar estas operaciones cada vez que se dibuja la imagen.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1093">This allows your application to perform the image decompression, dithering, and color space conversion one time (usually during program startup) rather than performing these operations each time the image is drawn.</span></span>

<span data-ttu-id="9fa16-1094">Las funciones del componente de lector de imágenes incluyen:</span><span class="sxs-lookup"><span data-stu-id="9fa16-1094">The Image Reader component functions include:</span></span>

<span data-ttu-id="9fa16-1095">***gx_image_reader_create***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1095">***gx_image_reader_create***</span></span>  
<span data-ttu-id="9fa16-1096">***gx_image_reader_palette_set***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1096">***gx_image_reader_palette_set***</span></span>  
<span data-ttu-id="9fa16-1097">***gx_image_reader_start***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1097">***gx_image_reader_start***</span></span>

## <a name="guix-animation-component"></a><span data-ttu-id="9fa16-1098">Componente de animación de GUIX</span><span class="sxs-lookup"><span data-stu-id="9fa16-1098">GUIX Animation Component</span></span> 

<span data-ttu-id="9fa16-1099">El componente de animación de GUIX es un conjunto de funciones y servicios que se usan en las automatizaciones de transición de pantallas y widgets.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1099">The GUIX Animation component is a set of functions and services used to automate screen and widget transition automations.</span></span> <span data-ttu-id="9fa16-1100">Este componente admite animaciones de tipo fundido de entrada y salida, movimiento o deslizamiento en cualquier tipo de widget.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1100">The GUIX Animation component supports fading in, fading out, and movement or slide type animations of any widget type.</span></span>

<span data-ttu-id="9fa16-1101">Las animaciones de tipo fundido se pueden lograr cambiando el valor alfa interno de los widgets de fundido (si **GX_BRUSH_ALPHA_SUPPORT** está habilitado) o dibujando cualquier colección de widgets en un lienzo de memoria independiente que después se combina con el fondo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1101">Fade type animations can be supported either by varying the fading widget(s) internal alpha value (if **GX_BRUSH_ALPHA_SUPPORT** is enabled), or by drawing any collection of widgets to a separate memory canvas when is then blended with the background.</span></span> <span data-ttu-id="9fa16-1102">En el caso de los destinos de hardware que admiten varias capas gráficas de hardware, la compatibilidad con los efectos de fundido suave se consigue mejor con este enfoque de combinación de lienzos, que suele necesitar muy poco ancho de banda de CPU de núcleo.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1102">For hardware targets that support multiple hardware graphics layers, support for smooth fading effects is best accomplished using this canvas blending approach, often with very little core CPU bandwidth required.</span></span> <span data-ttu-id="9fa16-1103">En el caso de los destinos de hardware que no admiten varias capas gráficas, se admite la combinación utilizando el valor alfa del pincel de GUIX cuando se ejecuta con una profundidad de color de 16 bpp y superior.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1103">For hardware targets that do not support multiple graphics layers, blending using the GUIX brush alpha value is supported when running at 16 bpp and higher color depths.</span></span>

<span data-ttu-id="9fa16-1104">Si una animación debe usar un lienzo de dibujo independiente, el componente de animación de GUIX proporciona el servicio de API gx_animation_canvas_define para este fin.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1104">If an animation should use a separate drawing canvas, the GUIX Animation component provides the API service gx_animation_canvas_define for this purpose.</span></span> <span data-ttu-id="9fa16-1105">Otros tipos de animación no requieren un lienzo independiente, pero lo utilizarán si está disponible.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1105">Other animation types do not require a separate canvas, but they will utilize it if it is available.</span></span> <span data-ttu-id="9fa16-1106">Así se consigue hacer el mejor uso posible de cualquier compatibilidad de hardware subyacente para varias superficies de hardware.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1106">This makes the best possible use of any underlying hardware support for multiple hardware surfaces.</span></span>

<span data-ttu-id="9fa16-1107">Las variables que controlan una animación se definen mediante dos bloques de control.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1107">The variables controlling an animation are defined by two control blocks.</span></span> <span data-ttu-id="9fa16-1108">En primer lugar, el bloque de control **GX_ANIMATION**, que define el controlador de animación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1108">First, the **GX_ANIMATION** control block which defines the animation controller.</span></span> <span data-ttu-id="9fa16-1109">Este controlador de animación es el motor que ejecuta la secuencia de animación que se define.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1109">The animation controller is the driving engine that executes the animation sequence you define.</span></span> <span data-ttu-id="9fa16-1110">Un solo controlador de animación se puede volver a usar muchas veces para ejecutar muchas secuencias de animación diferentes.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1110">A single animation controller can be re-used many times to run many different animation sequences.</span></span> <span data-ttu-id="9fa16-1111">Si necesita ejecutar varias secuencias de animación simultáneamente, puede crear varios controladores de animación con **GX_ANIMATION**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1111">If you need to run multiple animation sequences simultaneously, you can create multiple **GX_ANIMATION** animation controllers.</span></span>

<span data-ttu-id="9fa16-1112">El componente de sistema de GUIX puede proporcionar un bloque reutilizable de estructuras de control **GX_ANIMATION**, que la aplicación puede solicitar cuando se necesite animación y que se devuelve automáticamente al grupo del sistema cuando se completa la secuencia de animación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1112">The GUIX system component can provide a re-usable block of **GX_ANIMATION** control structures, which can be requested by the application when and animation is needed and are automatically returned to the system pool when the animation sequence is completed.</span></span> <span data-ttu-id="9fa16-1113">Esto hace que la aplicación no tenga que definir estáticamente una estructura **GX_ANIMATION** para cada animación que se puede implementar.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1113">This frees the application from statically defining a **GX_ANIMATION** structure for every animation that might be implemented.</span></span> <span data-ttu-id="9fa16-1114">El tamaño de este grupo de estructuras **GX_ANIMATION** se define mediante la constante **GX_ANIMATION_POOL_SIZE**, cuyo valor predeterminado es 6, lo que significa que, de forma predeterminada, se pueden asignar 6 animaciones simultáneas desde el grupo del sistema.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1114">The size of this pool of **GX_ANIMATION** structures is defined by the constant **GX_ANIMATION_POOL_SIZE**, which defaults to 6, meaning that by default 6 simultaneous animations can be allocated from the system pool.</span></span> <span data-ttu-id="9fa16-1115">Esta constante se puede modificar en el archivo de encabezado gx_user.h si se requieren más animaciones simultáneas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1115">This constant can of course be re-defined in the gx_user.h header file is more simultaneous animations are required.</span></span> <span data-ttu-id="9fa16-1116">Si **GX_ANIMATION_POOL_SIZE** se establece en cero, el componente de sistema de GUIX no proporciona un grupo de animaciones ni servicios relacionados.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1116">If **GX_ANIMATION_POOL_SIZE** is set to zero, then the GUIX system component does not provide an animation pool or related services.</span></span>

<span data-ttu-id="9fa16-1117">El segundo bloque de control o estructura que se usa para definir una animación es la estructura **GX_ANIMATION_INFO**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1117">The second control block or structure used to define an animation is the **GX_ANIMATION_INFO** structure.</span></span> <span data-ttu-id="9fa16-1118">Esta estructura se utiliza para definir una secuencia de animación concreta.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1118">This structure is used to define one particular animation sequence.</span></span> <span data-ttu-id="9fa16-1119">Esta estructura de información se pasa al controlador de animación para iniciar una secuencia de animación mediante el servicio de API gx_animation_start.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1119">You pass this information structure to your animation controller to initiate an animation sequence using the gx_animation_start API service.</span></span> <span data-ttu-id="9fa16-1120">La estructura **GX_ANIMATION_INFO** contiene los siguientes campos:</span><span class="sxs-lookup"><span data-stu-id="9fa16-1120">The **GX_ANIMATION_INFO** structure contains the following fields:</span></span>

```C
typedef struct GX_ANIMATION_INFO_STRUCT
{
    GX_WIDGET *gx_animation_target;
    GX_WIDGET *gx_animation_parent;
    GX_WIDGET *gx_animation_screen_list;
    USHORT gx_animation_style;
    USHORT gx_animation_id;
    USHORT gx_animation_start_delay;
    USHORT gx_animation_frame_interval;
    GX_POINT gx_animation_start_position;
    GX_POINT gx_animation_end_position;
    GX_UBYTE gx_animation_start_alpha;
    GX_UBYTE gx_animation_end_alpha;
    GX_UBYTE gx_animation_steps;
} GX_ANIMATION_INFO;
```

<span data-ttu-id="9fa16-1121">El miembro **gx_animation_target** define el widget de destino sobre el que actuará el controlador de animación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1121">The **gx_animation_target** member defines the target widget that the animation controller will act upon.</span></span>

<span data-ttu-id="9fa16-1122">El miembro **gx_animation_parent** define el widget principal, si existe, al que se asociará el widget de destino cuando se complete la secuencia de animación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1122">The **gx_animation_parent** member defines the parent widget, if any, to which the target widget will be attached when the animation sequence is complete.</span></span> <span data-ttu-id="9fa16-1123">gx_animation_parent también es el destinatario del evento GX_ANIMATION_COMPLETE que se genera cuando se completa una animación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1123">The gx_animation_parent is also the recipient of the GX_ANIMATION_COMPLETE event that is generated when an animation is completed.</span></span>

<span data-ttu-id="9fa16-1124">El miembro **gx_animation_screen_list** define una lista de widgets para animaciones de deslizamiento de pantalla controladas por entradas de lápiz.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1124">The **gx_animation_screen_list** member defines a widget list for pen-input-driven screen slide animations.</span></span> <span data-ttu-id="9fa16-1125">La lista de widgets debe terminar con el puntero GX_NULL, y cada widget de la lista debe tener las mismas dimensiones x,y que el miembro gx_animation_parent.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1125">The widge list should be terminated with GX_NULL pointer, and each widget in the list should have the same x,y dimensions as the gx_animation_parent.</span></span>

<span data-ttu-id="9fa16-1126">El miembro **gx_animation_style** es una máscara de bits que define el tipo de animación que se va a realizar y las opciones asociadas.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1126">The **gx_animation_style** is a bitmask defining the type of animation to be performed and associated options.</span></span> <span data-ttu-id="9fa16-1127">A continuación se indican las marcas de estilo de animación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1127">The animation style flags include the following.</span></span>

| <span data-ttu-id="9fa16-1128">Marca de&nbsp;estilo de&nbsp;animación</span><span class="sxs-lookup"><span data-stu-id="9fa16-1128">Animation&nbsp;Style&nbsp;Flag</span></span> | <span data-ttu-id="9fa16-1129">Descripción</span><span class="sxs-lookup"><span data-stu-id="9fa16-1129">Description</span></span> |
| --- | --- |
| <span data-ttu-id="9fa16-1130">GX_ANIMATION_TRANSLATE</span><span class="sxs-lookup"><span data-stu-id="9fa16-1130">GX_ANIMATION_TRANSLATE</span></span> | <span data-ttu-id="9fa16-1131">Solicita una animación de tipo deslizamiento o fundido.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1131">Request a slide or fade type animation.</span></span> |
| <span data-ttu-id="9fa16-1132">GX_ANIMATION_SCREEN_DRAG</span><span class="sxs-lookup"><span data-stu-id="9fa16-1132">GX_ANIMATION_SCREEN_DRAG</span></span> | <span data-ttu-id="9fa16-1133">Solicita una animación de arrastre de pantalla controlada por la entrada de lápiz.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1133">Request a pen-input driven screen drag animation.</span></span> |

<span data-ttu-id="9fa16-1134">Las siguientes marcas se pueden usar en combinación con animaciones de tipo **SCREEN_DRAG**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1134">The following flags can be used in combination with **SCREEN_DRAG** type animations.</span></span>

| <span data-ttu-id="9fa16-1135">Marcas de&nbsp;arrastre de&nbsp;pantalla</span><span class="sxs-lookup"><span data-stu-id="9fa16-1135">Screen&nbsp;Drag&nbsp;Flags</span></span> | <span data-ttu-id="9fa16-1136">Descripción</span><span class="sxs-lookup"><span data-stu-id="9fa16-1136">Description</span></span> |
| --- | --- |
| <span data-ttu-id="9fa16-1137">GX_ANIMATION_WRAP</span><span class="sxs-lookup"><span data-stu-id="9fa16-1137">GX_ANIMATION_WRAP</span></span> | <span data-ttu-id="9fa16-1138">La lista de pantallas debe ajustarse del final al principio.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1138">The screen list should wrap from end back to start.</span></span> |
| <span data-ttu-id="9fa16-1139">GX_ANIMATION_HORIZONTAL</span><span class="sxs-lookup"><span data-stu-id="9fa16-1139">GX_ANIMATION_HORIZONTAL</span></span> | <span data-ttu-id="9fa16-1140">Arrastre de pantalla permitido en dirección horizontal.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1140">Screen drag allowed in horizontal direction.</span></span>  |
| <span data-ttu-id="9fa16-1141">GX_ANIMATION_VERTICAL</span><span class="sxs-lookup"><span data-stu-id="9fa16-1141">GX_ANIMATION_VERTICAL</span></span> | <span data-ttu-id="9fa16-1142">Arrastre de pantalla permitido en dirección vertical.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1142">Screen drag allowed in vertical direction.</span></span> |

<span data-ttu-id="9fa16-1143">La marca siguiente se puede utilizar en combinación con las animaciones de traslación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1143">The following flag can be used in combination with translate animations.</span></span>

| <span data-ttu-id="9fa16-1144">Marcas de&nbsp;animaciones de&nbsp;traslación</span><span class="sxs-lookup"><span data-stu-id="9fa16-1144">Translate&nbsp;Animations&nbsp;Flags</span></span> | <span data-ttu-id="9fa16-1145">Descripción</span><span class="sxs-lookup"><span data-stu-id="9fa16-1145">Description</span></span> |
| --- | --- |
| <span data-ttu-id="9fa16-1146">GX_ANIMATION_DETACH</span><span class="sxs-lookup"><span data-stu-id="9fa16-1146">GX_ANIMATION_DETACH</span></span> | <span data-ttu-id="9fa16-1147">El destino de la animación se desasocia del elemento principal de la animación cuando se completa la animación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1147">Detach the animation target from the animation parent when the animation is completed.</span></span> <span data-ttu-id="9fa16-1148">Si el destino se asignó y creó dinámicamente mediante el control de eventos automatizado generado por GUIX Studio, el destino se eliminará una vez desasociado.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1148">If the target was dynamically allocated and created by the GUIX Studio generated automated event handling, the target will be deleted after it is detached.</span></span> |
| <span data-ttu-id="9fa16-1149">GX_ANIMATION_TRANSLATE</span><span class="sxs-lookup"><span data-stu-id="9fa16-1149">GX_ANIMATION_TRANSLATE</span></span> | <span data-ttu-id="9fa16-1150">Se trata de animaciones controladas por temporizador.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1150">Animation types are timer driven animations.</span></span> <span data-ttu-id="9fa16-1151">La aplicación define la posición inicial y final y los valores alfa inicial y final del widget de destino, y el administrador de animaciones crea un temporizador que actúa como el elemento de ejecución de la animación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1151">The application defines the starting and ending position and starting and ending alpha value for the target widget, and the animation manager creates a timer to serve and as the driving force to execute the animation.</span></span>
| <span data-ttu-id="9fa16-1152">GX_ANIMATION_SCREEN_DRAG</span><span class="sxs-lookup"><span data-stu-id="9fa16-1152">GX_ANIMATION_SCREEN_DRAG</span></span> | <span data-ttu-id="9fa16-1153">Difiere de las animaciones **TRANSLATE** en que este tipo de animación está controlado por eventos de entrada de lápiz.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1153">Differs from the **TRANSLATE** animations in that this animation type is driven by pen input events.</span></span> <span data-ttu-id="9fa16-1154">Este tipo de animación hace un seguimiento de la entrada de pantalla táctil para deslizar el widget de destino cuando el usuario arrastra un lápiz por la pantalla táctil de entrada.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1154">This animation type tracks along with the touch screen input to swipe the target widget as the user drags a pen or stylus across the input touch screen.</span></span> <span data-ttu-id="9fa16-1155">Esta animación se habilita cuando la aplicación llama a la API **_gx_animation_drag_enable_**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1155">To utilize this type of animation, the application should call the **_gx_animation_drag_enable_** API to enable this animation.</span></span> |

<span data-ttu-id="9fa16-1156">El valor **gx_animation_id** se pasa al elemento principal de la animación en el campo event.gx_event_sender del evento **GX_ANIMATION_COMPLETE**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1156">The **gx_animation_id** value is passed back to the animation parent in the event.gx_event_sender field of the **GX_ANIMATION_COMPLETE** event.</span></span> <span data-ttu-id="9fa16-1157">El elemento principal de la animación usa este valor para determinar cuál de las posibles animaciones secundarias está informando de la finalización.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1157">This value is used by the animation parent to determine which of possibly several child animations is reporting completion.</span></span> <span data-ttu-id="9fa16-1158">Este valor puede ser 0, en cuyo caso no se generará ningún evento **ANIMATION_COMPLETE**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1158">This value can be 0, and an animation with ID value 0 will not generate an **ANIMATION_COMPLETE** event at all.</span></span>

<span data-ttu-id="9fa16-1159">El valor de **gx_animation_start_delay** es un recuento de tics de GUIX que indica el número de tics de temporizador que pasarán después de llamar a **_gx_animation_start_ *_ y antes de ejecutar realmente la animación. El valor puede ser 0 para iniciar la animación inmediatamente después de llamar a _* _gx_animation_start_**.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1159">The **gx_animation_start_delay** value is a GUIX tick count indicating the number of timer ticks to delay after **_gx_animation_start_*_ is called before actually executing the animation. The value can be 0 to start the animation immediately upon calling _*_gx_animation_start_**.</span></span>

<span data-ttu-id="9fa16-1160">El campo **gx_animation_frame_interval** define el número de tics de temporizador de GUIX (un múltiplo de la tasa de tics del sistema operativo subyacente) que transcurrirán entre cada fotograma de la secuencia de animación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1160">The **gx_animation_frame_interval** field defines the number of GUIX timer ticks (a multiple of the underlying OS tick rate) to delay between each frame of the animation sequence.</span></span> <span data-ttu-id="9fa16-1161">El valor mínimo es 1.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1161">The minimum value is 1.</span></span>

<span data-ttu-id="9fa16-1162">El campo **gx_animation_start_position** define el punto inicial superior izquierdo del widget de destino en las animaciones de traslación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1162">The **gx_animation_start_position** defines the top-left starting point for the target widget for translation animations.</span></span>

<span data-ttu-id="9fa16-1163">El campo **gx_animation_end_position** define el punto final superior izquierdo del widget de destino en las animaciones de traslación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1163">The **gx_animation_end_position** defines the top-left ending position for the target widget for translation type animations.</span></span>

<span data-ttu-id="9fa16-1164">El campo **gx_animation_start_alpha** define el valor alfa inicial del lienzo en las animaciones de traslación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1164">The **gx_animation_start_alpha** field defines the starting canvas alpha value for translation type animations.</span></span>

<span data-ttu-id="9fa16-1165">El campo **gx_animation_end_alpha** define el valor alfa final del lienzo en las animaciones de traslación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1165">The **gx_animation_end_alpha** field defines the ending canvas alpha value for translation type animations.</span></span>

<span data-ttu-id="9fa16-1166">El campo **gx_animation_steps** define el número de pasos o fotogramas que debe ejecutar el controlador en las animaciones de traslación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1166">The **gx_animation_steps** field defines how many steps or frames the controller should execute for translation animations.</span></span> <span data-ttu-id="9fa16-1167">Con un número mayor de pasos se consigue una apariencia de deslizamiento o fundido más suave, pero también consume un mayor ancho de banda del sistema.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1167">A larger number of steps produces a smoother slide and/or fade appearance, but also requires greater system bandwidth.</span></span>

<span data-ttu-id="9fa16-1168">Para implementar efectos de animación en la aplicación, primero debe llamar a ***gx_animation_create*** para inicializar el controlador de animación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1168">To implement animation effects in your application, you must first call ***gx_animation_create*** to initialize your animation controller.</span></span> <span data-ttu-id="9fa16-1169">Si la animación va a usar un lienzo secundario, inicialice este lienzo llamando a gx_animation_canvas_define.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1169">If your animation will be using a secondary canvas, initialize this canvas by calling gx_animation_canvas_define.</span></span> <span data-ttu-id="9fa16-1170">A continuación, debe inicializar la estructura **GX_ANIMATION_INFO** para definir el tipo específico de animación que se va a realizar y los demás parámetros de animación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1170">Next, you should initialize the **GX_ANIMATION_INFO** structure to define the specific type of animation to be performed and the other animation parameters.</span></span> <span data-ttu-id="9fa16-1171">Por último, llame a gx_animation_start para desencadenar la secuencia de animación.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1171">Finally, call gx_animation_start to trigger the animation sequence.</span></span>

<span data-ttu-id="9fa16-1172">Cuando el controlador de animación completa una secuencia de animación, envía un evento **GX_ANIMATION_COMPLETE** al widget principal, lo que permite que se realice cualquier operación de limpieza deseada del lienzo de animación en ese momento.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1172">When the animation controller completes an animation sequence, it sends an **GX_ANIMATION_COMPLETE** event to the parent widget, allowing the any desired cleanup of the animation canvas to be done at that time.</span></span>

## <a name="guix-utility-component"></a><span data-ttu-id="9fa16-1173">Componente de utilidad de GUIX</span><span class="sxs-lookup"><span data-stu-id="9fa16-1173">GUIX Utility Component</span></span> 

<span data-ttu-id="9fa16-1174">El componente de utilidad es responsable de todas las funciones de utilidad comunes en GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1174">The utility component is responsible for all common utility functions in GUIX.</span></span> <span data-ttu-id="9fa16-1175">Se trata de funciones habituales que son utilidades prácticas y se pueden invocar desde cualquier parte de la aplicación o desde el código interno de GUIX.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1175">These are common functions that are useful utilities and can be invoked from anywhere in the application or the internal GUIX code.</span></span> <span data-ttu-id="9fa16-1176">A continuación se indican las funciones del componente de utilidad.</span><span class="sxs-lookup"><span data-stu-id="9fa16-1176">The utility component functions include the following.</span></span>

<span data-ttu-id="9fa16-1177">***gx_utility_canvas_to_bmp***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1177">***gx_utility_canvas_to_bmp***</span></span>

<span data-ttu-id="9fa16-1178">***gx_utility_circle_point_get***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1178">***gx_utility_circle_point_get***</span></span>

<span data-ttu-id="9fa16-1179">***gx_utility_alphamap_create***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1179">***gx_utility_alphamap_create***</span></span>

<span data-ttu-id="9fa16-1180">***gx_utility_gradient_create***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1180">***gx_utility_gradient_create***</span></span>

<span data-ttu-id="9fa16-1181">***gx_utility_gradient_delete***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1181">***gx_utility_gradient_delete***</span></span>

<span data-ttu-id="9fa16-1182">***gx_utlity_ltoa***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1182">***gx_utlity_ltoa***</span></span>

<span data-ttu-id="9fa16-1183">***gx_utility_math_acos***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1183">***gx_utility_math_acos***</span></span>

<span data-ttu-id="9fa16-1184">***gx_utility_math_asin***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1184">***gx_utility_math_asin***</span></span>

<span data-ttu-id="9fa16-1185">***gx_utility_math_cos***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1185">***gx_utility_math_cos***</span></span>

<span data-ttu-id="9fa16-1186">***gx_utility_math_sin***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1186">***gx_utility_math_sin***</span></span>

<span data-ttu-id="9fa16-1187">***gx_utility_math_sqrt***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1187">***gx_utility_math_sqrt***</span></span>

<span data-ttu-id="9fa16-1188">***gx_utility_pixelmap_resize***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1188">***gx_utility_pixelmap_resize***</span></span>

<span data-ttu-id="9fa16-1189">***gx_utility_pixelmap_rotate***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1189">***gx_utility_pixelmap_rotate***</span></span>

<span data-ttu-id="9fa16-1190">***gx_utility_pixelmap_simple_rotate***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1190">***gx_utility_pixelmap_simple_rotate***</span></span>

<span data-ttu-id="9fa16-1191">***gx_utility_rectangle_center***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1191">***gx_utility_rectangle_center***</span></span>

<span data-ttu-id="9fa16-1192">***gx_utility_rectangle_center_find***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1192">***gx_utility_rectangle_center_find***</span></span>

<span data-ttu-id="9fa16-1193">***gx_utility_rectangle_combine***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1193">***gx_utility_rectangle_combine***</span></span>

<span data-ttu-id="9fa16-1194">***gx_utility_rectangle_compare***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1194">***gx_utility_rectangle_compare***</span></span>

<span data-ttu-id="9fa16-1195">***gx_utility_rectangle_define***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1195">***gx_utility_rectangle_define***</span></span>

<span data-ttu-id="9fa16-1196">***gx_utility_rectangle_overlap_detect***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1196">***gx_utility_rectangle_overlap_detect***</span></span>

<span data-ttu-id="9fa16-1197">***gx_utility_rectangle_point_detect***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1197">***gx_utility_rectangle_point_detect***</span></span>

<span data-ttu-id="9fa16-1198">***gx_utility_rectangle_resize***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1198">***gx_utility_rectangle_resize***</span></span>

<span data-ttu-id="9fa16-1199">***gx_utility_rectangle_shift***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1199">***gx_utility_rectangle_shift***</span></span>

<span data-ttu-id="9fa16-1200">***gx_utility_string_to_alphamap***</span><span class="sxs-lookup"><span data-stu-id="9fa16-1200">***gx_utility_string_to_alphamap***</span></span>

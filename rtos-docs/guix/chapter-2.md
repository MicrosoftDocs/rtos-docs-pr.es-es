---
title: 'Capítulo 2: Instalación y uso de GUIX'
description: Este capítulo contiene una descripción de varios problemas relacionados con la instalación, la configuración y el uso de GUIX para desarrollar interfaces de usuario.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 6527227062fc667b3f527a798d6621914c374c5c
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 03/22/2021
ms.locfileid: "104814981"
---
# <a name="chapter-2---installation-and-use-of-guix"></a><span data-ttu-id="ba67c-103">Capítulo 2: Instalación y uso de GUIX</span><span class="sxs-lookup"><span data-stu-id="ba67c-103">Chapter 2 - Installation and Use of GUIX</span></span>

<span data-ttu-id="ba67c-104">Este capítulo contiene una descripción de varios problemas relacionados con la instalación, la configuración y el uso de GUIX para desarrollar interfaces de usuario.</span><span class="sxs-lookup"><span data-stu-id="ba67c-104">This chapter contains a description of various issues related to installation, setup, and use of the highperformance user interface product GUIX.</span></span>  

## <a name="host-considerations"></a><span data-ttu-id="ba67c-105">Consideraciones sobre el host</span><span class="sxs-lookup"><span data-stu-id="ba67c-105">Host Considerations</span></span>

<span data-ttu-id="ba67c-106">El desarrollo insertado se realiza normalmente en equipos host Windows o Linux (Unix).</span><span class="sxs-lookup"><span data-stu-id="ba67c-106">Embedded development is usually performed on Windows or Linux (Unix) host computers.</span></span> <span data-ttu-id="ba67c-107">Una vez que la aplicación se compila, se vincula y se genera el archivo ejecutable en el host, se descarga en el hardware de destino para poder ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="ba67c-107">After the application is compiled, linked, and the executable is generated on the host, it is downloaded to the target hardware for execution.</span></span>

<span data-ttu-id="ba67c-108">Normalmente, la descarga de destino se realiza desde el depurador de la herramienta de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="ba67c-108">Usually the target download is done from within the development tool's debugger.</span></span> <span data-ttu-id="ba67c-109">Después de la descarga, el depurador es responsable de proporcionar el control de ejecución de destino (ir, detener, punto de interrupción, etc.), así como el acceso a los registros de la memoria y del procesador.</span><span class="sxs-lookup"><span data-stu-id="ba67c-109">After download, the debugger is responsible for providing target execution control (go, halt, breakpoint, etc.) as well as access to memory and processor registers.</span></span>

<span data-ttu-id="ba67c-110">La mayoría de los depuradores de herramientas de desarrollo se comunican con el hardware de destino mediante conexiones de depuración en chip (OCD), como JTAG (IEEE 1149.1) y el modo de depuración en segundo plano (BDM).</span><span class="sxs-lookup"><span data-stu-id="ba67c-110">Most development tool debuggers communicate with the target hardware via on-chip debug (OCD) connections such as JTAG (IEEE 1149.1) and Background Debug Mode (BDM).</span></span> <span data-ttu-id="ba67c-111">Los depuradores también se comunican con el hardware de destino mediante conexiones de emulación en el circuito (ICE).</span><span class="sxs-lookup"><span data-stu-id="ba67c-111">Debuggers also communicate with target hardware through In-Circuit Emulation (ICE) connections.</span></span> <span data-ttu-id="ba67c-112">Las conexiones OCD e ICE proporcionan soluciones sólidas con una intrusión mínima en el software residente de destino.</span><span class="sxs-lookup"><span data-stu-id="ba67c-112">Both OCD and ICE connections provide robust solutions with minimal intrusion on the target resident software.</span></span>

<span data-ttu-id="ba67c-113">En cuanto a los recursos utilizados en el host, el código fuente de GUIX se entrega en formato ASCII y requiere aproximadamente 30 MB de espacio en el disco duro del equipo host.</span><span class="sxs-lookup"><span data-stu-id="ba67c-113">As for resources used on the host, the source code for GUXI is delivered in ASCII format and requires approximately 30 Mbytes of space on the host computer’s hard disk.</span></span>

## <a name="target-considerations"></a><span data-ttu-id="ba67c-114">Consideraciones sobre el destino</span><span class="sxs-lookup"><span data-stu-id="ba67c-114">Target Considerations</span></span>

<span data-ttu-id="ba67c-115">GUIX requiere entre 5 kB y 80 kB de memoria de solo lectura (ROM) en el destino.</span><span class="sxs-lookup"><span data-stu-id="ba67c-115">GUIX requires between 5 KBytes and 80 Kbytes of Read-Only Memory (ROM) on the target.</span></span> <span data-ttu-id="ba67c-116">Se necesitan entre 5 y 10 kB más de memoria de acceso aleatorio (RAM) en el destino para la pila de subprocesos de GUIX y otras estructuras de datos globales.</span><span class="sxs-lookup"><span data-stu-id="ba67c-116">Another 5 to 10KBytes of the target’s Random Access Memory (RAM) are required for the GUIX thread stack and other global data structures.</span></span>

<span data-ttu-id="ba67c-117">Además, GUIX requiere el uso de un objeto de exclusión mutua de ThreadX y un temporizador de ThreadX.</span><span class="sxs-lookup"><span data-stu-id="ba67c-117">In addition, GUIX requires the use of a ThreadX timer and a ThreadX mutex object.</span></span> <span data-ttu-id="ba67c-118">Estos recursos se utilizan para satisfacer las necesidades de procesamiento periódico y para la protección de subprocesos en GUIX.</span><span class="sxs-lookup"><span data-stu-id="ba67c-118">These facilities are used for periodic processing needs and thread protection inside GUIX.</span></span>

## <a name="product-distribution"></a><span data-ttu-id="ba67c-119">Distribución del producto</span><span class="sxs-lookup"><span data-stu-id="ba67c-119">Product Distribution</span></span>

<span data-ttu-id="ba67c-120">Azure RTOS GUIX se puede obtener en nuestro repositorio de código fuente público: <https://github.com/azure-rtos/guix/>.</span><span class="sxs-lookup"><span data-stu-id="ba67c-120">Azure RTOS GUIX can be obtained from our public source code repository at <https://github.com/azure-rtos/guix/>.</span></span>

<span data-ttu-id="ba67c-121">A continuación se muestra una lista de los archivos importantes que son comunes a la mayoría de las distribuciones del producto:</span><span class="sxs-lookup"><span data-stu-id="ba67c-121">The following is a list of the important files common to most product distributions:</span></span>

| <span data-ttu-id="ba67c-122">Nombre de archivo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="sxs-lookup"><span data-stu-id="ba67c-122">Filename&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span>| <span data-ttu-id="ba67c-123">Descripción</span><span class="sxs-lookup"><span data-stu-id="ba67c-123">Description</span></span>   |
| ----------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| <span data-ttu-id="ba67c-124">gx_api.h</span><span class="sxs-lookup"><span data-stu-id="ba67c-124">gx_api.h</span></span>        | <span data-ttu-id="ba67c-125">Este archivo de encabezado de C contiene todas las equivalencias del sistema, estructuras de datos y prototipos del servicio.</span><span class="sxs-lookup"><span data-stu-id="ba67c-125">This C header file contains all system equates, data structures, and service prototypes.</span></span> |
| <span data-ttu-id="ba67c-126">gx_port.h</span><span class="sxs-lookup"><span data-stu-id="ba67c-126">gx_port.h</span></span>       | <span data-ttu-id="ba67c-127">Este archivo de encabezado de C contiene todas las estructuras y definiciones de datos específicas de la herramienta de desarrollo y del destino.</span><span class="sxs-lookup"><span data-stu-id="ba67c-127">This C header file contains all target-specific and development tool-specific data definitions and structures.</span></span>                                                                                                                                         |
| <span data-ttu-id="ba67c-128">gx.a (o gx.lib)</span><span class="sxs-lookup"><span data-stu-id="ba67c-128">gx.a (or gx.lib)</span></span> | <span data-ttu-id="ba67c-129">Se trata de la versión binaria de la biblioteca de C de GUIX.</span><span class="sxs-lookup"><span data-stu-id="ba67c-129">This is the binary version of the GUIX C library.</span></span> <span data-ttu-id="ba67c-130">Este archivo se genera normalmente compilando y archivando los archivos de origen de la biblioteca de GUIX proporcionados; sin embargo, esta biblioteca puede proporcionarse en un formato predefinido en función del tipo de licencia y del destino de hardware.</span><span class="sxs-lookup"><span data-stu-id="ba67c-130">This is normally built by compiling and archiving the provided GUIX library source files, however this library may be provided in pre-built form depending on your hardware target and license type.</span></span> |
|

> [!IMPORTANT]
> <span data-ttu-id="ba67c-131">*Todos los nombres de archivos están en minúsculas, lo que facilita la conversión de los comandos para plataformas de desarrollo de Linux (Unix).*</span><span class="sxs-lookup"><span data-stu-id="ba67c-131">*All files are in lower-case, making it easy to convert the commands to Linux (Unix) development platforms.*</span></span>

## <a name="guix-installation"></a><span data-ttu-id="ba67c-132">Instalación de GUIX</span><span class="sxs-lookup"><span data-stu-id="ba67c-132">GUIX Installation</span></span>

<span data-ttu-id="ba67c-133">GUIX se instala clonando el repositorio de GitHub en la máquina local.</span><span class="sxs-lookup"><span data-stu-id="ba67c-133">GUIX is installed by cloning the GitHub repository to your local machine.</span></span> <span data-ttu-id="ba67c-134">A continuación se muestra la sintaxis típica para crear un clon del repositorio de GUIX en el equipo:</span><span class="sxs-lookup"><span data-stu-id="ba67c-134">The following is typical syntax for creating a clone of the GUIX repository on your PC:</span></span>

```c
    git clone https://github.com/azure-rtos/guix
```

<span data-ttu-id="ba67c-135">También se puede descargar una copia del repositorio mediante el botón Download (Descargar) de la página principal de GitHub.</span><span class="sxs-lookup"><span data-stu-id="ba67c-135">Alternatively you can download a copy of the repository using the download button on the GitHub main page.</span></span>

<span data-ttu-id="ba67c-136">Además, encontrará instrucciones para compilar la biblioteca de GUIX en la página principal del repositorio en línea.</span><span class="sxs-lookup"><span data-stu-id="ba67c-136">You will also find instructions for building the GUIX library on the front page of the online repository.</span></span>

>[!NOTE]  
> <span data-ttu-id="ba67c-137">*El software de la aplicación necesita acceso al archivo de biblioteca de GUIX (normalmente, **gx.a** o **gx.lib**) y a los archivos de inclusión de C **gx_api.h** y **gx_port.h**. Con este fin, hay que establecer la ruta adecuada para las herramientas de desarrollo o copiar estos archivos en el área desarrollo de la aplicación.*</span><span class="sxs-lookup"><span data-stu-id="ba67c-137">*Application software needs access to the GUIX library file, usually called **gx.a** (or **gx.lib**), and the C include files **gx_api.h** and **gx_port.h**. This is accomplished either by setting the appropriate path for the development tools or by copying these files into the application development area.*</span></span>

## <a name="using-guix"></a><span data-ttu-id="ba67c-138">Uso de GUIX</span><span class="sxs-lookup"><span data-stu-id="ba67c-138">Using GUIX</span></span>

<span data-ttu-id="ba67c-139">Es fácil usar GUIX.</span><span class="sxs-lookup"><span data-stu-id="ba67c-139">Using GUIX is easy.</span></span> <span data-ttu-id="ba67c-140">Básicamente, el código de la aplicación debe incluir ***gx_api.h** _ durante la compilación y vincularse con la biblioteca de GUIX _*_gx.a_*_ (o _ *_gx.lib_*)*.</span><span class="sxs-lookup"><span data-stu-id="ba67c-140">Basically, the application code must include ***gx_api.h** _ during compilation and link with the GUIX library _*_gx.a_*_ (or _ *_gx.lib_*)*.</span></span>

<span data-ttu-id="ba67c-141">Para compilar una aplicación de GUIX, hay que seguir cuatro sencillos pasos:</span><span class="sxs-lookup"><span data-stu-id="ba67c-141">There are four easy steps required to build a GUIX application:</span></span>

| <span data-ttu-id="ba67c-142">Pasos</span><span class="sxs-lookup"><span data-stu-id="ba67c-142">Steps</span></span>   | <span data-ttu-id="ba67c-143">Descripción</span><span class="sxs-lookup"><span data-stu-id="ba67c-143">Description</span></span>    |
| ------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| <span data-ttu-id="ba67c-144">Paso&nbsp;1.</span><span class="sxs-lookup"><span data-stu-id="ba67c-144">Step&nbsp;1:</span></span> | <span data-ttu-id="ba67c-145">Incluya el archivo ***gx_api.h*** en todos los archivos de la aplicación que usen servicios o estructuras de datos de GUIX.</span><span class="sxs-lookup"><span data-stu-id="ba67c-145">Include the ***gx_api.h*** file in all application files that use GUIX services or data structures.</span></span>                                                               |
| <span data-ttu-id="ba67c-146">Paso&nbsp;2.</span><span class="sxs-lookup"><span data-stu-id="ba67c-146">Step&nbsp;2:</span></span> | <span data-ttu-id="ba67c-147">Inicialice el sistema GUIX llamando a ***gx_system_initialize** _ desde la función _ *_tx_application_define_** o un subproceso de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="ba67c-147">Initialize the GUIX system by calling ***gx_system_initialize** _ from the _ *_tx_application_define_** function or an application thread.</span></span>                       |
| <span data-ttu-id="ba67c-148">Paso&nbsp;3.</span><span class="sxs-lookup"><span data-stu-id="ba67c-148">Step&nbsp;3:</span></span> | <span data-ttu-id="ba67c-149">Cree una instancia de pantalla, un lienzo para la pantalla, y la ventana raíz y las demás ventanas o widgets necesarios.</span><span class="sxs-lookup"><span data-stu-id="ba67c-149">Create a display instance, create a canvas for the display, and create the root window and any other windows or widgets necessary.</span></span>                                 |
| <span data-ttu-id="ba67c-150">Paso&nbsp;4.</span><span class="sxs-lookup"><span data-stu-id="ba67c-150">Step&nbsp;4:</span></span> | <span data-ttu-id="ba67c-151">Compile el origen de la aplicación y vincúlelo con la biblioteca en tiempo de ejecución de GUIX ***gx.a** _ (o _*_gx.lib_\*\*).</span><span class="sxs-lookup"><span data-stu-id="ba67c-151">Compile application source and link with the GUIX runtime library ***gx.a** _ (or _*_gx.lib_\*\*).</span></span> <span data-ttu-id="ba67c-152">La imagen resultante se puede descargar en el destino y ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="ba67c-152">The resulting image can be downloaded to the target and executed!</span></span> |

## <a name="troubleshooting"></a><span data-ttu-id="ba67c-153">Solución de problemas</span><span class="sxs-lookup"><span data-stu-id="ba67c-153">Troubleshooting</span></span>

<span data-ttu-id="ba67c-154">Cada puerto de GUIX se entrega con una aplicación de demostración que se ejecuta en un hardware de pantalla específico.</span><span class="sxs-lookup"><span data-stu-id="ba67c-154">Each GUIX port is delivered with a demonstration application that executes on specific display hardware.</span></span> <span data-ttu-id="ba67c-155">Esta misma demostración básica se entrega con todas las versiones de GUIX.</span><span class="sxs-lookup"><span data-stu-id="ba67c-155">The same basic demonstration is delivered with all versions of GUIX.</span></span> <span data-ttu-id="ba67c-156">Normalmente, es conveniente que primero se ejecute el sistema de demostración.</span><span class="sxs-lookup"><span data-stu-id="ba67c-156">It is always a good idea to get the demonstration system running first.</span></span>

<span data-ttu-id="ba67c-157">Si el sistema de demostración no se ejecuta correctamente, realice las siguientes operaciones para acotar el problema:</span><span class="sxs-lookup"><span data-stu-id="ba67c-157">If the demonstration system does not run properly, perform the following operations to narrow the problem:</span></span>

1. <span data-ttu-id="ba67c-158">Determine qué parte de la demostración se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="ba67c-158">Determine how much of the demonstration is running.</span></span>

2. <span data-ttu-id="ba67c-159">Aumente el tamaño de la pila del subproceso de GUIX cambiando la constante de tiempo de compilación **GX_THREAD_STACK_SIZE** y volviendo a compilar la biblioteca de GUIX.</span><span class="sxs-lookup"><span data-stu-id="ba67c-159">Increase the stack size of the GUIX thread by changing the  compile-time constant **GX_THREAD_STACK_SIZE** and recompiling  the GUIX library</span></span>

3. <span data-ttu-id="ba67c-160">Vuelva a compilar la biblioteca de GUIX con las opciones de depuración pertinentes que aparecen en la sección "Opciones de configuración".</span><span class="sxs-lookup"><span data-stu-id="ba67c-160">Recompile the GUIX library with the appropriate debug options listed  in the configuration option section.</span></span>

4. <span data-ttu-id="ba67c-161">Examine el estado de devolución de todas las llamadas API.</span><span class="sxs-lookup"><span data-stu-id="ba67c-161">Examine the return status from all API calls.</span></span>

5. <span data-ttu-id="ba67c-162">Determine si hay un error interno del sistema estableciendo un punto de interrupción en la función ***_gx_system_error_process***.</span><span class="sxs-lookup"><span data-stu-id="ba67c-162">Determine if there is an internal system error by setting a breakpoint at the function ***_gx_system_error_process***.</span></span> <span data-ttu-id="ba67c-163">El código de error y el autor de la llamada deberían proporcionar pistas sobre qué es lo que podría estar fallando.</span><span class="sxs-lookup"><span data-stu-id="ba67c-163">There error code and caller should give clues as to what might be going wrong.</span></span>

6. <span data-ttu-id="ba67c-164">Omita temporalmente los cambios recientes para ver si el problema desaparece o cambia.</span><span class="sxs-lookup"><span data-stu-id="ba67c-164">Temporarily bypass any recent changes to see if the problem disappears or changes.</span></span> <span data-ttu-id="ba67c-165">Esta información debería resultar útil para los ingenieros de soporte técnico de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="ba67c-165">Such information should prove useful to Microsoft support engineers.</span></span>

<span data-ttu-id="ba67c-166">Siga los procedimientos descritos en la sección "Qué necesitamos de usted" para enviar la información recopilada en los pasos de solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="ba67c-166">Follow the procedures outlined in the section titled “What We Need From You” to send the information gathered from the troubleshooting steps.</span></span>

## <a name="configuration-options"></a><span data-ttu-id="ba67c-167">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="ba67c-167">Configuration Options</span></span>

<span data-ttu-id="ba67c-168">Hay varias opciones de configuración al compilar la aplicación y la biblioteca de GUIX mediante GUIX.</span><span class="sxs-lookup"><span data-stu-id="ba67c-168">There are several configuration options when building the GUIX library and the application using GUIX.</span></span> <span data-ttu-id="ba67c-169">Estas opciones se usan para ajustar el tamaño de la biblioteca y el conjunto de características para que se adapten mejor a los requisitos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="ba67c-169">These options are used to tune the library size and feature set to best fit your application requirements.</span></span> <span data-ttu-id="ba67c-170">Por ejemplo, si la aplicación va a tener un solo subproceso que usa los servicios de la API de GUIX, debe definirse la marca de configuración **GX_DISABLE_MULTITHREAD_SUPPORT** para eliminar la sobrecarga asociada a proteger las secciones de código críticas contra el adelantamiento por parte de varios subprocesos.</span><span class="sxs-lookup"><span data-stu-id="ba67c-170">For example, if your application will have only one thread utilizing the GUIX API services, the configuration flag **GX_DISABLE_MULTITHREAD_SUPPORT** should be defined to eliminate the overhead associated with protecting critical code sections from pre-emption by multiple threads.</span></span> <span data-ttu-id="ba67c-171">Las distintas marcas de configuración pueden definirse en el origen de la aplicación, en la línea de comandos o en el archivo de inclusión **_gx_user.h_**.</span><span class="sxs-lookup"><span data-stu-id="ba67c-171">The various configuration flags can be defined in the application source, on the command line, or within the **_gx_user.h_** include file.</span></span>

<span data-ttu-id="ba67c-172">Cada vez que se modifican las marcas de configuración de la biblioteca de GUIX, hay que volver a compilar la biblioteca de GUIX y los módulos de la aplicación para que se apliquen los cambios de la configuración.</span><span class="sxs-lookup"><span data-stu-id="ba67c-172">Whenever the GUIX library configuration flags are modified, it is required to rebuild both the GUIX library and your application modules for the configuration changes to take effect.</span></span>

<span data-ttu-id="ba67c-173">La lista completa de marcas de configuración puede consultarte en "Apéndice H: marcas de configuración de tiempo de compilación de GUIX".</span><span class="sxs-lookup"><span data-stu-id="ba67c-173">The complete list of configuration flags is documented in Appendix H: GUIX Build-Time Configuration Flags.</span></span>

## <a name="guix-version-id"></a><span data-ttu-id="ba67c-174">Identificador de la versión de GUIX</span><span class="sxs-lookup"><span data-stu-id="ba67c-174">GUIX Version ID</span></span>

<span data-ttu-id="ba67c-175">La versión actual de GUIX está disponible tanto para el software de usuario como para el de la aplicación durante el tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="ba67c-175">The current version of GUIX is available to both the user and the application software during runtime.</span></span> <span data-ttu-id="ba67c-176">El programador puede obtener la versión de GUIX si examina el archivo \***gx_port.h** _.</span><span class="sxs-lookup"><span data-stu-id="ba67c-176">The programmer can obtain the GUIX version from examination of the \***gx_port.h** _ file.</span></span> <span data-ttu-id="ba67c-177">Además, este archivo también contiene un historial de versiones del puerto correspondiente. El software de la aplicación puede obtener la versión de GUIX examinando la cadena global _ *_ _gx_version_id_* _ en _\*_gx_port.h_\*\*.</span><span class="sxs-lookup"><span data-stu-id="ba67c-177">In addition, this file also contains a version history of the corresponding port Application software can obtain the GUIX version by examining the global string _ *_ _gx_version_id_* _ in _\*_gx_port.h_\*\*.</span></span>

<span data-ttu-id="ba67c-178">El software de la aplicación también puede obtener información de la versión a partir de las constantes que se muestran a continuación definidas en \***gx_api.h**.\* Estas constantes identifican la versión actual del producto por su nombre, además de la versión principal y secundaria.</span><span class="sxs-lookup"><span data-stu-id="ba67c-178">Application software can also obtain release information from the constants shown below defined in \***gx_api.h**.\* These constants identify the current product release by name and the product major and minor version.</span></span>

```C
#define __PRODUCT_GUIX__

#define __GUIX_MAJOR_VERSION__

#define __GUIX_MINOR_VERSION__
```

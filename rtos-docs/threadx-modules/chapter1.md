---
title: 'Capítulo 1: Introducción'
author: philmea
description: Este artículo ofrece información general sobre Azure RTOS ThreadX Modules.
ms.author: philmea
ms.date: 07/15/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 0c9698086468d7bb41c33ebe9fa9d1ebb61b5f1f
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 03/22/2021
ms.locfileid: "104814385"
---
# <a name="chapter-1-overview"></a><span data-ttu-id="04086-103">Capítulo 1: Introducción</span><span class="sxs-lookup"><span data-stu-id="04086-103">Chapter 1: Overview</span></span>

<span data-ttu-id="04086-104">El componente ThreadX Modules proporciona una infraestructura para que las aplicaciones carguen dinámicamente los módulos que se compilan de forma independiente desde la parte residente de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="04086-104">The ThreadX Module component provides an infrastructure for applications to dynamically load modules that are built separately from the resident portion of the application.</span></span> <span data-ttu-id="04086-105">Esto es especialmente útil en situaciones en las que el tamaño del código de aplicación supera la memoria disponible.</span><span class="sxs-lookup"><span data-stu-id="04086-105">This is especially useful in situations where the application code size exceeds available memory.</span></span> <span data-ttu-id="04086-106">También puede ayudar cuando es necesario agregar nuevas características después de implementar la imagen principal.</span><span class="sxs-lookup"><span data-stu-id="04086-106">It can also help when new features are required to be added after the core image is deployed.</span></span> <span data-ttu-id="04086-107">Además, se pueden usar módulos de carga dinámica cuando se requieren actualizaciones de firmware parciales.</span><span class="sxs-lookup"><span data-stu-id="04086-107">In addition, dynamically loading modules can be used when partial firmware updates are required.</span></span>

<span data-ttu-id="04086-108">La protección de memoria para el módulo cargado es opcional, en función de las propiedades especificadas en el preámbulo del propio módulo.</span><span class="sxs-lookup"><span data-stu-id="04086-108">Memory protection for the loaded module is optional, based on the properties specified in the module preamble.</span></span> <span data-ttu-id="04086-109">Cuando se especifica la protección de memoria, el hardware de administración de memoria del procesador se configura de modo que los subprocesos del módulo solo pueden acceder al código y la memoria de datos del módulo.</span><span class="sxs-lookup"><span data-stu-id="04086-109">When memory protection is specified, the processor's memory management hardware is configured such that all threads of the module are only allowed access to the module's code and data memory.</span></span> <span data-ttu-id="04086-110">Cualquier ejecución o acceso a la memoria extraños provocará un error de memoria y que se finalice el subproceso de módulo infractor.</span><span class="sxs-lookup"><span data-stu-id="04086-110">Any extraneous memory access or execution will result in a memory fault and the offending module thread will be terminated.</span></span> <span data-ttu-id="04086-111">Si en la aplicación se ha registrado la devolución de llamada de notificación de error de memoria, también se usará para avisar a la aplicación del error de memoria.</span><span class="sxs-lookup"><span data-stu-id="04086-111">If the application registers a memory fault notification callback, this will also be called to alert the application of the memory fault.</span></span>

<span data-ttu-id="04086-112">El componente ThreadX Modules se basa en la aplicación para proporcionar un área de memoria en la que se puedan cargar los módulos.</span><span class="sxs-lookup"><span data-stu-id="04086-112">The ThreadX Module component relies on the application to provide a memory area where modules can be loaded.</span></span> <span data-ttu-id="04086-113">El área de instrucciones de cada módulo puede ejecutarse in situ o copiarse en el área de memoria del módulo RAM para su ejecución.</span><span class="sxs-lookup"><span data-stu-id="04086-113">The instruction area of each module may execute in place or be copied into the RAM module memory area for execution.</span></span> <span data-ttu-id="04086-114">En cualquier caso, los requisitos de memoria de datos del módulo se asignan desde el área de memoria del módulo.</span><span class="sxs-lookup"><span data-stu-id="04086-114">In all cases, the module data memory requirements are allocated from the module memory area.</span></span>

<span data-ttu-id="04086-115">No hay ningún límite en el número de módulos que se pueden cargar a la vez (más allá de la cantidad de memoria disponible), en tanto que solo hay una copia del código del administrador de módulos residente.</span><span class="sxs-lookup"><span data-stu-id="04086-115">There are no limits on the number of modules that can be loaded at the same time (aside from the amount of memory available), while there is only one copy of the resident Module Manager code.</span></span> <span data-ttu-id="04086-116">En la figura 1 se muestra la relación entre el administrador de módulos y los propios módulos.</span><span class="sxs-lookup"><span data-stu-id="04086-116">Figure 1 illustrates the relationship of the Module Manager and the modules themselves.</span></span>

![Relación entre los módulos y el administrador de módulos](media/image2.png)

<span data-ttu-id="04086-118">**Figura 1** Módulos y administrador de módulos</span><span class="sxs-lookup"><span data-stu-id="04086-118">**Figure 1** Modules and Module Manager</span></span>

<span data-ttu-id="04086-119">Cada módulo debe tener su propia área de memoria; está área viene definida por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="04086-119">Each module must have its own memory area, which is the application's responsibility to define.</span></span> <span data-ttu-id="04086-120">El módulo y el administrador de módulos interactúan a través de una función de distribución de software por medio de identificadores de solicitud predefinidos que corresponden a los servicios de ThreadX solicitados por el módulo.</span><span class="sxs-lookup"><span data-stu-id="04086-120">The Module and the Module Manager interact through a software dispatch function via pre-defined request IDs that correspond to ThreadX services requested by the module.</span></span> <span data-ttu-id="04086-121">Además, el módulo debe proporcionar un punto de entrada de un solo subproceso, así como el tamaño de pila necesario, la prioridad, el identificador de módulo, el tamaño y la prioridad de la pila de subprocesos de devolución de llamada, etc. Esta información se define en el preámbulo de cada módulo.</span><span class="sxs-lookup"><span data-stu-id="04086-121">In addition, the module is required to provide a single thread entry point as well as the required stack size, priority, module ID, callback thread stack size/priority, etc. This information is defined in each module's preamble.</span></span>

<span data-ttu-id="04086-122">El administrador de módulos es responsable de crear el subproceso inicial del módulo e iniciar su ejecución.</span><span class="sxs-lookup"><span data-stu-id="04086-122">The Module Manager is responsible for creating the initial module thread and initiating its execution.</span></span> <span data-ttu-id="04086-123">Una vez que se está ejecutando el subproceso inicial del módulo, el administrador de módulos es responsable de recibir todas las solicitudes de API de ThreadX realizadas por el módulo.</span><span class="sxs-lookup"><span data-stu-id="04086-123">Once the module's initial thread is executing, the Module Manager is responsible for fielding all ThreadX API requests made by the module.</span></span> <span data-ttu-id="04086-124">Un módulo tiene acceso completo a la API de ThreadX, incluida la capacidad de crear subprocesos adicionales en el módulo.</span><span class="sxs-lookup"><span data-stu-id="04086-124">A module has full access to the ThreadX API, including the ability to create additional threads within the module.</span></span>  
  
<span data-ttu-id="04086-125">Las convenciones de nomenclatura del código fuente del módulo son sencillas: todos los archivos de código fuente del administrador de módulos se denominan ***txm_module_manager_\****  y todos los archivos asociados exclusivamente al módulo omiten la parte "**_manager_ *_" del nombre. El código fuente del módulo y del administrador comparten el archivo de inclusión principal _* _txm_module.h_**.</span><span class="sxs-lookup"><span data-stu-id="04086-125">The module source code naming conventions are straightforward: all Module Manager source files are named ***txm_module_manager_\**** and all files associated exclusively with the module omit the "**_manager_*_" portion of the name. The main include file _*_txm_module.h_** is shared by the manager and module source code.</span></span>

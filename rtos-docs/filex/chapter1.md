---
title: 'Capítulo 1: Introducción a Azure RTOS FileX'
description: Azure RTOS FileX es un sistema de administración de archivos y soportes físicos de formato FAT completo para las aplicaciones con alto grado de inserción.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: be7e6f9cd9fbc69ac0908d1de733dac1c4f73bf6
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 03/22/2021
ms.locfileid: "104814398"
---
# <a name="chapter-1---introduction-to-azure-rtos-filex"></a><span data-ttu-id="7b3ad-103">Capítulo 1: Introducción a Azure RTOS FileX</span><span class="sxs-lookup"><span data-stu-id="7b3ad-103">Chapter 1 - Introduction to Azure RTOS FileX</span></span>

<span data-ttu-id="7b3ad-104">Azure RTOS FileX es un sistema de administración de archivos y soportes físicos de formato FAT completo para las aplicaciones con alto grado de inserción.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-104">Azure RTOS FileX is a complete FAT format media and file management system for deeply embedded applications.</span></span> <span data-ttu-id="7b3ad-105">En este capítulo se presenta FileX y se describen sus aplicaciones y ventajas.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-105">This chapter introduces FileX, describing its applications and benefits.</span></span>

## <a name="filex-unique-features"></a><span data-ttu-id="7b3ad-106">Características únicas de FileX</span><span class="sxs-lookup"><span data-stu-id="7b3ad-106">FileX Unique Features</span></span>

<span data-ttu-id="7b3ad-107">Azure RTOS FileX admite un número ilimitado de soportes físicos al mismo tiempo, incluidos los discos RAM, los administradores de unidades flash y los dispositivos físicos reales.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-107">Azure RTOS FileX supports an unlimited number of media devices at the same time, including RAM disks, FLASH managers, and actual physical devices.</span></span> <span data-ttu-id="7b3ad-108">Admite formatos de tabla de asignación de archivos (FAT) de 12, 16 y 32 bits, y también admite la tabla de asignación de archivos extendida (exFAT), la asignación de archivos contigua y está altamente optimizado para el tamaño y el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-108">It supports 12-, 16-, and 32-bit File Allocation Table (FAT) formats, and also supports Extended File Allocation Table (exFAT), contiguous file allocation, and is highly optimized for both size and performance.</span></span> <span data-ttu-id="7b3ad-109">FileX también incluye compatibilidad con tolerancia a errores, apertura/cierre de soportes físicos y funciones de devolución de llamada por escritura de archivo.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-109">FileX also includes fault tolerant support, media open/ close, and file write callback functions.</span></span>

<span data-ttu-id="7b3ad-110">Está diseñado para satisfacer la creciente necesidad de unidades flash, por lo que FileX usa los mismos métodos de diseño y codificación que ThreadX.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-110">Designed to meet the growing need for FLASH devices, FileX uses the same design and coding methods as ThreadX.</span></span> <span data-ttu-id="7b3ad-111">Al igual que todos los productos de Microsoft, FileX se distribuye con código fuente ANSI C completo y no cobra regalías por entorno de ejecución.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-111">Like all Microsoft products, FileX is distributed with full ANSI C source code, and it has no run-time royalties.</span></span>

### <a name="product-highlights"></a><span data-ttu-id="7b3ad-112">Aspectos destacados del producto</span><span class="sxs-lookup"><span data-stu-id="7b3ad-112">Product Highlights</span></span>

- <span data-ttu-id="7b3ad-113">Soporte completo del procesador ThreadX</span><span class="sxs-lookup"><span data-stu-id="7b3ad-113">Complete ThreadX processor support</span></span>
- <span data-ttu-id="7b3ad-114">Sin regalías</span><span class="sxs-lookup"><span data-stu-id="7b3ad-114">No royalties</span></span>
- <span data-ttu-id="7b3ad-115">Código fuente ANSI C completo</span><span class="sxs-lookup"><span data-stu-id="7b3ad-115">Complete ANSI C source code</span></span>
- <span data-ttu-id="7b3ad-116">Rendimiento en tiempo real</span><span class="sxs-lookup"><span data-stu-id="7b3ad-116">Real-time performance</span></span>
- <span data-ttu-id="7b3ad-117">Soporte técnico con capacidad de respuesta</span><span class="sxs-lookup"><span data-stu-id="7b3ad-117">Responsive technical support</span></span>
- <span data-ttu-id="7b3ad-118">Objetos FileX ilimitados (soportes físicos, directorios y archivos)</span><span class="sxs-lookup"><span data-stu-id="7b3ad-118">Unlimited FileX objects (media, directories, and files)</span></span>
- <span data-ttu-id="7b3ad-119">Creación/eliminación dinámica de objetos FileX</span><span class="sxs-lookup"><span data-stu-id="7b3ad-119">Dynamic FileX object creation/deletion</span></span>
- <span data-ttu-id="7b3ad-120">Uso de memoria flexible</span><span class="sxs-lookup"><span data-stu-id="7b3ad-120">Flexible memory usage</span></span>
- <span data-ttu-id="7b3ad-121">Escala automática de tamaño</span><span class="sxs-lookup"><span data-stu-id="7b3ad-121">Size scales automatically</span></span>
- <span data-ttu-id="7b3ad-122">Tamaño del área de instrucciones con una superficie de memoria pequeña (hasta 6 KB): 6 a 30 KB</span><span class="sxs-lookup"><span data-stu-id="7b3ad-122">Small footprint (as low as 6 KBytes) instruction area size: 6-30K</span></span>
- <span data-ttu-id="7b3ad-123">Integración completa con ThreadX</span><span class="sxs-lookup"><span data-stu-id="7b3ad-123">Complete integration with ThreadX</span></span>
- <span data-ttu-id="7b3ad-124">Endian neutro</span><span class="sxs-lookup"><span data-stu-id="7b3ad-124">Endian neutral</span></span>
- <span data-ttu-id="7b3ad-125">Controladores de E/S de FileX de fácil implementación</span><span class="sxs-lookup"><span data-stu-id="7b3ad-125">Easy-to-implement FileX I/O drivers</span></span>
- <span data-ttu-id="7b3ad-126">Compatibilidad con FAT de 12, 16 y 32 bits</span><span class="sxs-lookup"><span data-stu-id="7b3ad-126">12-, 16-, and 32-bit FAT support</span></span>
- <span data-ttu-id="7b3ad-127">Compatibilidad con exFAT</span><span class="sxs-lookup"><span data-stu-id="7b3ad-127">exFAT support</span></span>
- <span data-ttu-id="7b3ad-128">Compatibilidad con nombres de archivo largos</span><span class="sxs-lookup"><span data-stu-id="7b3ad-128">Long filename support</span></span>
- <span data-ttu-id="7b3ad-129">Caché de entrada FAT interna</span><span class="sxs-lookup"><span data-stu-id="7b3ad-129">Internal FAT entry cache</span></span>
- <span data-ttu-id="7b3ad-130">Compatibilidad con nombres Unicode</span><span class="sxs-lookup"><span data-stu-id="7b3ad-130">Unicode name support</span></span>
- <span data-ttu-id="7b3ad-131">Asignación de archivos contigua</span><span class="sxs-lookup"><span data-stu-id="7b3ad-131">Contiguous file allocation</span></span>
- <span data-ttu-id="7b3ad-132">Lectura y escritura de clústeres y sectores consecutivos</span><span class="sxs-lookup"><span data-stu-id="7b3ad-132">Consecutive sector and cluster read/write</span></span>
- <span data-ttu-id="7b3ad-133">Caché del sector lógico interno</span><span class="sxs-lookup"><span data-stu-id="7b3ad-133">Internal logical sector cache</span></span>
- <span data-ttu-id="7b3ad-134">Ejecuciones de la demostración de disco RAM listas para usar</span><span class="sxs-lookup"><span data-stu-id="7b3ad-134">RAM disk demonstration runs out-of-the-box</span></span>
- <span data-ttu-id="7b3ad-135">Capacidad de soporte físico</span><span class="sxs-lookup"><span data-stu-id="7b3ad-135">Media format capability</span></span>
- <span data-ttu-id="7b3ad-136">Detección de errores y recuperación</span><span class="sxs-lookup"><span data-stu-id="7b3ad-136">Error detection and recovery</span></span>
- <span data-ttu-id="7b3ad-137">Opciones de tolerancia a errores</span><span class="sxs-lookup"><span data-stu-id="7b3ad-137">Fault tolerant options</span></span>
- <span data-ttu-id="7b3ad-138">Estadísticas de rendimiento integradas</span><span class="sxs-lookup"><span data-stu-id="7b3ad-138">Built-in performance statistics</span></span>
- <span data-ttu-id="7b3ad-139">Compatibilidad independiente (sin Azure RTOS)</span><span class="sxs-lookup"><span data-stu-id="7b3ad-139">Standalone support (No Azure RTOS)</span></span>

## <a name="safety-certifications"></a><span data-ttu-id="7b3ad-140">Certificaciones de seguridad</span><span class="sxs-lookup"><span data-stu-id="7b3ad-140">Safety Certifications</span></span>

### <a name="tv-certification"></a><span data-ttu-id="7b3ad-141">Certificación TÜV</span><span class="sxs-lookup"><span data-stu-id="7b3ad-141">TÜV Certification</span></span>

<span data-ttu-id="7b3ad-142">FileX está certificado por SG-TÜV Saar para su uso en sistemas críticos para la seguridad, según CEI-61508 y CEI-62304.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-142">FileX has been certified by SGS-TÜV Saar for use in safety-critical systems, according to IEC-61508 and IEC-62304.</span></span> <span data-ttu-id="7b3ad-143">La certificación confirma que se puede usar FileX en el desarrollo de software relacionado con la seguridad para los niveles de integridad de seguridad más altos de la Comisión electrotécnica internacional (CEI) 61508 e CEI 62304 para la "Seguridad funcional de los sistemas eléctricos, electrónicos y electrónicos programables relacionados con la seguridad".</span><span class="sxs-lookup"><span data-stu-id="7b3ad-143">The certification confirms that FileX can be used in the development of safety-related software for the highest safety integrity levels of the International Electrotechnical Commission (IEC) 61508 and IEC 62304, for the "Functional Safety of electrical, electronic, and programmable electronic safety-related systems."</span></span> <span data-ttu-id="7b3ad-144">SGS-TÜV Saar, que es una sociedad conjunta entre las empresas alemanas SGS-Group y TÜV Saarland, se ha convertido en la empresa líder independiente acreditada para probar, auditar, comprobar y certificar software insertado para sistemas relacionados con la seguridad en todo el mundo.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-144">SGS-TÜV Saar, formed through a joint venture of Germany's SGS-Group and TÜV Saarland, has become the leading accredited, independent company for testing, auditing, verifying, and certifying embedded software for safety-related systems worldwide.</span></span> <span data-ttu-id="7b3ad-145">El estándar de seguridad industrial CEI 61508 y todos los estándares que se derivan de él, incluido CEI 62304, se usan para garantizar la seguridad funcional de los dispositivos médicos eléctricos, electrónicos y electrónicos programables relacionados con la seguridad, los sistemas de control de procesos, la maquinaria industrial y los sistemas de control de ferrocarriles.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-145">The industrial safety standard IEC 61508, and all standards that are derived from it, including IEC 62304, are used to assure the functional safety of electrical, electronic, and programmable electronic safety-related medical devices, process control systems, industrial machinery, and railway control systems.</span></span>

<span data-ttu-id="7b3ad-146">SGS-TÜV Saar ha certificado FileX para su uso en sistemas de automóviles críticos para la seguridad, según el estándar ISO 26262.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-146">SGS-TÜV Saar has certified FileX to be used in safety-critical automotive systems, according to the ISO 26262 standard.</span></span> <span data-ttu-id="7b3ad-147">Además, FileX está certificado para el nivel D de integridad de la seguridad del automóvil (ASIL), que representa el nivel más alto de la certificación ISO 26262.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-147">Furthermore, FileX is certified to Automotive Safety Integrity Level (ASIL) D, which represents the highest level of ISO 26262 certification.</span></span>

<span data-ttu-id="7b3ad-148">Además, SGS-TÜV Saar ha certificado FileX para su uso en aplicaciones ferroviarias críticas para la seguridad, cumpliendo el estándar EN 50128 hasta SW-SIL 4.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-148">In addition, SGS-TÜV Saar has certified FileX to be used in safety-critical railway applications, meeting to the EN 50128 standard up to SW-SIL 4.</span></span>

![Logotipo de SGS-TÜV Saar](./media/user-guide/sgs-tuv-saar-logo.png)

- <span data-ttu-id="7b3ad-150">CEI 61508 hasta SIL 4</span><span class="sxs-lookup"><span data-stu-id="7b3ad-150">IEC 61508 up to SIL 4</span></span>
- <span data-ttu-id="7b3ad-151">CEI 62304 hasta seguridad de software clase C</span><span class="sxs-lookup"><span data-stu-id="7b3ad-151">IEC 62304 up to SW safety Class C</span></span>
- <span data-ttu-id="7b3ad-152">ISO 26262 ASIL nivel D</span><span class="sxs-lookup"><span data-stu-id="7b3ad-152">ISO 26262 ASIL D</span></span>
- <span data-ttu-id="7b3ad-153">EN 50128 SW-SIL 4</span><span class="sxs-lookup"><span data-stu-id="7b3ad-153">EN 50128 SW-SIL 4</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7b3ad-154">Póngase en contacto con nosotros para más información sobre qué versiones de FileX están certificadas por TÜV o para la disponibilidad de informes de las pruebas, certificados y documentación asociada.\*</span><span class="sxs-lookup"><span data-stu-id="7b3ad-154">Please contact us for more information on which version(s) of FileX have been certified by TÜV or for the availability of test reports, certificates, and associated documentation.\*</span></span>

### <a name="ul-certification"></a><span data-ttu-id="7b3ad-155">Certificación UL</span><span class="sxs-lookup"><span data-stu-id="7b3ad-155">UL Certification</span></span>

<span data-ttu-id="7b3ad-156">FileX ha sido certificado por UL por su conformidad con los estándares de seguridad para software de componentes programables UL 60730-1 anexo H, CSA E60730-1 anexo H, CEI 60730-1 anexo H, UL 60335-1 anexo R, CEI 603351 anexo R y UL 1998.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-156">FileX has been certified by UL for compliance with UL 60730-1 Annex H, CSA E60730-1 Annex H, IEC  60730-1 Annex H, UL 60335-1 Annex R, IEC 603351 Annex R, and UL 1998 safety standards for software in programmable components.</span></span> <span data-ttu-id="7b3ad-157">Junto con CEI/UL 60730-1, que tiene requisitos para "Controles que usan software" en el anexo H, el estándar CEI 60335-1 describe los requisitos para "circuitos electrónicos programables" en el anexo R. CEI 60730 en su anexo H y CEI 60335-1 en su anexo R abordan la seguridad del hardware y el software MCU que se usa en dispositivos como lavadoras, lavavajillas, secadoras, frigoríficos, congeladores y hornos.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-157">Along with IEC/UL 60730-1, which has requirements for  "Controls Using Software" in its Annex H, the IEC 60335-1 standard describes the requirements for "Programmable Electronic Circuits" in its Annex R. IEC 60730 Annex H and IEC 60335-1 Annex R address the safety of MCU hardware and software used in appliances such as washing machines, dishwashers, dryers, refrigerators, freezers, and ovens.</span></span>

![Certificación RU US 2](./media/user-guide/c-ru-us-logo.png)

<span data-ttu-id="7b3ad-159">*UL/CEI 60730, UL/CEI 60335, UL 1998*</span><span class="sxs-lookup"><span data-stu-id="7b3ad-159">*UL/IEC 60730, UL/IEC 60335, UL 1998*</span></span>

> [!IMPORTANT]
><span data-ttu-id="7b3ad-160">*Póngase en contacto con nosotros para más información sobre qué versiones de FileX están certificadas por UL o para la disponibilidad de informes de las pruebas, certificados y documentación asociada.*</span><span class="sxs-lookup"><span data-stu-id="7b3ad-160">*Please contact us for more information on which version(s) of FileX have been certified by UL or for the availability of test reports, certificates, and associated documentation.*</span></span>

## <a name="powerful-services-of-filex"></a><span data-ttu-id="7b3ad-161">Servicios eficaces de FileX</span><span class="sxs-lookup"><span data-stu-id="7b3ad-161">Powerful Services of FileX</span></span>

### <a name="multiple-media-management"></a><span data-ttu-id="7b3ad-162">Administración de varios soportes físicos</span><span class="sxs-lookup"><span data-stu-id="7b3ad-162">Multiple Media Management</span></span>

<span data-ttu-id="7b3ad-163">FileX puede admitir un número ilimitado de soportes físicos.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-163">FileX can support an unlimited number of physical media.</span></span> <span data-ttu-id="7b3ad-164">Cada instancia de soporte físico tiene su propia área de memoria independiente y el controlador asociado especificado en la llamada ***fx_media_open***.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-164">Each media instance has its own distinct memory area and associated driver specified on the ***fx_media_open*** call.</span></span> <span data-ttu-id="7b3ad-165">La distribución predeterminada de FileX incluye un controlador de soportes físicos de RAM simple y un sistema de demostración que usa este disco RAM.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-165">The default distribution of FileX comes with a simple RAM media driver and a demonstration system that uses this RAM disk.</span></span>

### <a name="logical-sector-cache"></a><span data-ttu-id="7b3ad-166">Caché del sector lógico</span><span class="sxs-lookup"><span data-stu-id="7b3ad-166">Logical Sector Cache</span></span>

<span data-ttu-id="7b3ad-167">Al reducir el número de transferencias del sector completo, tanto recibidas como emitidas por el soporte físico, la memoria caché del sector lógico de FileX mejora significativamente el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-167">By reducing the number of whole sector transfers, both to and from the media, the FileX logical sector cache significantly improves performance.</span></span> <span data-ttu-id="7b3ad-168">FileX mantiene una caché de sector lógico para cada soporte físico abierto.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-168">FileX maintains a logical sector cache for each opened media.</span></span> <span data-ttu-id="7b3ad-169">La profundidad de la caché del sector lógico viene determinada por la cantidad de memoria proporcionada a FileX con la llamada de API ***fx_media_open***.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-169">The depth of the logical sector cache is determined by the amount of memory supplied to FileX with the ***fx_media_open*** API call.</span></span>

### <a name="contiguous-file-support"></a><span data-ttu-id="7b3ad-170">Compatibilidad con archivos contiguos</span><span class="sxs-lookup"><span data-stu-id="7b3ad-170">Contiguous File Support</span></span>

<span data-ttu-id="7b3ad-171">FileX ofrece compatibilidad con archivos contiguos a través del servicio de API ***fx_file_allocate*** para que el tiempo de acceso a los archivos sea determinista y mejor.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-171">FileX offers contiguous file support through the API service ***fx_file_allocate*** to improve and make file access time deterministic.</span></span> <span data-ttu-id="7b3ad-172">Esta rutina toma la cantidad de memoria solicitada y busca una serie de clústeres adyacentes para cumplir los requisitos de la solicitud.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-172">This routine takes the amount of memory requested and looks for a series of adjacent clusters to satisfy the request.</span></span> <span data-ttu-id="7b3ad-173">Si se encuentran clústeres de estas características, se asignan previamente al incluirlos en le cadena de clústeres asignados del archivo.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-173">If such clusters are found, they are pre-allocated by making them part of the file's chain of allocated clusters.</span></span> <span data-ttu-id="7b3ad-174">En el traslado de soportes físicos, la compatibilidad con archivos contiguos de FileX tiene como resultado una mejora significativa del rendimiento y hace que el tiempo de acceso sea determinista.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-174">On moving physical media, the FileX contiguous file support results in a significant performance improvement and makes the access time deterministic.</span></span>

### <a name="dynamic-creation"></a><span data-ttu-id="7b3ad-175">Creación dinámica</span><span class="sxs-lookup"><span data-stu-id="7b3ad-175">Dynamic Creation</span></span>

<span data-ttu-id="7b3ad-176">FileX permite crear recursos del sistema de manera dinámica.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-176">FileX allows you to create system resources dynamically.</span></span> <span data-ttu-id="7b3ad-177">Esto es particularmente importante si la aplicación tiene varios requisitos de configuración o son dinámicos.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-177">This is especially important if your application has multiple or dynamic configuration requirements.</span></span> <span data-ttu-id="7b3ad-178">Además, no hay ningún límite predeterminado para el número de recursos de FileX que puede usar (soportes físicos o archivos).</span><span class="sxs-lookup"><span data-stu-id="7b3ad-178">In addition, there are no predetermined limits on the number of FileX resources you can use (media or files).</span></span> <span data-ttu-id="7b3ad-179">Además, el número de objetos del sistema no afecta al rendimiento.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-179">Also, the number of system objects does not have any impact on performance.</span></span>

## <a name="easy-to-use-api"></a><span data-ttu-id="7b3ad-180">API fáciles de usar</span><span class="sxs-lookup"><span data-stu-id="7b3ad-180">Easy-to-use API</span></span>

<span data-ttu-id="7b3ad-181">FileX ofrece la mejor tecnología de sistema de archivos con alto grado de inserción de una manera fácil de entender y de usar.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-181">FileX provides the very best deeply embedded file system technology in a manner that is easy to understand and easy to use!</span></span> <span data-ttu-id="7b3ad-182">La interfaz de programación de aplicaciones (API) de FileX hace que los servicios sean intuitivos y coherentes.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-182">The FileX Application Programming Interface (API) makes the services intuitive and consistent.</span></span> <span data-ttu-id="7b3ad-183">No tendrá que descifrar los servicios de "sopa de letras" que son tan comunes con otros sistemas de archivos.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-183">You won't have to decipher "alphabet soup" services that are all too common with other file systems.</span></span>

<span data-ttu-id="7b3ad-184">Para obtener una lista completa de los servicios de FileX versión 5, consulte el [Apéndice A](appendix-a.md).</span><span class="sxs-lookup"><span data-stu-id="7b3ad-184">For a complete list of the FileX Version 5 Services, see [Appendix A](appendix-a.md).</span></span>

## <a name="exfat-support"></a><span data-ttu-id="7b3ad-185">Compatibilidad con exFAT</span><span class="sxs-lookup"><span data-stu-id="7b3ad-185">exFAT Support</span></span>

<span data-ttu-id="7b3ad-186">exFAT (tabla de asignación de archivos extendida) es un sistema de archivos diseñado por Microsoft para que el tamaño de los archivos pueda superar los 2 GB, que es el límite impuesto por los sistemas de archivos FAT32.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-186">exFAT (extended File Allocation Table) is a file system designed by Microsoft to allow file size to exceed 2GB, a limit imposed by FAT32 file systems.</span></span> <span data-ttu-id="7b3ad-187">Es el sistema de archivos predeterminado para las tarjetas SD con una capacidad superior a 32 GB.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-187">It is the default file system for SD cards with capacity over 32GB.</span></span> <span data-ttu-id="7b3ad-188">Las tarjetas SD o unidades flash USB con el formato exFAT de FileX son compatibles con Windows.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-188">SD cards or flash drives formatted with FileX exFAT format are compatible with Windows.</span></span> <span data-ttu-id="7b3ad-189">exFAT admite un tamaño de archivo de hasta un exabyte (EB), que es aproximadamente de mil millones de GB.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-189">exFAT supports file size up to one Exabyte (EB), which is approximately one billion GB.</span></span>

<span data-ttu-id="7b3ad-190">Los usuarios que quieran usar exFAT deben volver a compilar la biblioteca de FileX con el símbolo \***FX_ENABLE_EXFAT** _ definido.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-190">Users wishing to use exFAT must recompile the FileX library with the symbol \***FX_ENABLE_EXFAT** _ defined.</span></span> <span data-ttu-id="7b3ad-191">Al abrir un soporte físico, FileX detecta su tipo.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-191">When opening media, FileX detects the media type.</span></span> <span data-ttu-id="7b3ad-192">Si el soporte físico se formatea con exFAT, FileX lee y escribe el sistema de archivos según el estándar exFAT.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-192">If the media is formatted with exFAT, FileX reads and writes the file system following exFAT standard.</span></span> <span data-ttu-id="7b3ad-193">Para dar formato a soportes físicos nuevos con exFAT, use el servicio _\*_fx_media_exFAT_format_\*\*.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-193">To format new media with exFAT, use the service _\*_fx_media_exFAT_format_\*\*.</span></span> <span data-ttu-id="7b3ad-194">De manera predeterminada, exFAT no está habilitado.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-194">By default exFAT is not enabled.</span></span>

## <a name="fault-tolerant-support"></a><span data-ttu-id="7b3ad-195">Compatibilidad con tolerancia a errores</span><span class="sxs-lookup"><span data-stu-id="7b3ad-195">Fault Tolerant Support</span></span>

<span data-ttu-id="7b3ad-196">El módulo de tolerancia a errores de FileX está diseñado para evitar daños en el sistema de archivos que sean ocasionados por interrupciones durante la actualización de archivos o directorios.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-196">The FileX Fault Tolerant Module is designed to prevent file system corruption caused by interruptions during the file or directory update.</span></span> <span data-ttu-id="7b3ad-197">Por ejemplo, al anexar datos a un archivo, FileX necesita actualizar el contenido del archivo, la entrada del directorio y, posiblemente, las entradas FAT.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-197">For example, when appending data to a file, FileX needs to update the content of the file, the directory entry, and possibly the FAT entries.</span></span> <span data-ttu-id="7b3ad-198">Si se interrumpe esta secuencia de actualización (por ejemplo, se genera un problema de alimentación o se expulsa el soporte físico durante la actualización), el sistema de archivos se encuentra en un estado incoherente, lo que puede afectar a la integridad de todo el sistema de archivos y provocar daños en otros archivos.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-198">If this sequence of update is interrupted (such as power glitch, or the media is ejected in the middle of the update), the file system is in an inconsistent state, which may affect the integrity of the entire file system, leading towards corruption of other files.</span></span>

<span data-ttu-id="7b3ad-199">El módulo de tolerancia a errores de FileX graba todos los pasos necesarios para actualizar un archivo o un directorio a lo largo del proceso.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-199">The FileX Fault Tolerant Module works by recording all steps required to update a file or a directory along the way.</span></span> <span data-ttu-id="7b3ad-200">Esta entrada de registro se almacena en el soporte físico en sectores dedicados (bloques) que FileX puede buscar y acceder.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-200">This log entry is stored on the media in dedicated sectors (blocks) that FileX can find and access.</span></span> <span data-ttu-id="7b3ad-201">Puede acceder a la ubicación de los datos de registro incluso si no hay un sistema de archivos adecuado.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-201">The location of the log data can be accessed even without a proper file system.</span></span> <span data-ttu-id="7b3ad-202">Por lo tanto, en caso de que el sistema de archivos esté dañado, FileX aún podrá buscar la entrada de registro y volver a restaurar el sistema de archivos a un estado correcto.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-202">Therefore, in case the file system is corrupted, FileX is still able to find the log entry and restore the file system back into a good state.</span></span>

<span data-ttu-id="7b3ad-203">Cuando FileX actualiza el archivo o el directorio, se crean las entradas de registro.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-203">As FileX updates file or directory, log entries are created.</span></span> <span data-ttu-id="7b3ad-204">Una vez completada correctamente la operación de actualización, se quitan las entradas del registro.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-204">After the update operation is successfully completed, the log entries are removed.</span></span> <span data-ttu-id="7b3ad-205">Si las entradas del registro no se quitaron correctamente después de una actualización correcta del archivo y el proceso de recuperación determina que el contenido de la entrada del registro coincide con el sistema de archivos, no es necesario hacer nada y se pueden limpiar las entradas del registro.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-205">If the log entries were not properly removed after a successful file update, if the recovery process determines that the content in the log entry matches the file system, nothing needs to be done, and the log entries can be cleaned up.</span></span>

<span data-ttu-id="7b3ad-206">Si se interrumpiera la operación de actualización del sistema de archivos, la próxima vez que FileX monte el soporte físico, el módulo de tolerancia a errores analizará las entradas del registro.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-206">In case the file system update operation was interrupted, next time the media is mounted by FileX, the Fault Tolerant Module analyzes the log entries.</span></span> <span data-ttu-id="7b3ad-207">La información de las entradas del registro permite que FileX revierta los cambios parciales ya aplicados al sistema de archivos (en caso de que el error se produzca durante una fase temprana de la operación de actualización de archivos). Además, si las entradas del registro contienen información de repetición, FileX puede aplicar los cambios necesarios para finalizar la operación anterior.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-207">The information in the log entries allows FileX to back out partial changes already applied to the file system (in case the failure happens during the early stage of the file update operation), or if the log entries contain re-do information, FileX is able to apply the changes required to finish the prior operation.</span></span>

<span data-ttu-id="7b3ad-208">La característica de tolerancia a errores de FileX está disponible para todos los sistemas de archivos FAT compatibles con FileX, como FAT12, FAT16, FAT32 y exFAT.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-208">This fault tolerant feature is available to all FAT file systems supported by FileX, including FAT12, FAT16, FAT32, and exFAT.</span></span> <span data-ttu-id="7b3ad-209">De manera predeterminada, la tolerancia a errores no está habilitada en FileX.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-209">By default fault tolerant is not enabled in FileX.</span></span> <span data-ttu-id="7b3ad-210">Para habilitar la característica de tolerancia a errores, FileX se debe crear con el símbolo **FX_ENABLE_FAULT_TOLERANT** y **FX_FAULT_TOLERANT** definido.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-210">To enable the fault tolerant feature, FileX must be built with the symbol  **FX_ENABLE_FAULT_TOLERANT** and **FX_FAULT_TOLERANT** defined.</span></span> <span data-ttu-id="7b3ad-211">En el tiempo de ejecución, la aplicación inicia el servicio de tolerancia a errores mediante una llamada a **_fx_fault_tolerant_enable_**.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-211">At run time, the application starts fault tolerant service by calling **_fx_fault_tolerant_enable_**.</span></span>
<span data-ttu-id="7b3ad-212">Una vez iniciado el servicio, todas las operaciones de escritura de archivos y directorios pasan por el módulo de tolerancia a errores.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-212">After the service starts, all file and directory write operations go through the Fault Tolerant Module.</span></span>

<span data-ttu-id="7b3ad-213">A medida que se inicia el servicio de tolerancia a errores, primero detecta si el soporte físico está protegido o no en el módulo de tolerancia a errores.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-213">As fault tolerant service starts, it first detects whether or not the media is protected under the Fault Tolerant Module.</span></span> <span data-ttu-id="7b3ad-214">Si no es así, FileX asume la integridad del sistema de archivos e inicia la protección mediante la asignación de bloques libres del sistema de archivos que se usarán para el registro y el almacenamiento en caché.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-214">If it is not, FileX assumes integrity of the file system, and starts protection by allocating free blocks from the file system to be used for logging and caching.</span></span> <span data-ttu-id="7b3ad-215">Si los registros del módulo de tolerancia a errores se encuentran en el sistema de archivos, analiza las entradas del registro.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-215">If the Fault Tolerant Module logs are found on the file system, it analyzes the log entries.</span></span> <span data-ttu-id="7b3ad-216">FileX revierte la operación anterior o vuelve a realizar la operación anterior, según el contenido de las entradas del registro.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-216">FileX reverts the prior operation or redoes the prior operation, depending on the content of the log entries.</span></span> <span data-ttu-id="7b3ad-217">El sistema de archivos está disponible una vez procesadas todas las entradas de registro anteriores.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-217">The file system becomes available after all the prior log entries are processed.</span></span> <span data-ttu-id="7b3ad-218">Esto garantiza que FIleX se inicia a partir de un estado correcto conocido.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-218">This ensures that FIleX starts from a known good state.</span></span>

<span data-ttu-id="7b3ad-219">Después de proteger un soporte físico en el módulo de tolerancia a errores de FileX, dicho soporte físico no se actualizará con otro sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-219">After a media is protected under the FileX Fault Tolerant Module, the media will not be updated with another file system.</span></span> <span data-ttu-id="7b3ad-220">Si lo actualiza de esta manera, las entradas de registro en el sistema de archivos no serán coherentes con el contenido de la tabla FAT, la entrada de directorio.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-220">Doing so would leave the log entries on the file system inconsistent with the contents in the FAT table, the directory entry.</span></span> <span data-ttu-id="7b3ad-221">Si el soporte físico se actualiza por otro sistema de archivos antes de trasladarlo de vuelta a FileX con el módulo de tolerancia a errores, el resultado es indefinido.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-221">If the media is updated by another file system before moving it back to FileX with the Fault Tolerant Module, the result is undefined.</span></span>

## <a name="callback-functions"></a><span data-ttu-id="7b3ad-222">Funciones de devolución de llamada</span><span class="sxs-lookup"><span data-stu-id="7b3ad-222">Callback Functions</span></span>

<span data-ttu-id="7b3ad-223">Las tres funciones de devolución de llamada siguientes se agregaron a FileX:</span><span class="sxs-lookup"><span data-stu-id="7b3ad-223">The following three callback functions are added to FileX:</span></span>

- <span data-ttu-id="7b3ad-224">Devolución de llamada de apertura de soporte físico</span><span class="sxs-lookup"><span data-stu-id="7b3ad-224">Media Open callback</span></span>
- <span data-ttu-id="7b3ad-225">Devolución de llamada de cierre de soporte físico</span><span class="sxs-lookup"><span data-stu-id="7b3ad-225">Media Close callback</span></span>
- <span data-ttu-id="7b3ad-226">Devolución de llamada de escritura en archivo</span><span class="sxs-lookup"><span data-stu-id="7b3ad-226">File Write callback</span></span>

<span data-ttu-id="7b3ad-227">Tras su registro, estas funciones notificarán a la aplicación cuando se produzcan dichos eventos.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-227">After registered, these functions will notify the application when such events occur.</span></span>

## <a name="easy-integration"></a><span data-ttu-id="7b3ad-228">Fácil integración</span><span class="sxs-lookup"><span data-stu-id="7b3ad-228">Easy Integration</span></span>

<span data-ttu-id="7b3ad-229">FileX se integra fácilmente con prácticamente cualquier unidad flash o soporte físico.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-229">FileX is easily integrated with virtually any FLASH or media device.</span></span> <span data-ttu-id="7b3ad-230">La portabilidad de FileX es sencilla.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-230">Porting FileX is simple.</span></span> <span data-ttu-id="7b3ad-231">En esta guía se describe el proceso de manera detallada y el controlador de RAM del sistema de demostración hace que sea un buen punto de partida.</span><span class="sxs-lookup"><span data-stu-id="7b3ad-231">This guide describes the process in detail, and the RAM driver of the demo system makes for a very good place to start!</span></span>
